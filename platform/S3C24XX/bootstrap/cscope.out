cscope 15 /mnt/workpath/embedded_project/S3C24XX/bootstrap -q 0000002259 0000189516
	@bignum.c

27 #i‚de‡
_CRT_SECURE_NO_DEPRECATE


28 
	#_CRT_SECURE_NO_DEPRECATE
 1

	)

30 
	~<comm⁄.h
>

31 
	~<bignum.h
>

36 
	#BITS_TO_LIMBS
(
i
Ë(((iË+ 
biL
 - 1Ë/ biL)

	)

37 
	#CHARS_TO_LIMBS
(
i
Ë(((iË+ 
ciL
 - 1Ë/ ciL)

	)

42 
	$mpi_öô
–
mpi
 *
X
, ... )

44 
va_li°
 
¨gs
;

46 
	`va_°¨t
–
¨gs
, 
X
 );

48  
X
 !
NULL
 )

50 
	`mem£t
–
X
, 0, –
mpi
 ) );

51 
X
 = 
	`va_¨g
–
¨gs
, 
mpi
* );

54 
	`va_íd
–
¨gs
 );

55 
	}
}

60 
	$mpi_‰ì
–
mpi
 *
X
, ... )

62 
va_li°
 
¨gs
;

64 
	`va_°¨t
–
¨gs
, 
X
 );

66  
X
 !
NULL
 )

68 if–
X
->
p
 !
NULL
 )

70 
	`mem£t
–
X
->
p
, 0, X->
n
 * 
ciL
 );

71 
	`‰ì
–
X
->
p
 );

74 
	`mem£t
–
X
, 0, –
mpi
 ) );

76 
X
 = 
	`va_¨g
–
¨gs
, 
mpi
* );

79 
	`va_íd
–
¨gs
 );

80 
	}
}

85 
	$mpi_grow
–
mpi
 *
X
, 
nblimbs
 )

87 
n
 = 
X
->n;

89 if–
n
 < 
nblimbs
 )

91 if–
X
->
s
 == 0 )

92 
X
->
s
 = 1;

94 
X
->
n
 = 
nblimbs
;

95 
X
->
p
 = (
t_öt
 *Ë
	`ªÆloc
–X->p, X->
n
 * 
ciL
 );

97 if–
X
->
p
 =
NULL
 )

100 
	`mem£t
–
X
->
p
 + 
n
, 0, ( X->¿-Ç ) * 
ciL
 );

104 
	}
}

109 
	$mpi_c›y
–
mpi
 *
X
, mpò*
Y
 )

111 
ªt
, 
i
;

113 if–
X
 =
Y
 )

116  
i
 = 
Y
->
n
 - 1; i > 0; i-- )

117 if–
Y
->
p
[
i
] != 0 )

119 
i
++;

121 
X
->
s
 = 
Y
->s;

123 
	`CHK
–
	`mpi_grow
–
X
, 
i
 ) );

125 
	`mem£t
–
X
->
p
, 0, X->
n
 * 
ciL
 );

126 
	`mem˝y
–
X
->
p
, 
Y
->p, 
i
 * 
ciL
 );

128 
˛ónup
:

130 –
ªt
 );

131 
	}
}

136 
	$mpi_sw≠
–
mpi
 *
X
, mpò*
Y
 )

138 
mpi
 
T
;

140 
	`mem˝y
–&
T
, 
X
 , –
mpi
 ) );

141 
	`mem˝y
–
X
 , 
Y
 , –
mpi
 ) );

142 
	`mem˝y
–
Y
 , &
T
, –
mpi
 ) );

143 
	}
}

148 
	$mpi_l£t
–
mpi
 *
X
, 
z
 )

150 
ªt
;

152 
	`CHK
–
	`mpi_grow
–
X
, 1 ) );

153 
	`mem£t
–
X
->
p
, 0, X->
n
 * 
ciL
 );

154 
X
->
p
[0] = ( 
z
 < 0 ) ? -z : z;

155 
X
->
s
 = ( 
z
 < 0 ) ? -1 : 1;

157 
˛ónup
:

159 –
ªt
 );

160 
	}
}

165 
	$mpi_gë_digô
–
t_öt
 *
d
, 
ødix
, 
c
 )

167 *
d
 = 16;

169 if–
c
 >0x30 && c <0x39 ) *
d
 = c - 0x30;

170 if–
c
 >0x41 && c <0x46 ) *
d
 = c - 0x37;

171 if–
c
 >0x61 && c <0x66 ) *
d
 = c - 0x57;

173 if–*
d
 >(
t_öt
Ë
ødix
 )

174 –
ERR_MPI_INVALID_CHARACTER
 );

177 
	}
}

182 
	$mpi_ªad
–
mpi
 *
X
, *
s
, 
ødix
 )

184 
ªt
, 
i
, 
j
, 
n
;

185 
t_öt
 
d
;

186 
mpi
 
T
;

188 if–
ødix
 < 2 ||Ñadix > 16 )

189 –
ERR_MPI_INVALID_PARAMETER
 );

191 
	`mpi_öô
–&
T
, 
NULL
 );

193 if–
ødix
 == 16 )

195 
n
 = 
	`BITS_TO_LIMBS
–
	`°æí
(
s
) << 2 );

197 
	`CHK
–
	`mpi_grow
–
X
, 
n
 ) );

198 
	`CHK
–
	`mpi_l£t
–
X
, 0 ) );

200  
i
 = 
	`°æí
–
s
 ) - 1, 
j
 = 0; i >= 0; i--, j++ )

202 if–
i
 =0 && 
s
[i] == '-' )

204 
X
->
s
 = -1;

208 
	`CHK
–
	`mpi_gë_digô
–&
d
, 
ødix
, 
s
[
i
] ) );

209 
X
->
p
[
j
 / (
ciL
 * 2)] |
d
 << ( (j % (ciL * 2)) << 2 );

214 
	`CHK
–
	`mpi_l£t
–
X
, 0 ) );

216  
i
 = 0; i < (Ë
	`°æí
–
s
 ); i++ )

218 if–
i
 =0 && 
s
[i] == '-' )

220 
X
->
s
 = -1;

224 
	`CHK
–
	`mpi_gë_digô
–&
d
, 
ødix
, 
s
[
i
] ) );

225 
	`CHK
–
	`mpi_mul_öt
–&
T
, 
X
, 
ødix
 ) );

226 
	`CHK
–
	`mpi_add_öt
–
X
, &
T
, 
d
 ) );

230 
˛ónup
:

232 
	`mpi_‰ì
–&
T
, 
NULL
 );

233 –
ªt
 );

234 
	}
}

239 
	$mpi_ªcur£_showf
–
mpi
 *
X
, 
ødix
, 
FILE
 *
fout
 )

241 
ªt
;

242 
t_öt
 
r
;

244 if–
ødix
 < 2 ||Ñadix > 16 )

245 –
ERR_MPI_INVALID_PARAMETER
 );

247 
	`CHK
–
	`mpi_mod_öt
–&
r
, 
X
, 
ødix
 ) );

248 
	`CHK
–
	`mpi_div_öt
–
X
, 
NULL
, X, 
ødix
 ) );

250 if–
	`mpi_cmp_öt
–
X
, 0 ) != 0 )

251 
	`CHK
–
	`mpi_ªcur£_showf
–
X
, 
ødix
, 
fout
 ) );

253 if–
fout
 !
NULL
 )

254 
	`Ârötf
–
fout
, "%c", ( 
r
 < 10 ) ? ( ()Ñ + 0x30 )

255 : ( (Ë
r
 + 0x37 ) );

257 
	`¥ötf
–"%c", ( 
r
 < 10 ) ? ( ()Ñ + 0x30 )

258 : ( (Ë
r
 + 0x37 ) );

260 
˛ónup
:

262 –
ªt
 );

263 
	}
}

268 
	$mpi_showf
–*
«me
, 
mpi
 *
X
, 
ødix
, 
FILE
 *
fout
 )

270 
ªt
, 
i
, 
j
, 
k
, 
l
;

271 
mpi
 
T
;

273 if–
ødix
 < 2 ||Ñadix > 16 )

274 –
ERR_MPI_INVALID_PARAMETER
 );

276 
	`mpi_öô
–&
T
, 
NULL
 );

278 if–
fout
 !
NULL
 )

279 
	`Ârötf
–
fout
, "%s%c", 
«me
, ( 
X
->
s
 == -1 ) ? '-' : ' ' );

281 
	`¥ötf
–"%s%c", 
«me
, ( 
X
->
s
 == -1 ) ? '-' : ' ' );

283 if–
ødix
 == 16 )

285 
ªt
 = 0;

287  
i
 = 
X
->
n
 - 1, 
l
 = 0; i >= 0; i-- )

289  
j
 = 
ciL
 - 1; j >= 0; j-- )

291 
k
 = ( 
X
->
p
[
i
] >> (
j
 << 3) ) & 0xFF;

293 if–
k
 =0 && 
l
 =0 && (
i
 + 
j
) != 0 )

296 if–
fout
 !
NULL
 )

297 
	`Ârötf
–
fout
, "%02X", 
k
 );

299 
	`¥ötf
–"%02X", 
k
 );

301 
l
 = 1;

307 
	`CHK
–
	`mpi_c›y
–&
T
, 
X
 ) );

308 
	`CHK
–
	`mpi_ªcur£_showf
–&
T
, 
ødix
, 
fout
 ) );

311 if–
fout
 !
NULL
 )

312 
	`Ârötf
–
fout
, "\n" );

314 
	`¥ötf
( "\n" );

316 
˛ónup
:

318 
	`mpi_‰ì
–&
T
, 
NULL
 );

319 –
ªt
 );

320 
	}
}

325 
	$mpi_show
–*
«me
, 
mpi
 *
X
, 
ødix
 )

327 –
	`mpi_showf
–
«me
, 
X
, 
ødix
, 
NULL
 ) );

328 
	}
}

333 
	$mpi_imp‹t
–
mpi
 *
X
, *
buf
, 
buÊí
 )

335 
ªt
, 
i
, 
j
, 
n
;

337  
n
 = 0;Ç < 
buÊí
;Ç++ )

338 if–
buf
[
n
] != 0 )

341 
	`CHK
–
	`mpi_grow
–
X
, 
	`CHARS_TO_LIMBS
(
buÊí
 - 
n
) ) );

342 
	`CHK
–
	`mpi_l£t
–
X
, 0 ) );

344  
i
 = 
buÊí
 - 1, 
j
 = 0; i >
n
; i--, j++ )

345 
X
->
p
[
j
 / 
ciL
] |(
t_öt
Ë
buf
[
i
] << ((j % ciL ) << 3);

347 
˛ónup
:

349 –
ªt
 );

350 
	}
}

355 
	$mpi_exp‹t
–
mpi
 *
X
, *
buf
, *
buÊí
 )

357 
i
, 
j
, 
n
, 
ûí
;

359 
n
 = ( 
	`mpi_size
–
X
 ) + 7 ) >> 3;

360 
ûí
 = 
n
;

362 if–*
buÊí
 < 
n
 )

364 *
buÊí
 = 
n
;

365 –
ERR_MPI_BUFFER_TOO_SMALL
 );

370 
	`mem£t
–
buf
, 0, *
buÊí
 );

372  
i
 = *
buÊí
 - 1, 
j
 = 0; 
n
 > 0; i--, j++,Ç-- )

373 
buf
[
i
] = (Ë(
X
->
p
[
j
 / 
ciL
] >> ((j % ciL) << 3));

378 
	}
}

383 
	$mpi_size
–
mpi
 *
X
 )

385 
i
, 
j
;

387  
i
 = 
X
->
n
 - 1; i > 0; i-- )

388 if–
X
->
p
[
i
] != 0 )

391  
j
 = 
biL
 - 1; j >= 0; j-- )

392 if–––
X
->
p
[
i
] >> 
j
 ) & 1 ) != 0 )

395 ––
i
 * 
biL
 ) + 
j
 + 1 );

396 
	}
}

401 
	$mpi_lsb
–
mpi
 *
X
 )

403 
i
, 
j
, 
cou¡
 = 0;

405  
i
 = 0; i < 
X
->
n
; i++ )

406  
j
 = 0; j < (Ë
biL
; j++, 
cou¡
++ )

407 if–––
X
->
p
[
i
] >> 
j
 ) & 1 ) != 0 )

408 –
cou¡
 );

411 
	}
}

416 
	$mpi_shi·_l
–
mpi
 *
X
, 
cou¡
 )

418 
ªt
, 
i
, 
v0
, 
t1
;

419 
t_öt
 
r0
 = 0, 
r1
;

421 
v0
 = 
cou¡
 / 
biL
;

422 
t1
 = 
cou¡
 & (
biL
 - 1);

424 
i
 = 
	`mpi_size
–
X
 ) + 
cou¡
;

426 if–
X
->
n
 * (Ë
biL
 < 
i
 )

427 
	`CHK
–
	`mpi_grow
–
X
, 
	`BITS_TO_LIMBS
–
i
 ) ) );

429 
ªt
 = 0;

434 if–
v0
 > 0 )

436  
i
 = 
X
->
n
 - 1; i >
v0
; i-- )

437 
X
->
p
[
i
] = X->p[ò- 
v0
];

439  ; 
i
 >= 0; i-- )

440 
X
->
p
[
i
] = 0;

446 if–
t1
 > 0 )

448  
i
 = 
v0
; i < 
X
->
n
; i++ )

450 
r1
 = 
X
->
p
[
i
] >> (
biL
 - 
t1
);

451 
X
->
p
[
i
] <<
t1
;

452 
X
->
p
[
i
] |
r0
;

453 
r0
 = 
r1
;

457 
˛ónup
:

459 –
ªt
 );

460 
	}
}

465 
	$mpi_shi·_r
–
mpi
 *
X
, 
cou¡
 )

467 
i
, 
v0
, 
v1
;

468 
t_öt
 
r0
 = 0, 
r1
;

470 
v0
 = 
cou¡
 / 
biL
;

471 
v1
 = 
cou¡
 & (
biL
 - 1);

476 if–
v0
 > 0 )

478  
i
 = 0; i < 
X
->
n
 - 
v0
; i++ )

479 
X
->
p
[
i
] = X->p[ò+ 
v0
];

481  ; 
i
 < 
X
->
n
; i++ )

482 
X
->
p
[
i
] = 0;

488 if–
v1
 > 0 )

490  
i
 = 
X
->
n
 - 1; i >= 0; i-- )

492 
r1
 = 
X
->
p
[
i
] << (
biL
 - 
v1
);

493 
X
->
p
[
i
] >>
v1
;

494 
X
->
p
[
i
] |
r0
;

495 
r0
 = 
r1
;

500 
	}
}

505 
	$mpi_cmp_abs
–
mpi
 *
X
, mpò*
Y
 )

507 
i
, 
j
;

509  
i
 = 
X
->
n
 - 1; i >= 0; i-- )

510 if–
X
->
p
[
i
] != 0 )

513  
j
 = 
Y
->
n
 - 1; j >= 0; j-- )

514 if–
Y
->
p
[
j
] != 0 )

517 if–
i
 < 0 && 
j
 < 0 )

520 if–
i
 > 
j
 ) ( 1 );

521 if–
j
 > 
i
 ) ( -1 );

523  ; 
i
 >= 0; i-- )

525 if–
X
->
p
[
i
] > 
Y
->p[i] ) ( 1 );

526 if–
X
->
p
[
i
] < 
Y
->p[i] ) ( -1 );

530 
	}
}

535 
	$mpi_cmp_mpi
–
mpi
 *
X
, mpò*
Y
 )

537 
i
, 
j
;

539  
i
 = 
X
->
n
 - 1; i >= 0; i-- )

540 if–
X
->
p
[
i
] != 0 )

543  
j
 = 
Y
->
n
 - 1; j >= 0; j-- )

544 if–
Y
->
p
[
j
] != 0 )

547 if–
i
 < 0 && 
j
 < 0 )

550 if–
i
 > 
j
 ) –
X
->
s
 );

551 if–
j
 > 
i
 ) –-
X
->
s
 );

553 if–
X
->
s
 > 0 && 
Y
->s < 0 ) ( 1 );

554 if–
Y
->
s
 > 0 && 
X
->s < 0 ) ( -1 );

556  ; 
i
 >= 0; i-- )

558 if–
X
->
p
[
i
] > 
Y
->p[i] ) –X->
s
 );

559 if–
X
->
p
[
i
] < 
Y
->p[i] ) –-X->
s
 );

563 
	}
}

568 
	$mpi_cmp_öt
–
mpi
 *
X
, 
z
 )

570 
mpi
 
Y
;

571 
t_öt
 
p
[1];

573 *
p
 = ( 
z
 < 0 ) ? -z : z;

574 
Y
.
s
 = ( 
z
 < 0 ) ? -1 : 1;

575 
Y
.
n
 = 1;

576 
Y
.
p
 =Ö;

578 –
	`mpi_cmp_mpi
–
X
, &
Y
 ) );

579 
	}
}

584 
	$mpi_add_abs
–
mpi
 *
X
, mpò*
A
, mpò*
B
 )

586 
ªt
, 
i
, 
j
;

587 
t_öt
 *
o
, *
p
, 
c
;

589 if–
X
 =
B
 )

591 
mpi
 *
T
 = 
A
; A = 
X
; 
B
 = T;

594 if–
X
 !
A
 )

595 
	`CHK
–
	`mpi_c›y
–
X
, 
A
 ) );

597  
j
 = 
B
->
n
 - 1; j >= 0; j-- )

598 if–
B
->
p
[
j
] != 0 )

601 
	`CHK
–
	`mpi_grow
–
X
, 
j
 + 1 ) );

603 
o
 = 
B
->
p
;Ö = 
X
->p; 
c
 = 0;

605  
i
 = 0; i <
j
; i++, 
o
++, 
p
++ )

607 *
p
 +
c
; c = ( *p < c );

608 *
p
 +*
o
; 
c
 += ( *p < *o );

611  
c
 != 0 )

613 if–
i
 >
X
->
n
 )

615 
	`CHK
–
	`mpi_grow
–
X
, 
i
 + 1 ) );

616 
p
 = 
X
->∞+ 
i
;

619 *
p
 +
c
; c = ( *∞< c ); 
i
++;

622 
˛ónup
:

624 –
ªt
 );

625 
	}
}

630 
	$mpi_sub_hÕ
–
n
, 
t_öt
 *
s
,Å_öà*
d
 )

632 
i
;

633 
t_öt
 
c
, 
z
;

635  
i
 = 
c
 = 0; i < 
n
; i++, 
s
++, 
d
++ )

637 
z
 = ( *
d
 < 
c
 ); *d -= c;

638 
c
 = ( *
d
 < *
s
 ) + 
z
; *d -= *s;

641  
c
 != 0 )

643 
z
 = ( *
d
 < 
c
 ); *d -= c;

644 
c
 = 
z
; 
i
++; 
d
++;

646 
	}
}

651 
	$mpi_sub_abs
–
mpi
 *
X
, mpò*
A
, mpò*
B
 )

653 
mpi
 
TB
;

654 
ªt
, 
n
;

656 if–
	`mpi_cmp_abs
–
A
, 
B
 ) < 0 )

657 –
ERR_MPI_NEGATIVE_VALUE
 );

659 
	`mpi_öô
–&
TB
, 
NULL
 );

661 if–
X
 =
B
 )

663 
	`CHK
–
	`mpi_c›y
–&
TB
, 
B
 ) );

664 
B
 = &
TB
;

667 if–
X
 !
A
 )

668 
	`CHK
–
	`mpi_c›y
–
X
, 
A
 ) );

670 
ªt
 = 0;

672  
n
 = 
B
->n - 1;Ç >= 0;Ç-- )

673 if–
B
->
p
[
n
] != 0 )

676 
	`mpi_sub_hÕ
–
n
 + 1, 
B
->
p
, 
X
->p );

678 
˛ónup
:

680 
	`mpi_‰ì
–&
TB
, 
NULL
 );

681 –
ªt
 );

682 
	}
}

687 
	$mpi_add_mpi
–
mpi
 *
X
, mpò*
A
, mpò*
B
 )

689 
ªt
, 
s
 = 
A
->s;

691 if–
A
->
s
 * 
B
->s < 0 )

693 if–
	`mpi_cmp_abs
–
A
, 
B
 ) >= 0 )

695 
	`CHK
–
	`mpi_sub_abs
–
X
, 
A
, 
B
 ) );

696 
X
->
s
 = s;

700 
	`CHK
–
	`mpi_sub_abs
–
X
, 
B
, 
A
 ) );

701 
X
->
s
 = -s;

706 
	`CHK
–
	`mpi_add_abs
–
X
, 
A
, 
B
 ) );

707 
X
->
s
 = s;

710 
˛ónup
:

712 –
ªt
 );

713 
	}
}

718 
	$mpi_sub_mpi
–
mpi
 *
X
, mpò*
A
, mpò*
B
 )

720 
ªt
, 
s
 = 
A
->s;

722 if–
A
->
s
 * 
B
->s > 0 )

724 if–
	`mpi_cmp_abs
–
A
, 
B
 ) >= 0 )

726 
	`CHK
–
	`mpi_sub_abs
–
X
, 
A
, 
B
 ) );

727 
X
->
s
 = s;

731 
	`CHK
–
	`mpi_sub_abs
–
X
, 
B
, 
A
 ) );

732 
X
->
s
 = -s;

737 
	`CHK
–
	`mpi_add_abs
–
X
, 
A
, 
B
 ) );

738 
X
->
s
 = s;

741 
˛ónup
:

743 –
ªt
 );

744 
	}
}

749 
	$mpi_add_öt
–
mpi
 *
X
, mpò*
A
, 
b
 )

751 
mpi
 
_B
;

752 
t_öt
 
p
[1];

754 
p
[0] = ( 
b
 < 0 ) ? -b : b;

755 
_B
.
s
 = ( 
b
 < 0 ) ? -1 : 1;

756 
_B
.
n
 = 1;

757 
_B
.
p
 =Ö;

759 –
	`mpi_add_mpi
–
X
, 
A
, &
_B
 ) );

760 
	}
}

765 
	$mpi_sub_öt
–
mpi
 *
X
, mpò*
A
, 
b
 )

767 
mpi
 
_B
;

768 
t_öt
 
p
[1];

770 
p
[0] = ( 
b
 < 0 ) ? -b : b;

771 
_B
.
s
 = ( 
b
 < 0 ) ? -1 : 1;

772 
_B
.
n
 = 1;

773 
_B
.
p
 =Ö;

775 –
	`mpi_sub_mpi
–
X
, 
A
, &
_B
 ) );

776 
	}
}

781 
	$mpi_mul_hÕ
–
i
, 
t_öt
 *
s
,Å_öà*
d
,Å_öà
b
 )

783 
t_öt
 
c
 = 0;

785 #i‡
	`deföed
(
MULADDC_HUIT
)

787  ; 
i
 >= 8; i -= 8 )

789 
MULADDC_INIT


790 
MULADDC_HUIT


791 
MULADDC_STOP


794  ; 
i
 > 0; i-- )

796 
MULADDC_INIT


797 
MULADDC_CORE


798 
MULADDC_STOP


802 if–
i
 == 32 )

804 
MULADDC_INIT


805 
MULADDC_CORE
 MULADDC_CORE

806 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

807 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

809 
MULADDC_CORE
 MULADDC_CORE

810 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

811 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

812 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

813 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

814 
MULADDC_CORE
 MULADDC_CORE

816 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

817 
MULADDC_CORE
 MULADDC_CORE MULADDC_CORE

818 
MULADDC_CORE
 MULADDC_CORE

819 
MULADDC_STOP


823 if–
i
 == 16 )

825 
MULADDC_INIT


826 
MULADDC_CORE
 MULADDC_CORE

827 
MULADDC_CORE
 MULADDC_CORE

828 
MULADDC_CORE
 MULADDC_CORE

829 
MULADDC_CORE
 MULADDC_CORE

831 
MULADDC_CORE
 MULADDC_CORE

832 
MULADDC_CORE
 MULADDC_CORE

833 
MULADDC_CORE
 MULADDC_CORE

834 
MULADDC_CORE
 MULADDC_CORE

835 
MULADDC_STOP


839  ; 
i
 >= 8; i -= 8 )

841 
MULADDC_INIT


842 
MULADDC_CORE
 MULADDC_CORE

843 
MULADDC_CORE
 MULADDC_CORE

845 
MULADDC_CORE
 MULADDC_CORE

846 
MULADDC_CORE
 MULADDC_CORE

847 
MULADDC_STOP


850  ; 
i
 > 0; i-- )

852 
MULADDC_INIT


853 
MULADDC_CORE


854 
MULADDC_STOP


861 *
d
 +
c
; c = ( *d < c ); d++;

863  
c
 != 0 );

864 
	}
}

869 
	$mpi_mul_mpi
–
mpi
 *
X
, mpò*
A
, mpò*
B
 )

871 
ªt
, 
i
, 
j
;

872 
mpi
 
TA
, 
TB
;

874 
	`mpi_öô
–&
TA
, &
TB
, 
NULL
 );

876 if–
X
 =
A
 ) { 
	`CHK
–
	`mpi_c›y
–&
TA
, A ) ); A = &TA; }

877 if–
X
 =
B
 ) { 
	`CHK
–
	`mpi_c›y
–&
TB
, B ) ); B = &TB; }

879  
i
 = 
A
->
n
 - 1; i >= 0; i-- )

880 if–
A
->
p
[
i
] != 0 )

883  
j
 = 
B
->
n
 - 1; j >= 0; j-- )

884 if–
B
->
p
[
j
] != 0 )

887 
	`CHK
–
	`mpi_grow
–
X
, 
i
 + 
j
 + 2 ) );

888 
	`CHK
–
	`mpi_l£t
–
X
, 0 ) );

890  
i
++; 
j
 >= 0; j-- )

891 
	`mpi_mul_hÕ
–
i
, 
A
->
p
, 
X
->∞+ 
j
, 
B
->p[j] );

893 
X
->
s
 = 
A
->†* 
B
->s;

895 
˛ónup
:

897 
	`mpi_‰ì
–&
TB
, &
TA
, 
NULL
 );

898 –
ªt
 );

899 
	}
}

904 
	$mpi_mul_öt
–
mpi
 *
X
, mpò*
A
, 
t_öt
 
b
 )

906 
mpi
 
_B
;

907 
t_öt
 
p
[1];

909 
_B
.
s
 = 1;

910 
_B
.
n
 = 1;

911 
_B
.
p
 =Ö;

912 
p
[0] = 
b
;

914 –
	`mpi_mul_mpi
–
X
, 
A
, &
_B
 ) );

915 
	}
}

920 
	$mpi_div_mpi
–
mpi
 *
Q
, mpò*
R
, mpò*
A
, mpò*
B
 )

922 
ªt
, 
i
, 
n
, 
t
, 
k
;

923 
mpi
 
X
, 
Y
, 
Z
, 
T1
, 
T2
;

925 if–
	`mpi_cmp_öt
–
B
, 0 ) == 0 )

926 –
ERR_MPI_DIVISION_BY_ZERO
 );

928 
	`mpi_öô
–&
X
, &
Y
, &
Z
, &
T1
, &
T2
, 
NULL
 );

930 if–
	`mpi_cmp_abs
–
A
, 
B
 ) < 0 )

932 if–
Q
 !
NULL
 ) 
	`CHK
–
	`mpi_l£t
( Q, 0 ) );

933 if–
R
 !
NULL
 ) 
	`CHK
–
	`mpi_c›y
–R, 
A
 ) );

937 
	`CHK
–
	`mpi_c›y
–&
X
, 
A
 ) );

938 
	`CHK
–
	`mpi_c›y
–&
Y
, 
B
 ) );

939 
X
.
s
 = 
Y
.s = 1;

941 
	`CHK
–
	`mpi_grow
–&
Z
, 
A
->
n
 + 2 ) );

942 
	`CHK
–
	`mpi_l£t
–&
Z
, 0 ) );

943 
	`CHK
–
	`mpi_grow
–&
T1
, 2 ) );

944 
	`CHK
–
	`mpi_grow
–&
T2
, 3 ) );

946 
k
 = 
	`mpi_size
–&
Y
 ) % 
biL
;

947 if–
k
 < (Ë
biL
 - 1 )

949 
k
 = 
biL
 - 1 - k;

950 
	`CHK
–
	`mpi_shi·_l
–&
X
, 
k
 ) );

951 
	`CHK
–
	`mpi_shi·_l
–&
Y
, 
k
 ) );

953 
k
 = 0;

955 
n
 = 
X
.n - 1;

956 
t
 = 
Y
.
n
 - 1;

957 
	`mpi_shi·_l
–&
Y
, 
biL
 * (
n
 - 
t
) );

958  
	`mpi_cmp_mpi
–&
X
, &
Y
 ) >= 0 )

960 
Z
.
p
[
n
 - 
t
]++;

961 
	`mpi_sub_mpi
–&
X
, &X, &
Y
 );

963 
	`mpi_shi·_r
–&
Y
, 
biL
 * (
n
 - 
t
) );

965  
i
 = 
n
; i > 
t
 ; i-- )

967 if–
X
.
p
[
i
] >
Y
.p[
t
] )

968 
Z
.
p
[
i
 - 
t
 - 1] = ~0;

971 #i‡
	`deföed
(
HAVE_LONGLONG
)

972 
t_dbl
 
r
;

974 
r
 = (
t_dbl
Ë
X
.
p
[
i
] << 
biL
;

975 
r
 |(
t_dbl
Ë
X
.
p
[
i
 - 1];

976 
r
 /
Y
.
p
[
t
];

977 if–
r
 > ((
t_dbl
Ë1 << 
biL
) - 1)

978 
r
 = ((
t_dbl
Ë1 << 
biL
) - 1;

980 
Z
.
p
[
i
 - 
t
 - 1] = (
t_öt
Ë
r
;

985 
t_öt
 
q0
, 
q1
, 
r0
, 
r1
;

986 
t_öt
 
d0
, 
d1
, 
d
, 
m
;

988 
d
 = 
Y
.
p
[
t
];

989 
d0
 = ( 
d
 << 
biH
 ) >> biH;

990 
d1
 = ( 
d
 >> 
biH
 );

992 
q1
 = 
X
.
p
[
i
] / 
d1
;

993 
r1
 = 
X
.
p
[
i
] - 
d1
 * 
q1
;

994 
r1
 <<
biH
;

995 
r1
 |–
X
.
p
[
i
 - 1] >> 
biH
 );

997 
m
 = 
q1
 * 
d0
;

998 if–
r1
 < 
m
 )

1000 
q1
--, 
r1
 +
d
;

1001  
r1
 >
d
 &&Ñ1 < 
m
 )

1002 
q1
--, 
r1
 +
d
;

1004 
r1
 -
m
;

1006 
q0
 = 
r1
 / 
d1
;

1007 
r0
 = 
r1
 - 
d1
 * 
q0
;

1008 
r0
 <<
biH
;

1009 
r0
 |–
X
.
p
[
i
 - 1] << 
biH
 ) >> biH;

1011 
m
 = 
q0
 * 
d0
;

1012 if–
r0
 < 
m
 )

1014 
q0
--, 
r0
 +
d
;

1015  
r0
 >
d
 &&Ñ0 < 
m
 )

1016 
q0
--, 
r0
 +
d
;

1018 
r0
 -
m
;

1020 
Z
.
p
[
i
 - 
t
 - 1] = ( 
q1
 << 
biH
 ) | 
q0
;

1024 
Z
.
p
[
i
 - 
t
 - 1]++;

1027 
Z
.
p
[
i
 - 
t
 - 1]--;

1029 
	`CHK
–
	`mpi_l£t
–&
T1
, 0 ) );

1030 
T1
.
p
[0] = (
t
 < 1Ë? 0 : 
Y
.p[t - 1];

1031 
T1
.
p
[1] = 
Y
.p[
t
];

1032 
	`CHK
–
	`mpi_mul_öt
–&
T1
, &T1, 
Z
.
p
[
i
 - 
t
 - 1] ) );

1034 
	`CHK
–
	`mpi_l£t
–&
T2
, 0 ) );

1035 
T2
.
p
[0] = (
i
 < 2Ë? 0 : 
X
.p[i - 2];

1036 
T2
.
p
[1] = (
i
 < 1Ë? 0 : 
X
.p[i - 1];

1037 
T2
.
p
[2] = 
X
.p[
i
];

1039  
	`mpi_cmp_mpi
–&
T1
, &
T2
 ) > 0 );

1041 
	`CHK
–
	`mpi_mul_öt
–&
T1
, &
Y
, 
Z
.
p
[
i
 - 
t
 - 1] ) );

1042 
	`CHK
–
	`mpi_shi·_l
–&
T1
, 
biL
 * (
i
 - 
t
 - 1) ) );

1043 
	`CHK
–
	`mpi_sub_mpi
–&
X
, &X, &
T1
 ) );

1045 if–
	`mpi_cmp_öt
–&
X
, 0 ) < 0 )

1047 
	`CHK
–
	`mpi_c›y
–&
T1
, &
Y
 ) );

1048 
	`CHK
–
	`mpi_shi·_l
–&
T1
, 
biL
 * (
i
 - 
t
 - 1) ) );

1049 
	`CHK
–
	`mpi_add_mpi
–&
X
, &X, &
T1
 ) );

1050 
Z
.
p
[
i
 - 
t
 - 1]--;

1054 if–
Q
 !
NULL
 )

1056 
	`mpi_c›y
–
Q
, &
Z
 );

1057 
Q
->
s
 = 
A
->†* 
B
->s;

1060 if–
R
 !
NULL
 )

1062 
	`mpi_shi·_r
–&
X
, 
k
 );

1063 
	`mpi_c›y
–
R
, &
X
 );

1065 
R
->
s
 = 
A
->s;

1066 if–
	`mpi_cmp_öt
–
R
, 0 ) == 0 )

1067 
R
->
s
 = 1;

1070 
˛ónup
:

1072 
	`mpi_‰ì
–&
X
, &
Y
, &
Z
, &
T1
, &
T2
, 
NULL
 );

1073 –
ªt
 );

1074 
	}
}

1083 
	$mpi_div_öt
–
mpi
 *
Q
, mpò*
R
, mpò*
A
, 
b
 )

1085 
mpi
 
_B
;

1086 
t_öt
 
p
[1];

1088 
p
[0] = ( 
b
 < 0 ) ? -b : b;

1089 
_B
.
s
 = ( 
b
 < 0 ) ? -1 : 1;

1090 
_B
.
n
 = 1;

1091 
_B
.
p
 =Ö;

1093 –
	`mpi_div_mpi
–
Q
, 
R
, 
A
, &
_B
 ) );

1094 
	}
}

1099 
	$mpi_mod_mpi
–
mpi
 *
R
, mpò*
A
, mpò*
B
 )

1101 
ªt
;

1103 
	`CHK
–
	`mpi_div_mpi
–
NULL
, 
R
, 
A
, 
B
 ) );

1105  
	`mpi_cmp_öt
–
R
, 0 ) < 0 )

1106 
	`CHK
–
	`mpi_add_mpi
–
R
, R, 
B
 ) );

1108  
	`mpi_cmp_mpi
–
R
, 
B
 ) >= 0 )

1109 
	`CHK
–
	`mpi_sub_mpi
–
R
, R, 
B
 ) );

1111 
˛ónup
:

1113 –
ªt
 );

1114 
	}
}

1119 
	$mpi_mod_öt
–
t_öt
 *
r
, 
mpi
 *
A
, 
b
 )

1121 
i
;

1122 
t_öt
 
x
, 
y
, 
z
;

1124 if–
b
 == 0 )

1125 –
ERR_MPI_DIVISION_BY_ZERO
 );

1127 if–
b
 < 0 )

1128 
b
 = -b;

1133 if–
b
 =1 ) { *
r
 = 0; ( 0 ); }

1134 if–
b
 =2 ) { *
r
 = 
A
->
p
[0] & 1; ( 0 ); }

1139  
i
 = 
A
->
n
 - 1, 
y
 = 0; i >= 0; i-- )

1141 
x
 = 
A
->
p
[
i
];

1142 
y
 = ( y << 
biH
 ) | ( 
x
 >> biH );

1143 
z
 = 
y
 / 
b
;

1144 
y
 -
z
 * 
b
;

1146 
x
 <<
biH
;

1147 
y
 = ( y << 
biH
 ) | ( 
x
 >> biH );

1148 
z
 = 
y
 / 
b
;

1149 
y
 -
z
 * 
b
;

1152 *
r
 = 
y
;

1155 
	}
}

1160 
	$mpi_m⁄tg_öô
–
t_öt
 *
mm
, 
mpi
 *
N
 )

1162 
t_öt
 
x
, 
m0
 = 
N
->
p
[0];

1164 
x
 = 
m0
;

1165 
x
 +((
m0
 + 2) & 4) << 1;

1166 
x
 *(2 - (
m0
 * x));

1168 if–
biL
 >16 ) 
x
 *(2 - (
m0
 * x));

1169 if–
biL
 >32 ) 
x
 *(2 - (
m0
 * x));

1170 if–
biL
 >64 ) 
x
 *(2 - (
m0
 * x));

1172 *
mm
 = ~
x
 + 1;

1173 
	}
}

1178 
	$mpi_m⁄tmul
–
mpi
 *
A
, mpò*
B
, mpò*
N
, 
t_öt
 
mm
, mpò*
T
 )

1180 
i
, 
n
, 
m
;

1181 
t_öt
 
u0
, 
u1
, *
d
;

1183 
	`mem£t
–
T
->
p
, 0, 
ciL
 * T->
n
 );

1185 
d
 = 
T
->
p
;

1186 
n
 = 
N
->n;

1187 
m
 = ( 
B
->
n
 <Ç ) ? B->n :Ç;

1189  
i
 = 0; i < 
n
; i++ )

1194 
u0
 = 
A
->
p
[
i
];

1195 
u1
 = ( 
d
[0] + 
u0
 * 
B
->
p
[0] ) * 
mm
;

1197 
	`mpi_mul_hÕ
–
m
, 
B
->
p
, 
d
, 
u0
 );

1198 
	`mpi_mul_hÕ
–
n
, 
N
->
p
, 
d
, 
u1
 );

1200 *
d
++ = 
u0
; d[
n
 + 1] = 0;

1203 
	`mem˝y
–
A
->
p
, 
d
, 
ciL
 * (
n
 + 1) );

1205 if–
	`mpi_cmp_abs
–
A
, 
N
 ) >= 0 )

1206 
	`mpi_sub_hÕ
–
n
, 
N
->
p
, 
A
->p );

1209 
	`mpi_sub_hÕ
–
n
, 
A
->
p
, 
T
->p );

1210 
	}
}

1215 
	$mpi_m⁄åed
–
mpi
 *
A
, mpò*
N
, 
t_öt
 
mm
, mpò*
T
 )

1217 
t_öt
 
z
 = 1;

1218 
mpi
 
U
;

1220 
U
.
n
 = U.
s
 = 
z
;

1221 
U
.
p
 = &
z
;

1223 
	`mpi_m⁄tmul
–
A
, &
U
, 
N
, 
mm
, 
T
 );

1224 
	}
}

1229 
	$mpi_exp_mod
–
mpi
 *
X
, mpò*
A
, mpò*
E
, mpò*
N
, mpò*
_RR
 )

1231 
ªt
, 
i
, 
j
, 
wsize
, 
wbôs
;

1232 
bufsize
, 
nblimbs
, 
nbôs
;

1233 
t_öt
 
ei
, 
mm
, 
°©e
;

1234 
mpi
 
RR
, 
T
, 
W
[64];

1236 if–
	`mpi_cmp_öt
–
N
, 0 ) < 0 || ( N->
p
[0] & 1 ) == 0 )

1237 –
ERR_MPI_INVALID_PARAMETER
 );

1242 
	`mpi_m⁄tg_öô
–&
mm
, 
N
 );

1243 
	`mpi_öô
–&
RR
, &
T
, 
NULL
 );

1244 
	`mem£t
–
W
, 0, ( W ) );

1246 
i
 = 
	`mpi_size
–
E
 );

1248 
wsize
 = ( 
i
 > 671 ) ? 6 : ( i > 239 ) ? 5 :

1249 –
i
 > 79 ) ? 4 : ( i > 23 ) ? 3 : 1;

1251 
j
 = 
N
->
n
 + 1;

1252 
	`CHK
–
	`mpi_grow
–
X
, 
j
 ) );

1253 
	`CHK
–
	`mpi_grow
–&
W
[1], 
j
 ) );

1254 
	`CHK
–
	`mpi_grow
–&
T
, 
j
 * 2 ) );

1259 if–
_RR
 =
NULL
 || _RR->
p
 == NULL )

1261 
	`CHK
–
	`mpi_l£t
–&
RR
, 1 ) );

1262 
	`CHK
–
	`mpi_shi·_l
–&
RR
, 
N
->
n
 * 2 * 
biL
 ) );

1263 
	`CHK
–
	`mpi_mod_mpi
–&
RR
, &RR, 
N
 ) );

1265 if–
_RR
 !
NULL
 )

1266 
	`mem˝y
–
_RR
, &
RR
, –
mpi
 ) );

1269 
	`mem˝y
–&
RR
, 
_RR
, –
mpi
 ) );

1274 if–
	`mpi_cmp_mpi
–
A
, 
N
 ) >= 0 )

1275 
	`mpi_mod_mpi
–&
W
[1], 
A
, 
N
 );

1276 
	`mpi_c›y
–&
W
[1], 
A
 );

1278 
	`mpi_m⁄tmul
–&
W
[1], &
RR
, 
N
, 
mm
, &
T
 );

1283 
	`CHK
–
	`mpi_c›y
–
X
, &
RR
 ) );

1284 
	`mpi_m⁄åed
–
X
, 
N
, 
mm
, &
T
 );

1286 if–
wsize
 > 1 )

1291 
j
 = 1 << (
wsize
 - 1);

1293 
	`CHK
–
	`mpi_grow
–&
W
[
j
], 
N
->
n
 + 1 ) );

1294 
	`CHK
–
	`mpi_c›y
–&
W
[
j
], &W[1] ) );

1296  
i
 = 0; i < 
wsize
 - 1; i++ )

1297 
	`mpi_m⁄tmul
–&
W
[
j
], &W[j], 
N
, 
mm
, &
T
 );

1302  
i
 = 
j
 + 1; i < (1 << 
wsize
); i++ )

1304 
	`CHK
–
	`mpi_grow
–&
W
[
i
], 
N
->
n
 + 1 ) );

1305 
	`CHK
–
	`mpi_c›y
–&
W
[
i
], &W[i - 1] ) );

1307 
	`mpi_m⁄tmul
–&
W
[
i
], &W[1], 
N
, 
mm
, &
T
 );

1311 
nblimbs
 = 
E
->
n
;

1312 
bufsize
 = 0;

1313 
nbôs
 = 0;

1314 
wbôs
 = 0;

1315 
°©e
 = 0;

1319 if–
bufsize
 == 0 )

1321 if–
nblimbs
-- == 0 )

1324 
bufsize
 = –
t_öt
 ) << 3;

1327 
bufsize
--;

1329 
ei
 = (
E
->
p
[
nblimbs
] >> 
bufsize
) & 1;

1334 if–
ei
 =0 && 
°©e
 == 0 )

1337 if–
ei
 =0 && 
°©e
 == 1 )

1342 
	`mpi_m⁄tmul
–
X
, X, 
N
, 
mm
, &
T
 );

1349 
°©e
 = 2;

1351 
nbôs
++;

1352 
wbôs
 |(
ei
 << (
wsize
 - 
nbôs
));

1354 if–
nbôs
 =
wsize
 )

1359  
i
 = 0; i < 
wsize
; i++ )

1360 
	`mpi_m⁄tmul
–
X
, X, 
N
, 
mm
, &
T
 );

1365 
	`mpi_m⁄tmul
–
X
, &
W
[
wbôs
], 
N
, 
mm
, &
T
 );

1367 
°©e
--;

1368 
nbôs
 = 0;

1369 
wbôs
 = 0;

1376  
i
 = 0; i < 
nbôs
; i++ )

1378 
	`mpi_m⁄tmul
–
X
, X, 
N
, 
mm
, &
T
 );

1380 
wbôs
 <<= 1;

1382 if–(
wbôs
 & (1 << 
wsize
)) != 0 )

1383 
	`mpi_m⁄tmul
–
X
, &
W
[1], 
N
, 
mm
, &
T
 );

1389 
	`mpi_m⁄åed
–
X
, 
N
, 
mm
, &
T
 );

1391 
˛ónup
:

1393  
i
 = (1 << (
wsize
 - 1)); i < (1 << wsize); i++ )

1394 
	`mpi_‰ì
–&
W
[
i
], 
NULL
 );

1396 if–
_RR
 !
NULL
 )

1397 
	`mpi_‰ì
–&
W
[1], &
T
, 
NULL
 );

1398 
	`mpi_‰ì
–&
W
[1], &
T
, &
RR
, 
NULL
 );

1400 –
ªt
 );

1401 
	}
}

1406 
	$mpi_gcd
–
mpi
 *
G
, mpò*
A
, mpò*
B
 )

1408 
ªt
, 
cou¡
;

1409 
mpi
 
TG
, 
TA
, 
TB
;

1411 
	`mpi_öô
–&
TG
, &
TA
, &
TB
, 
NULL
 );

1413 
	`CHK
–
	`mpi_l£t
–&
TG
, 1 ) );

1414 
	`CHK
–
	`mpi_c›y
–&
TA
, 
A
 ) );

1415 
	`CHK
–
	`mpi_c›y
–&
TB
, 
B
 ) );

1417 
TA
.
s
 = 
TB
.s = 1;

1419 
cou¡
 = ( 
	`mpi_lsb
–&
TA
 ) < mpi_lsb–&
TB
 ) )

1420 ? 
	`mpi_lsb
–&
TA
 ) : mpi_lsb–&
TB
 );

1422 
	`CHK
–
	`mpi_shi·_l
–&
TG
, 
cou¡
 ) );

1423 
	`CHK
–
	`mpi_shi·_r
–&
TA
, 
cou¡
 ) );

1424 
	`CHK
–
	`mpi_shi·_r
–&
TB
, 
cou¡
 ) );

1426  
	`mpi_cmp_öt
–&
TA
, 0 ) != 0 )

1428  ( 
TA
.
p
[0] & 1 ) =0 ) 
	`CHK
–
	`mpi_shi·_r
( &TA, 1 ) );

1429  ( 
TB
.
p
[0] & 1 ) =0 ) 
	`CHK
–
	`mpi_shi·_r
( &TB, 1 ) );

1431 if–
	`mpi_cmp_mpi
–&
TA
, &
TB
 ) >= 0 )

1433 
	`CHK
–
	`mpi_sub_abs
–&
TA
, &TA, &
TB
 ) );

1434 
	`CHK
–
	`mpi_shi·_r
–&
TA
, 1 ) );

1438 
	`CHK
–
	`mpi_sub_abs
–&
TB
, &TB, &
TA
 ) );

1439 
	`CHK
–
	`mpi_shi·_r
–&
TB
, 1 ) );

1443 
	`CHK
–
	`mpi_mul_mpi
–
G
, &
TG
, &
TB
 ) );

1445 
˛ónup
:

1447 
	`mpi_‰ì
–&
TB
, &
TA
, &
TG
, 
NULL
 );

1448 –
ªt
 );

1449 
	}
}

1454 
	$mpi_öv_mod
–
mpi
 *
X
, mpò*
A
, mpò*
N
 )

1456 
ªt
;

1457 
mpi
 
G
, 
TA
, 
TU
, 
U1
, 
U2
, 
TB
, 
TV
, 
V1
, 
V2
;

1459 if–
	`mpi_cmp_öt
–
N
, 0 ) <= 0 )

1460 –
ERR_MPI_INVALID_PARAMETER
 );

1462 
	`mpi_öô
–&
TA
, &
TU
, &
U1
, &
U2
, &
G
,

1463 &
TB
, &
TV
, &
V1
, &
V2
, 
NULL
 );

1465 
	`CHK
–
	`mpi_gcd
–&
G
, 
A
, 
N
 ) );

1467 if–
	`mpi_cmp_öt
–&
G
, 1 ) != 0 )

1469 
ªt
 = 
ERR_MPI_NOT_INVERTIBLE
;

1470 
˛ónup
;

1473 
	`CHK
–
	`mpi_mod_mpi
–&
TA
, 
A
, 
N
 ) );

1474 
	`CHK
–
	`mpi_c›y
–&
TU
, &
TA
 ) );

1475 
	`CHK
–
	`mpi_c›y
–&
TB
, 
N
 ) );

1476 
	`CHK
–
	`mpi_c›y
–&
TV
, 
N
 ) );

1478 
	`CHK
–
	`mpi_l£t
–&
U1
, 1 ) );

1479 
	`CHK
–
	`mpi_l£t
–&
U2
, 0 ) );

1480 
	`CHK
–
	`mpi_l£t
–&
V1
, 0 ) );

1481 
	`CHK
–
	`mpi_l£t
–&
V2
, 1 ) );

1485  ( 
TU
.
p
[0] & 1 ) == 0 )

1487 
	`CHK
–
	`mpi_shi·_r
–&
TU
, 1 ) );

1489 if––
U1
.
p
[0] & 1 ) !0 || ( 
U2
.p[0] & 1 ) != 0 )

1491 
	`CHK
–
	`mpi_add_mpi
–&
U1
, &U1, &
TB
 ) );

1492 
	`CHK
–
	`mpi_sub_mpi
–&
U2
, &U2, &
TA
 ) );

1495 
	`CHK
–
	`mpi_shi·_r
–&
U1
, 1 ) );

1496 
	`CHK
–
	`mpi_shi·_r
–&
U2
, 1 ) );

1499  ( 
TV
.
p
[0] & 1 ) == 0 )

1501 
	`CHK
–
	`mpi_shi·_r
–&
TV
, 1 ) );

1503 if––
V1
.
p
[0] & 1 ) !0 || ( 
V2
.p[0] & 1 ) != 0 )

1505 
	`CHK
–
	`mpi_add_mpi
–&
V1
, &V1, &
TB
 ) );

1506 
	`CHK
–
	`mpi_sub_mpi
–&
V2
, &V2, &
TA
 ) );

1509 
	`CHK
–
	`mpi_shi·_r
–&
V1
, 1 ) );

1510 
	`CHK
–
	`mpi_shi·_r
–&
V2
, 1 ) );

1513 if–
	`mpi_cmp_mpi
–&
TU
, &
TV
 ) >= 0 )

1515 
	`CHK
–
	`mpi_sub_mpi
–&
TU
, &TU, &
TV
 ) );

1516 
	`CHK
–
	`mpi_sub_mpi
–&
U1
, &U1, &
V1
 ) );

1517 
	`CHK
–
	`mpi_sub_mpi
–&
U2
, &U2, &
V2
 ) );

1521 
	`CHK
–
	`mpi_sub_mpi
–&
TV
, &TV, &
TU
 ) );

1522 
	`CHK
–
	`mpi_sub_mpi
–&
V1
, &V1, &
U1
 ) );

1523 
	`CHK
–
	`mpi_sub_mpi
–&
V2
, &V2, &
U2
 ) );

1526  
	`mpi_cmp_öt
–&
TU
, 0 ) != 0 );

1528  
	`mpi_cmp_öt
–&
V1
, 0 ) < 0 )

1529 
	`CHK
–
	`mpi_add_mpi
–&
V1
, &V1, 
N
 ) );

1531  
	`mpi_cmp_mpi
–&
V1
, 
N
 ) >= 0 )

1532 
	`CHK
–
	`mpi_sub_mpi
–&
V1
, &V1, 
N
 ) );

1534 
	`CHK
–
	`mpi_c›y
–
X
, &
V1
 ) );

1536 
˛ónup
:

1538 
	`mpi_‰ì
–&
V2
, &
V1
, &
TV
, &
TB
, &
G
,

1539 &
U2
, &
U1
, &
TU
, &
TA
, 
NULL
 );

1541 –
ªt
 );

1542 
	}
}

1544 #i‡!
deföed
(
NO_GENPRIME
)

1545 c⁄° 
	gsmÆl_¥ime
[] =

1580 
	$mpi_is_¥ime
–
mpi
 *
X
 )

1582 
ªt
, 
i
, 
j
, 
s
, 
xs
;

1583 
mpi
 
W
, 
R
, 
T
, 
A
, 
RR
;

1585 if–
	`mpi_cmp_öt
–
X
, 0 ) == 0 )

1588 
	`mpi_öô
–&
W
, &
R
, &
T
, &
A
, &
RR
, 
NULL
 );

1589 
xs
 = 
X
->
s
; X->s = 1;

1594 if––
X
->
p
[0] & 1 ) == 0 )

1595 –
ERR_MPI_IS_COMPOSITE
 );

1597  
i
 = 0; 
smÆl_¥ime
[i] > 0; i++ )

1599 
t_öt
 
r
;

1601 if–
	`mpi_cmp_öt
–
X
, 
smÆl_¥ime
[
i
] ) <= 0 )

1604 
	`CHK
–
	`mpi_mod_öt
–&
r
, 
X
, 
smÆl_¥ime
[
i
] ) );

1606 if–
r
 == 0 )

1607 –
ERR_MPI_IS_COMPOSITE
 );

1614 
	`CHK
–
	`mpi_sub_öt
–&
W
, 
X
, 1 ) );

1615 
	`CHK
–
	`mpi_c›y
–&
R
, &
W
 ) );

1616 
	`CHK
–
	`mpi_shi·_r
–&
R
, 
s
 = 
	`mpi_lsb
–&
W
 ) ) );

1618  
i
 = 0; i < 8; i++ )

1623 
	`CHK
–
	`mpi_grow
–&
A
, 
X
->
n
 ) );

1625  
j
 = 0; j < 
A
.
n
; j++ )

1626 
A
.
p
[
j
] = (
t_öt
Ë
	`ønd
() *Ñand();

1628 
	`CHK
–
	`mpi_shi·_r
–&
A
, 
	`mpi_size
( &A ) -

1629 
	`mpi_size
–&
W
 ) + 1 ) );

1630 
A
.
p
[0] |= 3;

1635 
	`CHK
–
	`mpi_exp_mod
–&
A
, &A, &
R
, 
X
, &
RR
 ) );

1637 if–
	`mpi_cmp_mpi
–&
A
, &
W
 ) == 0 ||

1638 
	`mpi_cmp_öt
–&
A
, 1 ) == 0 )

1641 
j
 = 1;

1642  
j
 < 
s
 && 
	`mpi_cmp_mpi
–&
A
, &
W
 ) != 0 )

1647 
	`CHK
–
	`mpi_mul_mpi
–&
T
, &
A
, &A ) );

1648 
	`CHK
–
	`mpi_mod_mpi
–&
A
, &
T
, 
X
 ) );

1650 if–
	`mpi_cmp_öt
–&
A
, 1 ) == 0 )

1653 
j
++;

1659 if–
	`mpi_cmp_mpi
–&
A
, &
W
 ) !0 || 
j
 < 
s
 )

1661 
ªt
 = 
ERR_MPI_IS_COMPOSITE
;

1666 
˛ónup
:

1668 
X
->
s
 = 
xs
;

1669 
	`mpi_‰ì
–&
A
, &
T
, &
R
, &
W
, 
NULL
 );

1670 –
ªt
 );

1671 
	}
}

1676 
mpi_gí_¥ime
–
mpi
 *
X
, 
nbôs
, 
dh_Êag
,

1677 (*
∫g_f
)(*), *
∫g_d
 )

1679 
ªt
, 
k
, 
n
;

1680 *
p
;

1681 
mpi
 
Y
;

1683 if–
nbôs
 < 3 )

1684 –
ERR_MPI_INVALID_PARAMETER
 );

1686 
	`mpi_öô
–&
Y
, 
NULL
 );

1688 
n
 = 
	`BITS_TO_LIMBS
–
nbôs
 );

1690 
	`CHK
–
	`mpi_grow
–
X
, 
n
 ) );

1691 
	`CHK
–
	`mpi_l£t
–
X
, 0 ) );

1693 
p
 = (*Ë
X
->p;

1694  
k
 = 0; k < 
ciL
 * 
X
->
n
; k++ )

1695 *
p
++ = 
	`∫g_f
–
∫g_d
 );

1697 
k
 = 
	`mpi_size
–
X
 );

1698 if–
k
 < 
nbôs
 ) 
	`CHK
–
	`mpi_shi·_l
–
X
,Çbits - k ) );

1699 if–
k
 > 
nbôs
 ) 
	`CHK
–
	`mpi_shi·_r
–
X
, k -Çbits ) );

1700 
X
->
p
[0] |= 3;

1702 if–
dh_Êag
 == 0 )

1704  ( 
ªt
 = 
	`mpi_is_¥ime
–
X
 ) ) != 0 )

1706 if–
ªt
 !
ERR_MPI_IS_COMPOSITE
 )

1707 
˛ónup
;

1709 
	`CHK
–
	`mpi_add_öt
–
X
, X, 2 ) );

1714 
	`CHK
–
	`mpi_sub_öt
–&
Y
, 
X
, 1 ) );

1715 
	`CHK
–
	`mpi_shi·_r
–&
Y
, 1 ) );

1719 if––
ªt
 = 
	`mpi_is_¥ime
–
X
 ) ) == 0 )

1721 if––
ªt
 = 
	`mpi_is_¥ime
–&
Y
 ) ) == 0 )

1724 if–
ªt
 !
ERR_MPI_IS_COMPOSITE
 )

1725 
˛ónup
;

1728 if–
ªt
 !
ERR_MPI_IS_COMPOSITE
 )

1729 
˛ónup
;

1731 
	`CHK
–
	`mpi_add_öt
–&
Y
, 
X
, 1 ) );

1732 
	`CHK
–
	`mpi_add_öt
–
X
, X, 2 ) );

1733 
	`CHK
–
	`mpi_shi·_r
–&
Y
, 1 ) );

1737 
˛ónup
:

1739 
	`mpi_‰ì
–&
Y
, 
NULL
 );

1740 –
ªt
 );

1741 
	}
}

1744 c⁄° 
	g_bignum_§c
[] = "_bignum_src";

1746 #ifde‡
SELF_TEST


1750 
	$mpi_£lf_ã°
( )

1752 
ªt
;

1753 
mpi
 
A
, 
E
, 
N
, 
X
, 
Y
, 
U
, 
V
;

1755 
	`mpi_öô
–&
A
, &
E
, &
N
, &
X
, &
Y
, &
U
, &
V
, 
NULL
 );

1757 
	`CHK
–
	`mpi_ªad
–&
A
, "EFE021C2645FD1DC586E69184AF4A31E" \

1761 
	`CHK
–
	`mpi_ªad
–&
E
, "B2E7EFD37075B9F03FF989C7C5051C20" \

1765 
	`CHK
–
	`mpi_ªad
–&
N
, "0066A198186C18C10B2F5ED9B522752A" \

1769 
	`CHK
–
	`mpi_mul_mpi
–&
X
, &
A
, &
N
 ) );

1770 
	`CHK
–
	`mpi_ªad
–&
U
, "602AB7ECA597A3D6B56FF9829A5E8B85" \

1778 
	`¥ötf
( " MPIÅest #1 (mul_mpi): " );

1779 if–
	`mpi_cmp_mpi
–&
X
, &
U
 ) != 0 )

1781 
	`¥ötf
( "failed\n" );

1784 
	`¥ötf
( "passed\n" );

1786 
	`CHK
–
	`mpi_div_mpi
–&
X
, &
Y
, &
A
, &
N
 ) );

1787 
	`CHK
–
	`mpi_ªad
–&
U
, "256567336059E52CAE22925474705F39A94", 16 ) );

1788 
	`CHK
–
	`mpi_ªad
–&
V
, "6613F26162223DF488E9CD48CC132C7A" \

1792 
	`¥ötf
( " MPIÅest #2 (div_mpi): " );

1793 if–
	`mpi_cmp_mpi
–&
X
, &
U
 ) != 0 ||

1794 
	`mpi_cmp_mpi
–&
Y
, &
V
 ) != 0 )

1796 
	`¥ötf
( "failed\n" );

1799 
	`¥ötf
( "passed\n" );

1801 
	`CHK
–
	`mpi_exp_mod
–&
X
, &
A
, &
E
, &
N
, 
NULL
 ) );

1802 
	`CHK
–
	`mpi_ªad
–&
U
, "36E139AEA55215609D2816998ED020BB" \

1806 
	`¥ötf
( " MPIÅest #3 (exp_mod): " );

1807 if–
	`mpi_cmp_mpi
–&
X
, &
U
 ) != 0 )

1809 
	`¥ötf
( "failed\n" );

1812 
	`¥ötf
( "passed\n" );

1814 
	`CHK
–
	`mpi_öv_mod
–&
X
, &
A
, &
N
 ) );

1815 
	`CHK
–
	`mpi_ªad
–&
U
, "003A0AAEDD7E784FC07D8F9EC6E3BFD5" \

1819 
	`¥ötf
( " MPIÅest #4 (inv_mod): " );

1820 if–
	`mpi_cmp_mpi
–&
X
, &
U
 ) != 0 )

1822 
	`¥ötf
( "failed\n" );

1825 
	`¥ötf
( "passed\n" );

1827 
˛ónup
:

1829 if–
ªt
 != 0 )

1830 
	`¥ötf
–"U√x≥˘edÉº‹,Ñëu∫ codê%d\n", 
ªt
 );

1832 
	`mpi_‰ì
–&
V
, &
U
, &
Y
, &
X
, &
N
, &
E
, &
A
, 
NULL
 );

1834 
	`¥ötf
( "\n" );

1836 
	}
}

1838 
	$mpi_£lf_ã°
( )

1841 
	}
}

	@bootstrap.c

11 
	~<comm⁄.h
>

12 
	~<«nd.h
>

14 
dbg_mode
(
boŸ_«nd_t
 *
«nd
);

15 
do_go_exec
 (
	$ul⁄g
 (*
íåy
)(, * c⁄° []), 
¨gc
, * c⁄° 
¨gv
[]);

17 
	$¥öt_buf
(*
¥om±
, *
buf
, 
Àn
)

19 
i
;

20 
	`¥ötf
("%†%d byãs\n", 
¥om±
, 
Àn
);

21 
	`¥ötf
("------------------------------------------------------------------------------------\n");

22 
i
=0; i<
Àn
; i++)

24 
	`¥ötf
("0x%02x ", 
buf
[
i
]);

25 if(! (
i
+1)%32 )

26 
	`¥ötf
("\n");

29 
	`¥ötf
("\n");

30 
	`¥ötf
("------------------------------------------------------------------------------------\n");

31 
	}
}

34 
	$boŸ°øp_maö
()

36 
boŸ_«nd_t
 
«nd
;

37 
buf
[0x20000];

38 
ul⁄g
 
ã°_block
 = 0x0;

40 *
addr
 = (*)0x36000000;

42 
	`£rül_öô
();

43 
	`öô_Àd_bìp
();

45 
	`¥ötf
("\bBootstrap Version 0.0.1\n");

47 
	`tu∫_Àd_⁄
(
LED0
);

49 i‡(
	`«nd_öô
(&
«nd
) < 0)

51 
	`¥ötf
("Nandflash init failure.\n");

57 
	`«nd_s¸ub
(&
«nd
);

59 
	`«nd_îa£
(&
«nd
, 
ã°_block
, 0x20000, 
SKIP_BAD_BLOCK
);

61 
	`mem£t
(
buf
,0x00, (buf));

62 
	`«nd_ªad_•¨e
(&
«nd
, 
ã°_block
, 64, 
buf
);

63 
	`¥öt_buf
("S∑ªáª®ªad:", 
buf
, 64);

65 
	`«nd_ªad
(&
«nd
, 
ã°_block
,Ç™d.
∑ge_size
, 
buf
);

66 
	`¥öt_buf
("Whﬁê∑gêWrôe:", 
buf
, 
«nd
.
∑ge_size
);

71 
	`mem£t
(
buf
,0x44,(buf));

73 
	`«nd_wrôe
(&
«nd
, 
ã°_block
,Ç™d.
∑ge_size
, 
buf
);

74 
	`«nd_ªad
(&
«nd
, 
ã°_block
,Ç™d.
∑ge_size
, 
buf
);

75 
	`¥öt_buf
("Whﬁê∑gêWrôe:", 
buf
, 
«nd
.
∑ge_size
);

78 
	`«nd_wrôe_•¨e
(&
«nd
, 0x0000, 64, 
buf
);

79 
	`«nd_ªad_•¨e
(&
«nd
, 
ã°_block
, 64, 
buf
);

80 
	`¥öt_buf
("S∑ªáª®ªad:", 
buf
, 64);

83 
	`dbg_mode
(&
«nd
);

85 
	`«nd_ªad
(&
«nd
, 
LAUNCHER_NAND_ADDR
, 1024, 
addr
);

86 
	`do_go_exec
((*)
addr
, 0, 
NULL
);

92 
	}
}

95 
__©åibuã__
((
wók
))

96 
do_go_exec
 (
	$ul⁄g
 (*
íåy
)(, * c⁄° []), 
¨gc
, * c⁄° 
¨gv
[])

98 
	`¥ötf
 ("## Sèπögáµliˇti⁄áà0x%08lX ...\n", 
íåy
);

99  
	`íåy
 (
¨gc
, 
¨gv
);

100 
	}
}

102 
	$dbg_mode
(
boŸ_«nd_t
 *
«nd
)

104 
size
;

105 *
addr
 = (*)
TEXT_BASE
;

106 
ul⁄g
 
îa£_size
;

108 
	`dbg_¥öt
("Comes into bootstrap debug modeánd Xmodem wait forÑeceiveÇewÜauncher:\n");

110 
	`bìp
(1);

112 
size
 = 
	`xmodem_ªcv
(
addr
);

113 
	`dbg_¥öt
("\tBoŸ°ø∞Re˚ivêLaunchî fûêsize: %ld byãs\n", 
size
);

115 
îa£_size
 = (
size
/
«nd
->
block_size
 + 1)*nand->block_size;

117 
	`«nd_îa£
(
«nd
, 
LAUNCHER_NAND_ADDR
, 
îa£_size
, 
SKIP_BAD_BLOCK
);

118 
	`«nd_wrôe
(
«nd
, 
LAUNCHER_NAND_ADDR
, 
size
, 
addr
);

121 
	}
}

	@common.c

12 
	~<comm⁄.h
>

14 * 
	$mem£t
(* 
s
,
c
,
size_t
 
cou¡
)

16 *
¶
 = (*Ë
s
;

17 
˛
 = 0;

18 *
s8
;

19 
i
;

22 i‡–((
ul⁄g
)
s
 & ((*
¶
) - 1)) == 0) {

23 
i
 = 0; i < (*
¶
); i++) {

24 
˛
 <<= 8;

25 
˛
 |
c
 & 0xff;

27 
cou¡
 >(*
¶
)) {

28 *
¶
++ = 
˛
;

29 
cou¡
 -(*
¶
);

33 
s8
 = (*)
¶
;

34 
cou¡
--)

35 *
s8
++ = 
c
;

37  
s
;

38 
	}
}

40 #ifde‡
CONFIG_PRINTF_DBG


42 
size_t
 
	$°∫Àn
(c⁄° *
s
, 
size_t
 
cou¡
)

44 c⁄° *
sc
;

46 
sc
 = 
s
; 
cou¡
-- && *sc != '\0'; ++sc)

48  
sc
 - 
s
;

49 
	}
}

51 
	#is_digô
(
c
Ë((cË>'0' && (cË<'9')

	)

53 
	$skù_©oi
(c⁄° **
s
)

55 
i
 = 0;

57 
	`is_digô
(**
s
))

58 
i
 = i * 10 + *((*
s
)++) - '0';

59  
i
;

60 
	}
}

62 
	#ZEROPAD
 1

	)

63 
	#SIGN
 2

	)

64 
	#PLUS
 4

	)

65 
	#SPACE
 8

	)

66 
	#LEFT
 16

	)

67 
	#SPECIAL
 32

	)

68 
	#LARGE
 64

	)

70 #ifde‡
CFG_64BIT_VSPRINTF


71 
	#do_div
(
n
,
ba£
) ({ \

72 
__ªs
; \

73 
__ªs
 = ((Ë
n
Ë% 
ba£
; \

74 
n
 = ((ËnË/ 
ba£
; \

75 
__ªs
; \

76 })

	)

78 
	#do_div
(
n
,
ba£
) ({ \

79 
__ªs
; \

80 
__ªs
 = ((Ë
n
Ë% 
ba£
; \

81 
n
 = ((ËnË/ 
ba£
; \

82 
__ªs
; \

83 })

	)

86 #ifde‡
CFG_64BIT_VSPRINTF


87 *
	$numbî
(*
°r
, 
num
, 
ba£
, 
size
, 
¥ecisi⁄
, 
ty≥
)

89 *
	$numbî
(*
°r
, 
num
, 
ba£
, 
size
, 
¥ecisi⁄
, 
ty≥
)

92 
c
, 
sign
, 
tmp
[66];

93 c⁄° *
digôs
 = "0123456789abcdefghijklmnopqrstuvwxyz";

94 
i
;

96 i‡(
ty≥
 & 
LARGE
)

97 
digôs
 = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";

98 i‡(
ty≥
 & 
LEFT
)

99 
ty≥
 &~
ZEROPAD
;

100 i‡(
ba£
 < 2 || base > 36)

102 
c
 = (
ty≥
 & 
ZEROPAD
) ? '0' : ' ';

103 
sign
 = 0;

104 i‡(
ty≥
 & 
SIGN
)

106 i‡(
num
 < 0)

108 
sign
 = '-';

109 
num
 = -num;

110 
size
--;

112 i‡(
ty≥
 & 
PLUS
)

114 
sign
 = '+';

115 
size
--;

117 i‡(
ty≥
 & 
SPACE
)

119 
sign
 = ' ';

120 
size
--;

123 i‡(
ty≥
 & 
SPECIAL
)

125 i‡(
ba£
 == 16)

126 
size
 -= 2;

127 i‡(
ba£
 == 8)

128 
size
--;

130 
i
 = 0;

131 i‡(
num
 == 0)

132 
tmp
[
i
++] = '0';

134 
num
 != 0)

135 
tmp
[
i
++] = 
digôs
[
	`do_div
(
num
, 
ba£
)];

136 i‡(
i
 > 
¥ecisi⁄
)

137 
¥ecisi⁄
 = 
i
;

138 
size
 -
¥ecisi⁄
;

139 i‡(!(
ty≥
 & (
ZEROPAD
 + 
LEFT
)))

140 
size
-- > 0)

141 *
°r
++ = ' ';

142 i‡(
sign
)

143 *
°r
++ = 
sign
;

144 i‡(
ty≥
 & 
SPECIAL
)

146 i‡(
ba£
 == 8)

147 *
°r
++ = '0';

148 i‡(
ba£
 == 16)

150 *
°r
++ = '0';

151 *
°r
++ = 
digôs
[33];

154 i‡(!(
ty≥
 & 
LEFT
))

155 
size
-- > 0)

156 *
°r
++ = 
c
;

157 
i
 < 
¥ecisi⁄
--)

158 *
°r
++ = '0';

159 
i
-- > 0)

160 *
°r
++ = 
tmp
[
i
];

161 
size
-- > 0)

162 *
°r
++ = ' ';

163  
°r
;

164 
	}
}

167 
•rötf
(*
buf
, c⁄° *
fmt
, ...);

169 
	$v•rötf
(*
buf
, c⁄° *
fmt
, 
va_li°
 
¨gs
)

171 
Àn
;

172 #ifde‡
CFG_64BIT_VSPRINTF


173 
num
;

175 
num
;

177 
i
, 
ba£
;

178 *
°r
;

179 c⁄° *
s
;

181 
Êags
;

183 
fõld_width
;

184 
¥ecisi⁄
;

186 
quÆifõr
;

188 
°r
 = 
buf
; *
fmt
; ++fmt)

190 i‡(*
fmt
 != '%')

192 *
°r
++ = *
fmt
;

197 
Êags
 = 0;

198 
ª≥©
:

199 ++
fmt
;

200 *
fmt
)

203 
Êags
 |
LEFT
;

204 
ª≥©
;

206 
Êags
 |
PLUS
;

207 
ª≥©
;

209 
Êags
 |
SPACE
;

210 
ª≥©
;

212 
Êags
 |
SPECIAL
;

213 
ª≥©
;

215 
Êags
 |
ZEROPAD
;

216 
ª≥©
;

220 
fõld_width
 = -1;

221 i‡(
	`is_digô
(*
fmt
))

222 
fõld_width
 = 
	`skù_©oi
(&
fmt
);

223 i‡(*
fmt
 == '*')

225 ++
fmt
;

227 
fõld_width
 = 
	`va_¨g
(
¨gs
, );

228 i‡(
fõld_width
 < 0)

230 
fõld_width
 = -field_width;

231 
Êags
 |
LEFT
;

236 
¥ecisi⁄
 = -1;

237 i‡(*
fmt
 == '.')

239 ++
fmt
;

240 i‡(
	`is_digô
(*
fmt
))

241 
¥ecisi⁄
 = 
	`skù_©oi
(&
fmt
);

242 i‡(*
fmt
 == '*')

244 ++
fmt
;

246 
¥ecisi⁄
 = 
	`va_¨g
(
¨gs
, );

248 i‡(
¥ecisi⁄
 < 0)

249 
¥ecisi⁄
 = 0;

253 
quÆifõr
 = -1;

254 i‡(*
fmt
 == 'h' || *fmt == 'l' || *fmt == 'L' ||

255 *
fmt
 == 'Z' || *fmt == 'z' || *fmt == 't' || *fmt == 'q')

257 
quÆifõr
 = *
fmt
;

258 i‡(
quÆifõr
 ='l' && *(
fmt
 + 1) == 'l')

260 
quÆifõr
 = 'q';

261 ++
fmt
;

263 ++
fmt
;

267 
ba£
 = 10;

269 *
fmt
)

272 i‡(!(
Êags
 & 
LEFT
))

273 --
fõld_width
 > 0)

274 *
°r
++ = ' ';

275 *
°r
++ = ()
	`va_¨g
(
¨gs
, );

276 --
fõld_width
 > 0)

277 *
°r
++ = ' ';

281 
s
 = 
	`va_¨g
(
¨gs
, *);

282 i‡(!
s
)

283 
s
 = "<NULL>";

285 
Àn
 = 
	`°∫Àn
(
s
, 
¥ecisi⁄
);

287 i‡(!(
Êags
 & 
LEFT
))

288 
Àn
 < 
fõld_width
--)

289 *
°r
++ = ' ';

290 
i
 = 0; i < 
Àn
; ++i)

291 *
°r
++ = *
s
++;

292 
Àn
 < 
fõld_width
--)

293 *
°r
++ = ' ';

297 i‡(
fõld_width
 == -1)

299 
fõld_width
 = 2 * (*);

300 
Êags
 |
ZEROPAD
;

302 
°r
 = 
	`numbî
(str,

303 ()
	`va_¨g
(
¨gs
, *), 16, 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

307 i‡(
quÆifõr
 == 'l')

309 *
ù
 = 
	`va_¨g
(
¨gs
, *);

310 *
ù
 = (
°r
 - 
buf
);

314 *
ù
 = 
	`va_¨g
(
¨gs
, *);

315 *
ù
 = (
°r
 - 
buf
);

320 *
°r
++ = '%';

325 
ba£
 = 8;

329 
Êags
 |
LARGE
;

331 
ba£
 = 16;

336 
Êags
 |
SIGN
;

341 *
°r
++ = '%';

342 i‡(*
fmt
)

343 *
°r
++ = *
fmt
;

345 --
fmt
;

348 #ifde‡
CFG_64BIT_VSPRINTF


349 i‡(
quÆifõr
 == 'q')

350 
num
 = 
	`va_¨g
(
¨gs
, );

353 i‡(
quÆifõr
 == 'l')

355 
num
 = 
	`va_¨g
(
¨gs
, );

357 i‡(
quÆifõr
 == 'Z' || qualifier == 'z')

359 
num
 = 
	`va_¨g
(
¨gs
, 
size_t
);

361 i‡(
quÆifõr
 == 't')

363 
num
 = 
	`va_¨g
(
¨gs
, 
±rdiff_t
);

365 i‡(
quÆifõr
 == 'h')

367 
num
 = ()
	`va_¨g
(
¨gs
, );

368 i‡(
Êags
 & 
SIGN
)

369 
num
 = ()num;

371 i‡(
Êags
 & 
SIGN
)

372 
num
 = 
	`va_¨g
(
¨gs
, );

374 
num
 = 
	`va_¨g
(
¨gs
, );

375 
°r
 = 
	`numbî
(°r, 
num
, 
ba£
, 
fõld_width
, 
¥ecisi⁄
, 
Êags
);

377 *
°r
 = '\0';

378  
°r
 - 
buf
;

379 
	}
}

381 
	$¥ötf
(c⁄° *
fmt
, ...)

383 
va_li°
 
¨gs
;

384 
uöt
 
i
;

385 
¥ötbuf„r
[
CFG_PBSIZE
];

388 
	`va_°¨t
(
¨gs
, 
fmt
);

393 
i
 = 
	`v•rötf
(
¥ötbuf„r
, 
fmt
, 
¨gs
);

394 
	`va_íd
(
¨gs
);

396 
	`£rül_puts
(
¥ötbuf„r
);

397 
	}
}

399 
	$•rötf
(*
buf
, c⁄° *
fmt
, ...)

401 
va_li°
 
¨gs
;

402 
i
;

404 
	`va_°¨t
(
¨gs
, 
fmt
);

405 
i
 = 
	`v•rötf
(
buf
, 
fmt
, 
¨gs
);

406 
	`va_íd
(
¨gs
);

407  
i
;

408 
	}
}

410 
	$¥ötf
(c⁄° *
fmt
, ...)

413 
	}
}

	@crc32.c

11 
	~<comm⁄.h
>

13 
	#__˝u_to_À32
(
x
Ë((
__u32
)(x))

	)

14 
	#˝u_to_À32
 
__˝u_to_À32


	)

15 
	#À32_to_˝u
(
x
Ë(x)

	)

17 
	#loˇl
 

	)

18 
	#ZEXPORT


	)

20 
	#tﬁe
(
x
Ë
	`˝u_to_À32
(x)

	)

22 #ifde‡
DYNAMIC_CRC_TABLE


24 
loˇl
 
	g¸c_èbÀ_em±y
 = 1;

25 
loˇl
 
uöt32_t
 
	g¸c_èbÀ
[256];

26 
loˇl
 
make_¸c_èbÀ
 
OF
(());

52 
loˇl
 
	$make_¸c_èbÀ
()

54 
uöt32_t
 
c
;

55 
n
, 
k
;

56 
uL⁄g
 
pﬁy
;

58 c⁄° 
Byã
 
p
[] = {0,1,2,4,5,7,8,10,11,12,16,22,23,26};

61 
pﬁy
 = 0L;

62 
n
 = 0;Ç < (
p
)/(
Byã
);Ç++)

63 
pﬁy
 |1L << (31 - 
p
[
n
]);

65 
n
 = 0;Ç < 256;Ç++)

67 
c
 = (
uL⁄g
)
n
;

68 
k
 = 0; k < 8; k++)

69 
c
 = c & 1 ? 
pﬁy
 ^ (c >> 1) : c >> 1;

70 
¸c_èbÀ
[
n
] = 
	`tﬁe
(
c
);

72 
¸c_èbÀ_em±y
 = 0;

73 
	}
}

79 
loˇl
 c⁄° 
uöt32_t
 
	g¸c_èbÀ
[256] = {

80 
tﬁe
(0x00000000L),Åole(0x77073096L),Åole(0xee0e612cL),Åole(0x990951baL),

81 
tﬁe
(0x076dc419L),Åole(0x706af48fL),Åole(0xe963a535L),Åole(0x9e6495a3L),

82 
tﬁe
(0x0edb8832L),Åole(0x79dcb8a4L),Åole(0xe0d5e91eL),Åole(0x97d2d988L),

83 
tﬁe
(0x09b64c2bL),Åole(0x7eb17cbdL),Åole(0xe7b82d07L),Åole(0x90bf1d91L),

84 
tﬁe
(0x1db71064L),Åole(0x6ab020f2L),Åole(0xf3b97148L),Åole(0x84be41deL),

85 
tﬁe
(0x1adad47dL),Åole(0x6ddde4ebL),Åole(0xf4d4b551L),Åole(0x83d385c7L),

86 
tﬁe
(0x136c9856L),Åole(0x646ba8c0L),Åole(0xfd62f97aL),Åole(0x8a65c9ecL),

87 
tﬁe
(0x14015c4fL),Åole(0x63066cd9L),Åole(0xfa0f3d63L),Åole(0x8d080df5L),

88 
tﬁe
(0x3b6e20c8L),Åole(0x4c69105eL),Åole(0xd56041e4L),Åole(0xa2677172L),

89 
tﬁe
(0x3c03e4d1L),Åole(0x4b04d447L),Åole(0xd20d85fdL),Åole(0xa50ab56bL),

90 
tﬁe
(0x35b5a8faL),Åole(0x42b2986cL),Åole(0xdbbbc9d6L),Åole(0xacbcf940L),

91 
tﬁe
(0x32d86ce3L),Åole(0x45df5c75L),Åole(0xdcd60dcfL),Åole(0xabd13d59L),

92 
tﬁe
(0x26d930acL),Åole(0x51de003aL),Åole(0xc8d75180L),Åole(0xbfd06116L),

93 
tﬁe
(0x21b4f4b5L),Åole(0x56b3c423L),Åole(0xcfba9599L),Åole(0xb8bda50fL),

94 
tﬁe
(0x2802b89eL),Åole(0x5f058808L),Åole(0xc60cd9b2L),Åole(0xb10be924L),

95 
tﬁe
(0x2f6f7c87L),Åole(0x58684c11L),Åole(0xc1611dabL),Åole(0xb6662d3dL),

96 
tﬁe
(0x76dc4190L),Åole(0x01db7106L),Åole(0x98d220bcL),Åole(0xefd5102aL),

97 
tﬁe
(0x71b18589L),Åole(0x06b6b51fL),Åole(0x9fbfe4a5L),Åole(0xe8b8d433L),

98 
tﬁe
(0x7807c9a2L),Åole(0x0f00f934L),Åole(0x9609a88eL),Åole(0xe10e9818L),

99 
tﬁe
(0x7f6a0dbbL),Åole(0x086d3d2dL),Åole(0x91646c97L),Åole(0xe6635c01L),

100 
tﬁe
(0x6b6b51f4L),Åole(0x1c6c6162L),Åole(0x856530d8L),Åole(0xf262004eL),

101 
tﬁe
(0x6c0695edL),Åole(0x1b01a57bL),Åole(0x8208f4c1L),Åole(0xf50fc457L),

102 
tﬁe
(0x65b0d9c6L),Åole(0x12b7e950L),Åole(0x8bbeb8eaL),Åole(0xfcb9887cL),

103 
tﬁe
(0x62dd1ddfL),Åole(0x15da2d49L),Åole(0x8cd37cf3L),Åole(0xfbd44c65L),

104 
tﬁe
(0x4db26158L),Åole(0x3ab551ceL),Åole(0xa3bc0074L),Åole(0xd4bb30e2L),

105 
tﬁe
(0x4adfa541L),Åole(0x3dd895d7L),Åole(0xa4d1c46dL),Åole(0xd3d6f4fbL),

106 
tﬁe
(0x4369e96aL),Åole(0x346ed9fcL),Åole(0xad678846L),Åole(0xda60b8d0L),

107 
tﬁe
(0x44042d73L),Åole(0x33031de5L),Åole(0xaa0a4c5fL),Åole(0xdd0d7cc9L),

108 
tﬁe
(0x5005713cL),Åole(0x270241aaL),Åole(0xbe0b1010L),Åole(0xc90c2086L),

109 
tﬁe
(0x5768b525L),Åole(0x206f85b3L),Åole(0xb966d409L),Åole(0xce61e49fL),

110 
tﬁe
(0x5edef90eL),Åole(0x29d9c998L),Åole(0xb0d09822L),Åole(0xc7d7a8b4L),

111 
tﬁe
(0x59b33d17L),Åole(0x2eb40d81L),Åole(0xb7bd5c3bL),Åole(0xc0ba6cadL),

112 
tﬁe
(0xedb88320L),Åole(0x9abfb3b6L),Åole(0x03b6e20cL),Åole(0x74b1d29aL),

113 
tﬁe
(0xead54739L),Åole(0x9dd277afL),Åole(0x04db2615L),Åole(0x73dc1683L),

114 
tﬁe
(0xe3630b12L),Åole(0x94643b84L),Åole(0x0d6d6a3eL),Åole(0x7a6a5aa8L),

115 
tﬁe
(0xe40ecf0bL),Åole(0x9309ff9dL),Åole(0x0a00ae27L),Åole(0x7d079eb1L),

116 
tﬁe
(0xf00f9344L),Åole(0x8708a3d2L),Åole(0x1e01f268L),Åole(0x6906c2feL),

117 
tﬁe
(0xf762575dL),Åole(0x806567cbL),Åole(0x196c3671L),Åole(0x6e6b06e7L),

118 
tﬁe
(0xfed41b76L),Åole(0x89d32be0L),Åole(0x10da7a5aL),Åole(0x67dd4accL),

119 
tﬁe
(0xf9b9df6fL),Åole(0x8ebeeff9L),Åole(0x17b7be43L),Åole(0x60b08ed5L),

120 
tﬁe
(0xd6d6a3e8L),Åole(0xa1d1937eL),Åole(0x38d8c2c4L),Åole(0x4fdff252L),

121 
tﬁe
(0xd1bb67f1L),Åole(0xa6bc5767L),Åole(0x3fb506ddL),Åole(0x48b2364bL),

122 
tﬁe
(0xd80d2bdaL),Åole(0xaf0a1b4cL),Åole(0x36034af6L),Åole(0x41047a60L),

123 
tﬁe
(0xdf60efc3L),Åole(0xa867df55L),Åole(0x316e8eefL),Åole(0x4669be79L),

124 
tﬁe
(0xcb61b38cL),Åole(0xbc66831aL),Åole(0x256fd2a0L),Åole(0x5268e236L),

125 
tﬁe
(0xcc0c7795L),Åole(0xbb0b4703L),Åole(0x220216b9L),Åole(0x5505262fL),

126 
tﬁe
(0xc5ba3bbeL),Åole(0xb2bd0b28L),Åole(0x2bb45a92L),Åole(0x5cb36a04L),

127 
tﬁe
(0xc2d7ffa7L),Åole(0xb5d0cf31L),Åole(0x2cd99e8bL),Åole(0x5bdeae1dL),

128 
tﬁe
(0x9b64c2b0L),Åole(0xec63f226L),Åole(0x756aa39cL),Åole(0x026d930aL),

129 
tﬁe
(0x9c0906a9L),Åole(0xeb0e363fL),Åole(0x72076785L),Åole(0x05005713L),

130 
tﬁe
(0x95bf4a82L),Åole(0xe2b87a14L),Åole(0x7bb12baeL),Åole(0x0cb61b38L),

131 
tﬁe
(0x92d28e9bL),Åole(0xe5d5be0dL),Åole(0x7cdcefb7L),Åole(0x0bdbdf21L),

132 
tﬁe
(0x86d3d2d4L),Åole(0xf1d4e242L),Åole(0x68ddb3f8L),Åole(0x1fda836eL),

133 
tﬁe
(0x81be16cdL),Åole(0xf6b9265bL),Åole(0x6fb077e1L),Åole(0x18b74777L),

134 
tﬁe
(0x88085ae6L),Åole(0xff0f6a70L),Åole(0x66063bcaL),Åole(0x11010b5cL),

135 
tﬁe
(0x8f659effL),Åole(0xf862ae69L),Åole(0x616bffd3L),Åole(0x166ccf45L),

136 
tﬁe
(0xa00ae278L),Åole(0xd70dd2eeL),Åole(0x4e048354L),Åole(0x3903b3c2L),

137 
tﬁe
(0xa7672661L),Åole(0xd06016f7L),Åole(0x4969474dL),Åole(0x3e6e77dbL),

138 
tﬁe
(0xaed16a4aL),Åole(0xd9d65adcL),Åole(0x40df0b66L),Åole(0x37d83bf0L),

139 
tﬁe
(0xa9bcae53L),Åole(0xdebb9ec5L),Åole(0x47b2cf7fL),Åole(0x30b5ffe9L),

140 
tﬁe
(0xbdbdf21cL),Åole(0xcabac28aL),Åole(0x53b39330L),Åole(0x24b4a3a6L),

141 
tﬁe
(0xbad03605L),Åole(0xcdd70693L),Åole(0x54de5729L),Åole(0x23d967bfL),

142 
tﬁe
(0xb3667a2eL),Åole(0xc4614ab8L),Åole(0x5d681b02L),Åole(0x2a6f2b94L),

143 
tﬁe
(0xb40bbe37L),Åole(0xc30c8ea1L),Åole(0x5a05df1bL),Åole(0x2d02ef8dL)

151 c⁄° 
uöt32_t
 * 
ZEXPORT
 
	$gë_¸c_èbÀ
()

153 #ifde‡
DYNAMIC_CRC_TABLE


154 i‡(
¸c_èbÀ_em±y
Ë
	`make_¸c_èbÀ
();

156  (c⁄° 
uöt32_t
 *)
¸c_èbÀ
;

157 
	}
}

161 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


162 
	#DO_CRC
(
x
Ë
¸c
 = 
èb
[(¸¯^ (x)Ë& 255] ^ (¸¯>> 8)

	)

164 
	#DO_CRC
(
x
Ë
¸c
 = 
èb
[((¸¯>> 24Ë^ (x)Ë& 255] ^ (¸¯<< 8)

	)

172 
uöt32_t
 
ZEXPORT
 
	$¸c32_no_comp
(
uöt32_t
 
¸c
, c⁄° 
uch¨
 *
buf
, 
uöt
 
Àn
)

174 c⁄° 
uöt32_t
 *
èb
 = 
¸c_èbÀ
;

175 c⁄° 
uöt32_t
 *
b
 =(c⁄° uöt32_à*)
buf
;

176 
size_t
 
ªm_Àn
;

177 #ifde‡
DYNAMIC_CRC_TABLE


178 i‡(
¸c_èbÀ_em±y
)

179 
	`make_¸c_èbÀ
();

181 
¸c
 = 
	`˝u_to_À32
(crc);

183 i‡((()
b
Ë& 3 && 
Àn
) {

184 
uöt8_t
 *
p
 = (uöt8_à*)
b
;

186 
	`DO_CRC
(*
p
++);

187 } (--
Àn
Ë&& (()
p
)&3);

188 
b
 = (
uöt32_t
 *)
p
;

191 
ªm_Àn
 = 
Àn
 & 3;

192 
Àn
 =Üen >> 2;

193 --
b
; 
Àn
; --len) {

195 
¸c
 ^*++
b
;

196 
	`DO_CRC
(0);

197 
	`DO_CRC
(0);

198 
	`DO_CRC
(0);

199 
	`DO_CRC
(0);

201 
Àn
 = 
ªm_Àn
;

203 i‡(
Àn
) {

204 
uöt8_t
 *
p
 = (uöt8_à*)(
b
 + 1) - 1;

206 
	`DO_CRC
(*++
p
);

207 } --
Àn
);

210  
	`À32_to_˝u
(
¸c
);

211 
	}
}

212 #unde‡
DO_CRC


214 
uöt32_t
 
ZEXPORT
 
	$¸c32
 (
uöt32_t
 
¸c
, c⁄° 
uch¨
 *
p
, 
uöt
 
Àn
)

216  
	`¸c32_no_comp
(
¸c
 ^ 0xffffffffL, 
p
, 
Àn
) ^ 0xffffffffL;

217 
	}
}

	@include/asm/errno.h

1 #i‚de‡
_ARM_ERRNO_H


2 
	#_ARM_ERRNO_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

38 
	#EDEADLK
 35

	)

39 
	#ENAMETOOLONG
 36

	)

40 
	#ENOLCK
 37

	)

41 
	#ENOSYS
 38

	)

42 
	#ENOTEMPTY
 39

	)

43 
	#ELOOP
 40

	)

44 
	#EWOULDBLOCK
 
EAGAIN


	)

45 
	#ENOMSG
 42

	)

46 
	#EIDRM
 43

	)

47 
	#ECHRNG
 44

	)

48 
	#EL2NSYNC
 45

	)

49 
	#EL3HLT
 46

	)

50 
	#EL3RST
 47

	)

51 
	#ELNRNG
 48

	)

52 
	#EUNATCH
 49

	)

53 
	#ENOCSI
 50

	)

54 
	#EL2HLT
 51

	)

55 
	#EBADE
 52

	)

56 
	#EBADR
 53

	)

57 
	#EXFULL
 54

	)

58 
	#ENOANO
 55

	)

59 
	#EBADRQC
 56

	)

60 
	#EBADSLT
 57

	)

61 
	#EDEADLOCK
 58

	)

62 
	#EBFONT
 59

	)

63 
	#ENOSTR
 60

	)

64 
	#ENODATA
 61

	)

65 
	#ETIME
 62

	)

66 
	#ENOSR
 63

	)

67 
	#ENONET
 64

	)

68 
	#ENOPKG
 65

	)

69 
	#EREMOTE
 66

	)

70 
	#ENOLINK
 67

	)

71 
	#EADV
 68

	)

72 
	#ESRMNT
 69

	)

73 
	#ECOMM
 70

	)

74 
	#EPROTO
 71

	)

75 
	#EMULTIHOP
 72

	)

76 
	#EDOTDOT
 73

	)

77 
	#EBADMSG
 74

	)

78 
	#EOVERFLOW
 75

	)

79 
	#ENOTUNIQ
 76

	)

80 
	#EBADFD
 77

	)

81 
	#EREMCHG
 78

	)

82 
	#ELIBACC
 79

	)

83 
	#ELIBBAD
 80

	)

84 
	#ELIBSCN
 81

	)

85 
	#ELIBMAX
 82

	)

86 
	#ELIBEXEC
 83

	)

87 
	#EILSEQ
 84

	)

88 
	#ERESTART
 85

	)

89 
	#ESTRPIPE
 86

	)

90 
	#EUSERS
 87

	)

91 
	#ENOTSOCK
 88

	)

92 
	#EDESTADDRREQ
 89

	)

93 
	#EMSGSIZE
 90

	)

94 
	#EPROTOTYPE
 91

	)

95 
	#ENOPROTOOPT
 92

	)

96 
	#EPROTONOSUPPORT
 93

	)

97 
	#ESOCKTNOSUPPORT
 94

	)

98 
	#EOPNOTSUPP
 95

	)

99 
	#EPFNOSUPPORT
 96

	)

100 
	#EAFNOSUPPORT
 97

	)

101 
	#EADDRINUSE
 98

	)

102 
	#EADDRNOTAVAIL
 99

	)

103 
	#ENETDOWN
 100

	)

104 
	#ENETUNREACH
 101

	)

105 
	#ENETRESET
 102

	)

106 
	#ECONNABORTED
 103

	)

107 
	#ECONNRESET
 104

	)

108 
	#ENOBUFS
 105

	)

109 
	#EISCONN
 106

	)

110 
	#ENOTCONN
 107

	)

111 
	#ESHUTDOWN
 108

	)

112 
	#ETOOMANYREFS
 109

	)

113 
	#ETIMEDOUT
 110

	)

114 
	#ECONNREFUSED
 111

	)

115 
	#EHOSTDOWN
 112

	)

116 
	#EHOSTUNREACH
 113

	)

117 
	#EALREADY
 114

	)

118 
	#EINPROGRESS
 115

	)

119 
	#ESTALE
 116

	)

120 
	#EUCLEAN
 117

	)

121 
	#ENOTNAM
 118

	)

122 
	#ENAVAIL
 119

	)

123 
	#EISNAM
 120

	)

124 
	#EREMOTEIO
 121

	)

125 
	#EDQUOT
 122

	)

127 
	#ENOMEDIUM
 123

	)

128 
	#EMEDIUMTYPE
 124

	)

131 
	#ERESTARTSYS
 512

	)

132 
	#ERESTARTNOINTR
 513

	)

133 
	#ERESTARTNOHAND
 514

	)

134 
	#ENOIOCTLCMD
 515

	)

136 
	#_LAST_ERRNO
 515

	)

	@include/asm/hardware.h

1 #i‚de‡
_ARCH_HARDWARE_H_


2 
	#_ARCH_HARDWARE_H_


	)

4 
	~<asm/sizes.h
>

6 #i‚de‡
__ASSEMBLY__


7 
	#UD©a
(
D©a
Ë((Ë(D©a))

	)

9 
	#__REG
(
x
Ë(*(
vu_l⁄g
 *)(x))

	)

10 
	#__REGl
(
x
Ë(*(
vu_l⁄g
 *)(x))

	)

11 
	#__REGi
(
x
Ë(*(
vu_öt
 *)(x))

	)

12 
	#__REGw
(
x
Ë(*(
vu_sh‹t
 *)(x))

	)

13 
	#__REGb
(
x
Ë(*(
vu_ch¨
 *)(x))

	)

14 
	#__REG2
(
x
,
y
Ë(*(
vu_l⁄g
 *)((xË+ (y)))

	)

16 
	#UD©a
(
D©a
Ë(D©a)

	)

18 
	#__REG
(
x
Ë(x)

	)

19 
	#__REGl
(
x
Ë(x)

	)

20 
	#__REGi
(
x
Ë(x)

	)

21 
	#__REGw
(
x
Ë(x)

	)

22 
	#__REGb
(
x
Ë(x)

	)

23 
	#__REG2
(
x
,
y
Ë((xË+ (y))

	)

26 
	#Fld
(
Size
, 
Sh·
Ë(((SizeË<< 16Ë+ (Sh·))

	)

28 
	#FSize
(
Fõld
Ë((FõldË>> 16)

	)

29 
	#FSh·
(
Fõld
Ë((FõldË& 0x0000FFFF)

	)

30 
	#FMsk
(
Fõld
Ë(((
	`UD©a
 (1Ë<< 
	`FSize
 (Fõld)Ë- 1Ë<< 
	`FSh·
 (Fõld))

	)

31 
	#FA Msk
(
Fõld
Ë((
	`UD©a
 (1Ë<< 
	`FSize
 (Fõld)Ë- 1)

	)

32 
	#F1°Bô
(
Fõld
Ë(
	`UD©a
 (1Ë<< 
	`FSh·
 (Fõld))

	)

34 
	#FCÃBô
(
D©a
, 
Bô
Ë(D©®(D©®& ~(Bô)))

	)

35 
	#FCÃFld
(
D©a
, 
Fõld
Ë(D©®(D©®& ~
	`FMsk
(Fõld)))

	)

37 
	#FIn§t
(
VÆue
, 
Fõld
) \

38 (
	`UD©a
 (
VÆue
Ë<< 
	`FSh·
 (
Fõld
))

	)

40 
	#FExå
(
D©a
, 
Fõld
) \

41 ((
	`UD©a
 (
D©a
Ë>> 
	`FSh·
 (
Fõld
)Ë& 
	`FA Msk
 (Fõld))

	)

	@include/asm/io.h

20 #i‚de‡
__ASM_ARM_IO_H


21 
	#__ASM_ARM_IO_H


	)

23 #ifde‡
__KERNEL__


25 
	~<löux/ty≥s.h
>

27 
ölöe
 
	$sync
()

29 
	}
}

36 
	#MAP_NOCACHE
 (0)

	)

37 
	#MAP_WRCOMBINE
 (0)

	)

38 
	#MAP_WRBACK
 (0)

	)

39 
	#MAP_WRTHROUGH
 (0)

	)

41 
ölöe
 *
	$m≠_physmem
(
phys_addr_t
 
∑ddr
, 
Àn
, 
Êags
)

43  (*)
∑ddr
;

44 
	}
}

49 
ölöe
 
	$unm≠_physmem
(*
vaddr
, 
Êags
)

52 
	}
}

59 
	#__¨ch_gëb
(
a
Ë(*(vﬁ©ûê*)◊))

	)

60 
	#__¨ch_gëw
(
a
Ë(*(vﬁ©ûê*)◊))

	)

61 
	#__¨ch_gël
(
a
Ë(*(vﬁ©ûê*)◊))

	)

63 
	#__¨ch_putb
(
v
,
a
Ë(*(vﬁ©ûê*)◊Ë(v))

	)

64 
	#__¨ch_putw
(
v
,
a
Ë(*(vﬁ©ûê*)◊Ë(v))

	)

65 
	#__¨ch_pué
(
v
,
a
Ë(*(vﬁ©ûê*)◊Ë(v))

	)

67 
__øw_wrôesb
(
addr
, c⁄° *
d©a
, 
byãÀn
);

68 
__øw_wrôesw
(
addr
, c⁄° *
d©a
, 
w‹dÀn
);

69 
__øw_wrôe¶
(
addr
, c⁄° *
d©a
, 
l⁄gÀn
);

71 
__øw_ªadsb
(
addr
, *
d©a
, 
byãÀn
);

72 
__øw_ªadsw
(
addr
, *
d©a
, 
w‹dÀn
);

73 
__øw_ªad¶
(
addr
, *
d©a
, 
l⁄gÀn
);

75 
	#__øw_wrôeb
(
v
,
a
Ë
	`__¨ch_putb
(v,a)

	)

76 
	#__øw_wrôew
(
v
,
a
Ë
	`__¨ch_putw
(v,a)

	)

77 
	#__øw_wrôñ
(
v
,
a
Ë
	`__¨ch_pué
(v,a)

	)

79 
	#__øw_ªadb
(
a
Ë
	`__¨ch_gëb
◊)

	)

80 
	#__øw_ªadw
(
a
Ë
	`__¨ch_gëw
◊)

	)

81 
	#__øw_ªadl
(
a
Ë
	`__¨ch_gël
◊)

	)

83 
	#wrôeb
(
v
,
a
Ë
	`__¨ch_putb
(v,a)

	)

84 
	#wrôew
(
v
,
a
Ë
	`__¨ch_putw
(v,a)

	)

85 
	#wrôñ
(
v
,
a
Ë
	`__¨ch_pué
(v,a)

	)

87 
	#ªadb
(
a
Ë
	`__¨ch_gëb
◊)

	)

88 
	#ªadw
(
a
Ë
	`__¨ch_gëw
◊)

	)

89 
	#ªadl
(
a
Ë
	`__¨ch_gël
◊)

	)

96 
	#__øw_ba£_wrôeb
(
vÆ
,
ba£
,
off
Ë
	`__¨ch_ba£_putb
(vÆ,ba£,off)

	)

97 
	#__øw_ba£_wrôew
(
vÆ
,
ba£
,
off
Ë
	`__¨ch_ba£_putw
(vÆ,ba£,off)

	)

98 
	#__øw_ba£_wrôñ
(
vÆ
,
ba£
,
off
Ë
	`__¨ch_ba£_pué
(vÆ,ba£,off)

	)

100 
	#__øw_ba£_ªadb
(
ba£
,
off
Ë
	`__¨ch_ba£_gëb
(ba£,off)

	)

101 
	#__øw_ba£_ªadw
(
ba£
,
off
Ë
	`__¨ch_ba£_gëw
(ba£,off)

	)

102 
	#__øw_ba£_ªadl
(
ba£
,
off
Ë
	`__¨ch_ba£_gël
(ba£,off)

	)

108 
	~<asm/¨ch/io.h
>

135 #ifde‡
__io


136 
	#outb
(
v
,
p
Ë
	`__øw_wrôeb
(v,
	`__io
’))

	)

137 
	#outw
(
v
,
p
Ë
	`__øw_wrôew
(
	`˝u_to_À16
(v),
	`__io
’))

	)

138 
	#oué
(
v
,
p
Ë
	`__øw_wrôñ
(
	`˝u_to_À32
(v),
	`__io
’))

	)

140 
	#öb
(
p
Ë({ 
__v
 = 
	`__øw_ªadb
(
	`__io
’)); __v; })

	)

141 
	#öw
(
p
Ë({ 
__v
 = 
	`À16_to_˝u
(
	`__øw_ªadw
(
	`__io
’))); __v; })

	)

142 
	#öl
(
p
Ë({ 
__v
 = 
	`À32_to_˝u
(
	`__øw_ªadl
(
	`__io
’))); __v; })

	)

144 
	#outsb
(
p
,
d
,
l
Ë
	`__øw_wrôesb
(
	`__io
’),d,l)

	)

145 
	#outsw
(
p
,
d
,
l
Ë
	`__øw_wrôesw
(
	`__io
’),d,l)

	)

146 
	#out¶
(
p
,
d
,
l
Ë
	`__øw_wrôe¶
(
	`__io
’),d,l)

	)

148 
	#ösb
(
p
,
d
,
l
Ë
	`__øw_ªadsb
(
	`__io
’),d,l)

	)

149 
	#ösw
(
p
,
d
,
l
Ë
	`__øw_ªadsw
(
	`__io
’),d,l)

	)

150 
	#ö¶
(
p
,
d
,
l
Ë
	`__øw_ªad¶
(
	`__io
’),d,l)

	)

153 
	#outb_p
(
vÆ
,
p‹t
Ë
	`outb
((vÆ),’‹t))

	)

154 
	#outw_p
(
vÆ
,
p‹t
Ë
	`outw
((vÆ),’‹t))

	)

155 
	#oué_p
(
vÆ
,
p‹t
Ë
	`oué
((vÆ),’‹t))

	)

156 
	#öb_p
(
p‹t
Ë
	`öb
(’‹t))

	)

157 
	#öw_p
(
p‹t
Ë
	`öw
(’‹t))

	)

158 
	#öl_p
(
p‹t
Ë
	`öl
(’‹t))

	)

160 
	#outsb_p
(
p‹t
,
‰om
,
Àn
Ë
	`outsb
’‹t,‰om,Àn)

	)

161 
	#outsw_p
(
p‹t
,
‰om
,
Àn
Ë
	`outsw
’‹t,‰om,Àn)

	)

162 
	#out¶_p
(
p‹t
,
‰om
,
Àn
Ë
	`out¶
’‹t,‰om,Àn)

	)

163 
	#ösb_p
(
p‹t
,
to
,
Àn
Ë
	`ösb
’‹t,to,Àn)

	)

164 
	#ösw_p
(
p‹t
,
to
,
Àn
Ë
	`ösw
’‹t,to,Àn)

	)

165 
	#ö¶_p
(
p‹t
,
to
,
Àn
Ë
	`ö¶
’‹t,to,Àn)

	)

174 *
__i‹em≠
(
off£t
, 
size_t
 
size
, 
Êags
);

175 
__iounm≠
(*
addr
);

184 #ifde‡
iomem_vÆid_addr


185 
	#__¨ch_i‹em≠
(
off
,
sz
,
noˇche
) \

187 
_off
 = (
off
), 
_size
 = (
sz
); \

188 *
_ªt
 = (*)0; \

189 i‡(
	`iomem_vÆid_addr
(
_off
, 
_size
)) \

190 
_ªt
 = 
	`__i‹em≠
(
	`iomem_to_phys
(
_off
),
_size
,0); \

191 
_ªt
; \

192 })

	)

194 
	#__¨ch_iounm≠
 
__iounm≠


	)

197 
	#i‹em≠
(
off
,
sz
Ë
	`__¨ch_i‹em≠
((off),(sz),0)

	)

198 
	#i‹em≠_noˇche
(
off
,
sz
Ë
	`__¨ch_i‹em≠
((off),(sz),1)

	)

199 
	#iounm≠
(
_addr
Ë
	`__¨ch_iounm≠
(_addr)

	)

207 *
c⁄si°ít_Æloc
(
gÂ
, 
size_t
 
size
, 
dma_addr_t
 * 
h™dÀ
);

208 
c⁄si°ít_‰ì
(*
vaddr
, 
size_t
 
size
, 
dma_addr_t
 
h™dÀ
);

209 
c⁄si°ít_sync
(*
vaddr
, 
size_t
 
size
, 
rw
);

214 
_mem˝y_‰omio
(*, , 
size_t
);

215 
_mem˝y_toio
(, c⁄° *, 
size_t
);

216 
_mem£t_io
(, , 
size_t
);

218 
__ªadwrôe_bug
(c⁄° *
‚
);

225 #ifde‡
__mem_pci


227 
	#ªadb
(
c
Ë({ 
__v
 = 
	`__øw_ªadb
(
	`__mem_pci
(c)); __v; })

	)

228 
	#ªadw
(
c
Ë({ 
__v
 = 
	`À16_to_˝u
(
	`__øw_ªadw
(
	`__mem_pci
(c))); __v; })

	)

229 
	#ªadl
(
c
Ë({ 
__v
 = 
	`À32_to_˝u
(
	`__øw_ªadl
(
	`__mem_pci
(c))); __v; })

	)

231 
	#wrôeb
(
v
,
c
Ë
	`__øw_wrôeb
(v,
	`__mem_pci
(c))

	)

232 
	#wrôew
(
v
,
c
Ë
	`__øw_wrôew
(
	`˝u_to_À16
(v),
	`__mem_pci
(c))

	)

233 
	#wrôñ
(
v
,
c
Ë
	`__øw_wrôñ
(
	`˝u_to_À32
(v),
	`__mem_pci
(c))

	)

235 
	#mem£t_io
(
c
,
v
,
l
Ë
	`_mem£t_io
(
	`__mem_pci
(c),(v),÷))

	)

236 
	#mem˝y_‰omio
(
a
,
c
,
l
Ë
	`_mem˝y_‰omio
(◊),
	`__mem_pci
(c),÷))

	)

237 
	#mem˝y_toio
(
c
,
a
,
l
Ë
	`_mem˝y_toio
(
	`__mem_pci
(c),◊),÷))

	)

239 
	#ëh_io_c›y_™d_sum
(
s
,
c
,
l
,
b
) \

240 
	`ëh_c›y_™d_sum
((
s
),
	`__mem_pci
(
c
),(
l
),(
b
))

	)

242 
ölöe
 
	$check_sig«tuª
(
io_addr
, c⁄° *
sig«tuª
, 
Àngth
)

244 
ªtvÆ
 = 0;

247 i‡(
	`ªadb
(
io_addr
Ë!*
sig«tuª
)

248 
out
;

249 
io_addr
++;

250 
sig«tuª
++;

251 
Àngth
--;

253 
Àngth
);

254 
ªtvÆ
 = 1;

255 
out
:

256  
ªtvÆ
;

257 
	}
}

259 #ñi‡!
deföed
(
ªadb
)

261 
	#ªadb
(
addr
Ë(
	`__ªadwrôe_bug
("ªadb"),0)

	)

262 
	#ªadw
(
addr
Ë(
	`__ªadwrôe_bug
("ªadw"),0)

	)

263 
	#ªadl
(
addr
Ë(
	`__ªadwrôe_bug
("ªadl"),0)

	)

264 
	#wrôeb
(
v
,
addr
Ë
	`__ªadwrôe_bug
("wrôeb")

	)

265 
	#wrôew
(
v
,
addr
Ë
	`__ªadwrôe_bug
("wrôew")

	)

266 
	#wrôñ
(
v
,
addr
Ë
	`__ªadwrôe_bug
("wrôñ")

	)

268 
	#ëh_io_c›y_™d_sum
(
a
,
b
,
c
,
d
Ë
	`__ªadwrôe_bug
("ëh_io_c›y_™d_sum")

	)

270 
	#check_sig«tuª
(
io
,
sig
,
Àn
Ë(0)

	)

278 #ifde‡
__mem_iß


280 
	#iß_ªadb
(
addr
Ë
	`__øw_ªadb
(
	`__mem_iß
◊ddr))

	)

281 
	#iß_ªadw
(
addr
Ë
	`__øw_ªadw
(
	`__mem_iß
◊ddr))

	)

282 
	#iß_ªadl
(
addr
Ë
	`__øw_ªadl
(
	`__mem_iß
◊ddr))

	)

283 
	#iß_wrôeb
(
vÆ
,
addr
Ë
	`__øw_wrôeb
(vÆ,
	`__mem_iß
◊ddr))

	)

284 
	#iß_wrôew
(
vÆ
,
addr
Ë
	`__øw_wrôew
(vÆ,
	`__mem_iß
◊ddr))

	)

285 
	#iß_wrôñ
(
vÆ
,
addr
Ë
	`__øw_wrôñ
(vÆ,
	`__mem_iß
◊ddr))

	)

286 
	#iß_mem£t_io
(
a
,
b
,
c
Ë
	`_mem£t_io
(
	`__mem_iß
◊),(b),(c))

	)

287 
	#iß_mem˝y_‰omio
(
a
,
b
,
c
Ë
	`_mem˝y_‰omio
(◊),
	`__mem_iß
(b),(c))

	)

288 
	#iß_mem˝y_toio
(
a
,
b
,
c
Ë
	`_mem˝y_toio
(
	`__mem_iß
(◊)),(b),(c))

	)

290 
	#iß_ëh_io_c›y_™d_sum
(
a
,
b
,
c
,
d
) \

291 
	`ëh_c›y_™d_sum
((
a
),
	`__mem_iß
(
b
),(
c
),(
d
))

	)

293 
ölöe
 

294 
	$iß_check_sig«tuª
(
io_addr
, c⁄° *
sig«tuª
, 
Àngth
)

296 
ªtvÆ
 = 0;

299 i‡(
	`iß_ªadb
(
io_addr
Ë!*
sig«tuª
)

300 
out
;

301 
io_addr
++;

302 
sig«tuª
++;

303 
Àngth
--;

305 
Àngth
);

306 
ªtvÆ
 = 1;

307 
out
:

308  
ªtvÆ
;

309 
	}
}

313 
	#iß_ªadb
(
addr
Ë(
	`__ªadwrôe_bug
("iß_ªadb"),0)

	)

314 
	#iß_ªadw
(
addr
Ë(
	`__ªadwrôe_bug
("iß_ªadw"),0)

	)

315 
	#iß_ªadl
(
addr
Ë(
	`__ªadwrôe_bug
("iß_ªadl"),0)

	)

316 
	#iß_wrôeb
(
vÆ
,
addr
Ë
	`__ªadwrôe_bug
("iß_wrôeb")

	)

317 
	#iß_wrôew
(
vÆ
,
addr
Ë
	`__ªadwrôe_bug
("iß_wrôew")

	)

318 
	#iß_wrôñ
(
vÆ
,
addr
Ë
	`__ªadwrôe_bug
("iß_wrôñ")

	)

319 
	#iß_mem£t_io
(
a
,
b
,
c
Ë
	`__ªadwrôe_bug
("iß_mem£t_io")

	)

320 
	#iß_mem˝y_‰omio
(
a
,
b
,
c
Ë
	`__ªadwrôe_bug
("iß_mem˝y_‰omio")

	)

321 
	#iß_mem˝y_toio
(
a
,
b
,
c
Ë
	`__ªadwrôe_bug
("iß_mem˝y_toio")

	)

323 
	#iß_ëh_io_c›y_™d_sum
(
a
,
b
,
c
,
d
) \

324 
	`__ªadwrôe_bug
("iß_ëh_io_c›y_™d_sum")

	)

326 
	#iß_check_sig«tuª
(
io
,
sig
,
Àn
Ë(0)

	)

	@include/asm/posix_types.h

13 #i‚de‡
__ARCH_ARM_POSIX_TYPES_H


14 
	#__ARCH_ARM_POSIX_TYPES_H


	)

22 
	t__kî√l_dev_t
;

23 
	t__kî√l_öo_t
;

24 
	t__kî√l_mode_t
;

25 
	t__kî√l_∆ök_t
;

26 
	t__kî√l_off_t
;

27 
	t__kî√l_pid_t
;

28 
	t__kî√l_ùc_pid_t
;

29 
	t__kî√l_uid_t
;

30 
	t__kî√l_gid_t
;

31 
	t__kî√l_size_t
;

32 
	t__kî√l_ssize_t
;

33 
	t__kî√l_±rdiff_t
;

34 
	t__kî√l_time_t
;

35 
	t__kî√l_su£c⁄ds_t
;

36 
	t__kî√l_˛ock_t
;

37 
	t__kî√l_daddr_t
;

38 *
	t__kî√l_ˇddr_t
;

39 
	t__kî√l_uid16_t
;

40 
	t__kî√l_gid16_t
;

41 
	t__kî√l_uid32_t
;

42 
	t__kî√l_gid32_t
;

44 
	t__kî√l_ﬁd_uid_t
;

45 
	t__kî√l_ﬁd_gid_t
;

47 #ifde‡
__GNUC__


48 
	t__kî√l_loff_t
;

53 #i‡
deföed
(
__KERNEL__
Ë|| deföed(
__USE_ALL
)

54 
	mvÆ
[2];

56 
	m__vÆ
[2];

58 } 
	t__kî√l_fsid_t
;

60 #i‡
deföed
(
__KERNEL__
Ë|| !deföed(
__GLIBC__
) || (__GLIBC__ < 2)

62 #unde‡
__FD_SET


63 
	#__FD_SET
(
fd
, 
fd£ç
) \

64 (((
fd_£t
 *)
fd£ç
)->
fds_bôs
[
fd
 >> 5] |(1<<(fd & 31)))

	)

66 #unde‡
__FD_CLR


67 
	#__FD_CLR
(
fd
, 
fd£ç
) \

68 (((
fd_£t
 *)
fd£ç
)->
fds_bôs
[
fd
 >> 5] &~(1<<(fd & 31)))

	)

70 #unde‡
__FD_ISSET


71 
	#__FD_ISSET
(
fd
, 
fd£ç
) \

72 ((((
fd_£t
 *)
fd£ç
)->
fds_bôs
[
fd
 >> 5] & (1<<(fd & 31))Ë!0)

	)

74 #unde‡
__FD_ZERO


75 
	#__FD_ZERO
(
fd£ç
) \

76 (
	`mem£t
 (
fd£ç
, 0,  (*(
fd_£t
 *)fd£ç)))

	)

	@include/asm/sizes.h

23 #i‚de‡
__sizes_h


24 
	#__sizes_h
 1

	)

27 
	#SZ_1K
 0x00000400

	)

28 
	#SZ_4K
 0x00001000

	)

29 
	#SZ_8K
 0x00002000

	)

30 
	#SZ_16K
 0x00004000

	)

31 
	#SZ_64K
 0x00010000

	)

32 
	#SZ_128K
 0x00020000

	)

33 
	#SZ_256K
 0x00040000

	)

34 
	#SZ_512K
 0x00080000

	)

36 
	#SZ_1M
 0x00100000

	)

37 
	#SZ_2M
 0x00200000

	)

38 
	#SZ_4M
 0x00400000

	)

39 
	#SZ_8M
 0x00800000

	)

40 
	#SZ_16M
 0x01000000

	)

41 
	#SZ_32M
 0x02000000

	)

42 
	#SZ_64M
 0x04000000

	)

43 
	#SZ_128M
 0x08000000

	)

44 
	#SZ_256M
 0x10000000

	)

45 
	#SZ_512M
 0x20000000

	)

47 
	#SZ_1G
 0x40000000

	)

48 
	#SZ_2G
 0x80000000

	)

	@include/asm/types.h

1 #i‚de‡
__ASM_ARM_TYPES_H


2 
	#__ASM_ARM_TYPES_H


	)

4 
	tumode_t
;

11 
__sig√d__
 
	t__s8
;

12 
	t__u8
;

14 
__sig√d__
 
	t__s16
;

15 
	t__u16
;

17 
__sig√d__
 
	t__s32
;

18 
	t__u32
;

20 #i‡
deföed
(
__GNUC__
)

21 
__exãnsi⁄__
 
__sig√d__
 
	t__s64
;

22 
__exãnsi⁄__
 
	t__u64
;

28 #ifde‡
__KERNEL__


30 sig√d 
	ts8
;

31 
	tu8
;

33 sig√d 
	ts16
;

34 
	tu16
;

36 sig√d 
	ts32
;

37 
	tu32
;

39 sig√d 
	ts64
;

40 
	tu64
;

42 
	#BITS_PER_LONG
 32

	)

46 
u32
 
	tdma_addr_t
;

48 
	tphys_addr_t
;

49 
	tphys_size_t
;

	@include/bignum.h

4 #i‚de‡
_BIGNUM_H


5 
	#_BIGNUM_H


	)

7 #ifde‡
__˝lu•lus


11 
	#ERR_MPI_INVALID_CHARACTER
 0x0002

	)

12 
	#ERR_MPI_INVALID_PARAMETER
 0x0004

	)

13 
	#ERR_MPI_BUFFER_TOO_SMALL
 0x0006

	)

14 
	#ERR_MPI_NEGATIVE_VALUE
 0x0008

	)

15 
	#ERR_MPI_DIVISION_BY_ZERO
 0x000A

	)

16 
	#ERR_MPI_NOT_INVERTIBLE
 0x000C

	)

17 
	#ERR_MPI_IS_COMPOSITE
 0x000E

	)

19 
	#CHK
(
fc
Ëif––
ªt
 = f¯Ë!0 ) 
˛ónup


	)

24 #i‡
deföed
(
HAVE_INT16
)

25 
	tt_öt
;

26 
	tt_dbl
;

28 
	tt_öt
;

29 
	tt_dbl
;

32 
	#ciL
 (Ë(
t_öt
Ë

	)

33 
	#biL
 (
ciL
 << 3Ë

	)

34 
	#biH
 (
ciL
 << 2Ë

	)

41 
s
;

42 
n
;

44 *
p
;

46 
	tmpi
;

51 
mpi_öô
–
mpi
 *
X
, ... );

56 
mpi_‰ì
–
mpi
 *
X
, ... );

64 
mpi_grow
–
mpi
 *
X
, 
nblimbs
 );

72 
mpi_c›y
–
mpi
 *
X
, mpò*
Y
 );

77 
mpi_sw≠
–
mpi
 *
X
, mpò*
Y
 );

85 
mpi_l£t
–
mpi
 *
X
, 
z
 );

99 
mpi_ªad
–
mpi
 *
X
, *
s
, 
ødix
 );

113 
mpi_showf
–*
«me
, 
mpi
 *
X
, 
ødix
, 
FILE
 *
fout
 );

126 
mpi_show
–*
«me
, 
mpi
 *
X
, 
ødix
 );

138 
mpi_imp‹t
–
mpi
 *
X
, *
buf
, 
buÊí
 );

153 
mpi_exp‹t
–
mpi
 *
X
, *
buf
, *
buÊí
 );

158 
mpi_size
–
mpi
 *
X
 );

163 
mpi_lsb
–
mpi
 *
X
 );

171 
mpi_shi·_l
–
mpi
 *
X
, 
cou¡
 );

179 
mpi_shi·_r
–
mpi
 *
X
, 
cou¡
 );

188 
mpi_cmp_abs
–
mpi
 *
X
, mpò*
Y
 );

197 
mpi_cmp_mpi
–
mpi
 *
X
, mpò*
Y
 );

206 
mpi_cmp_öt
–
mpi
 *
X
, 
z
 );

214 
mpi_add_abs
–
mpi
 *
X
, mpò*
A
, mpò*
B
 );

222 
mpi_sub_abs
–
mpi
 *
X
, mpò*
A
, mpò*
B
 );

230 
mpi_add_mpi
–
mpi
 *
X
, mpò*
A
, mpò*
B
 );

238 
mpi_sub_mpi
–
mpi
 *
X
, mpò*
A
, mpò*
B
 );

246 
mpi_add_öt
–
mpi
 *
X
, mpò*
A
, 
b
 );

254 
mpi_sub_öt
–
mpi
 *
X
, mpò*
A
, 
b
 );

262 
mpi_mul_mpi
–
mpi
 *
X
, mpò*
A
, mpò*
B
 );

270 
mpi_mul_öt
–
mpi
 *
X
, mpò*
A
, 
t_öt
 
b
 );

281 
mpi_div_mpi
–
mpi
 *
Q
, mpò*
R
, mpò*
A
, mpò*
B
 );

292 
mpi_div_öt
–
mpi
 *
Q
, mpò*
R
, mpò*
A
, 
b
 );

301 
mpi_mod_mpi
–
mpi
 *
R
, mpò*
A
, mpò*
B
 );

310 
mpi_mod_öt
–
t_öt
 *
r
, 
mpi
 *
A
, 
b
 );

323 
mpi_exp_mod
–
mpi
 *
X
, mpò*
A
, mpò*
E
, mpò*
N
, mpò*
_RR
 );

331 
mpi_gcd
–
mpi
 *
G
, mpò*
A
, mpò*
B
 );

341 
mpi_öv_mod
–
mpi
 *
X
, mpò*
A
, mpò*
N
 );

350 
mpi_is_¥ime
–
mpi
 *
X
 );

366 
mpi_gí_¥ime
–
mpi
 *
X
, 
nbôs
, 
dh_Êag
,

367 (*
∫g_f
)(*), *
∫g_d
 );

374 
mpi_£lf_ã°
( );

376 #ifde‡
__˝lu•lus


	@include/bn_asm.h

7 #i‚de‡
_BN_ASM_H


8 
	#_BN_ASM_H


	)

10 #i‡
deföed
(
__GNUC__
)

11 #i‡
deföed
(
__i386__
)

13 
	#MULADDC_INIT
 \

14 
	`asm
–"mov» %0, %%esò " :: "m" (
s
)); \

15 
	`asm
–"mov» %0, %%edò " :: "m" (
d
)); \

16 
	`asm
–"mov» %0, %%ecx " :: "m" (
c
)); \

17 
	`asm
–"mov» %0, %%ebx " :: "m" (
b
));

	)

19 
	#MULADDC_CORE
 \

20 
	`asm
( "lodsl " ); \

21 
	`asm
( "mull %ebx " ); \

22 
	`asm
( "addl %ecx, %eax " ); \

23 
	`asm
( "adcl $0, %edx " ); \

24 
	`asm
( "addl (%edi), %eax " ); \

25 
	`asm
( "adcl $0, %edx " ); \

26 
	`asm
( "movl %edx, %ecx " ); \

27 
	`asm
–"°o¶ " );

	)

29 
	#MULADDC_STOP
 \

30 
	`asm
–"mov» %%ecx, %0 " : "=m" (
c
)); \

31 
	`asm
–"mov» %%edi, %0 " : "=m" (
d
)); \

32 
	`asm
–"mov» %%esi, %0 " : "=m" (
s
) :: \

33 "óx", "ecx", "edx", "ebx", "esi", "edi" );

	)

35 #i‡
deföed
(
HAVE_SSE2
)

37 
	#MULADDC_HUIT
 \

38 
	`asm
( "movd %ecx, %mm1 " ); \

39 
	`asm
( "movd %ebx, %mm0 " ); \

40 
	`asm
( "movd (%edi), %mm3 " ); \

41 
	`asm
( "paddq %mm3, %mm1 " ); \

42 
	`asm
( "movd (%esi), %mm2 " ); \

43 
	`asm
( "pmuludq %mm0, %mm2 " ); \

44 
	`asm
( "movd 4(%esi), %mm4 " ); \

45 
	`asm
( "pmuludq %mm0, %mm4 " ); \

46 
	`asm
( "movd 8(%esi), %mm6 " ); \

47 
	`asm
( "pmuludq %mm0, %mm6 " ); \

48 
	`asm
( "movd 12(%esi), %mm7 " ); \

49 
	`asm
( "pmuludq %mm0, %mm7 " ); \

50 
	`asm
( "paddq %mm2, %mm1 " ); \

51 
	`asm
( "movd 4(%edi), %mm3 " ); \

52 
	`asm
( "paddq %mm4, %mm3 " ); \

53 
	`asm
( "movd 8(%edi), %mm5 " ); \

54 
	`asm
( "paddq %mm6, %mm5 " ); \

55 
	`asm
( "movd 12(%edi), %mm4 " ); \

56 
	`asm
( "paddq %mm4, %mm7 " ); \

57 
	`asm
( "movd %mm1, (%edi) " ); \

58 
	`asm
( "movd 16(%esi), %mm2 " ); \

59 
	`asm
( "pmuludq %mm0, %mm2 " ); \

60 
	`asm
( "psrlq $32, %mm1 " ); \

61 
	`asm
( "movd 20(%esi), %mm4 " ); \

62 
	`asm
( "pmuludq %mm0, %mm4 " ); \

63 
	`asm
( "paddq %mm3, %mm1 " ); \

64 
	`asm
( "movd 24(%esi), %mm6 " ); \

65 
	`asm
( "pmuludq %mm0, %mm6 " ); \

66 
	`asm
( "movd %mm1, 4(%edi) " ); \

67 
	`asm
( "psrlq $32, %mm1 " ); \

68 
	`asm
( "movd 28(%esi), %mm3 " ); \

69 
	`asm
( "pmuludq %mm0, %mm3 " ); \

70 
	`asm
( "paddq %mm5, %mm1 " ); \

71 
	`asm
( "movd 16(%edi), %mm5 " ); \

72 
	`asm
( "paddq %mm5, %mm2 " ); \

73 
	`asm
( "movd %mm1, 8(%edi) " ); \

74 
	`asm
( "psrlq $32, %mm1 " ); \

75 
	`asm
( "paddq %mm7, %mm1 " ); \

76 
	`asm
( "movd 20(%edi), %mm5 " ); \

77 
	`asm
( "paddq %mm5, %mm4 " ); \

78 
	`asm
( "movd %mm1, 12(%edi) " ); \

79 
	`asm
( "psrlq $32, %mm1 " ); \

80 
	`asm
( "paddq %mm2, %mm1 " ); \

81 
	`asm
( "movd 24(%edi), %mm5 " ); \

82 
	`asm
( "paddq %mm5, %mm6 " ); \

83 
	`asm
( "movd %mm1, 16(%edi) " ); \

84 
	`asm
( "psrlq $32, %mm1 " ); \

85 
	`asm
( "paddq %mm4, %mm1 " ); \

86 
	`asm
( "movd 28(%edi), %mm5 " ); \

87 
	`asm
( "paddq %mm5, %mm3 " ); \

88 
	`asm
( "movd %mm1, 20(%edi) " ); \

89 
	`asm
( "psrlq $32, %mm1 " ); \

90 
	`asm
( "paddq %mm6, %mm1 " ); \

91 
	`asm
( "movd %mm1, 24(%edi) " ); \

92 
	`asm
( "psrlq $32, %mm1 " ); \

93 
	`asm
( "paddq %mm3, %mm1 " ); \

94 
	`asm
( "movd %mm1, 28(%edi) " ); \

95 
	`asm
( "addl $32, %edi " ); \

96 
	`asm
( "addl $32, %esi " ); \

97 
	`asm
( "psrlq $32, %mm1 " ); \

98 
	`asm
–"movd %mm1, %ecx " );

	)

103 #i‡
deföed
(
__amd64__
Ë|| deföed (
__x86_64__
)

105 
	#MULADDC_INIT
 \

106 
	`asm
–"movq %0, %%rsò " :: "m" (
s
)); \

107 
	`asm
–"movq %0, %%rdò " :: "m" (
d
)); \

108 
	`asm
–"movq %0, %%rcx " :: "m" (
c
)); \

109 
	`asm
–"movq %0, %%rbx " :: "m" (
b
)); \

110 
	`asm
–"x‹q %r8, %r8 " );

	)

112 
	#MULADDC_CORE
 \

113 
	`asm
( "movq (%rsi),%rax " ); \

114 
	`asm
( "mulq %rbx " ); \

115 
	`asm
( "addq $8, %rsi " ); \

116 
	`asm
( "addq %rcx, %rax " ); \

117 
	`asm
( "movq %r8, %rcx " ); \

118 
	`asm
( "adcq $0, %rdx " ); \

119 
	`asm
( "nop " ); \

120 
	`asm
( "addq %rax, (%rdi) " ); \

121 
	`asm
( "adcq %rdx, %rcx " ); \

122 
	`asm
–"addq $8, %rdò " );

	)

124 
	#MULADDC_STOP
 \

125 
	`asm
–"movq %%rcx, %0 " : "=m" (
c
)); \

126 
	`asm
–"movq %%rdi, %0 " : "=m" (
d
)); \

127 
	`asm
–"movq %%rsi, %0 " : "=m" (
s
) :: \

128 "øx", "rcx", "rdx", "rbx", "rsi", "rdi", "r8" );

	)

132 #i‡
deföed
(
__mc68020__
Ë|| deföed(
__m˝u32__
)

134 
	#MULADDC_INIT
 \

135 
	`asm
–"mov» %0, %%a2 " :: "m" (
s
)); \

136 
	`asm
–"mov» %0, %%a3 " :: "m" (
d
)); \

137 
	`asm
–"mov» %0, %%d3 " :: "m" (
c
)); \

138 
	`asm
–"mov» %0, %%d2 " :: "m" (
b
)); \

139 
	`asm
–"moveq #0, %d0 " );

	)

141 
	#MULADDC_CORE
 \

142 
	`asm
( "movel %a2@+, %d1 " ); \

143 
	`asm
( "mulul %d2, %d4:%d1 " ); \

144 
	`asm
( "addl %d3, %d1 " ); \

145 
	`asm
( "addxl %d0, %d4 " ); \

146 
	`asm
( "moveq #0, %d3 " ); \

147 
	`asm
( "addl %d1, %a3@+ " ); \

148 
	`asm
–"addx» %d4, %d3 " );

	)

150 
	#MULADDC_STOP
 \

151 
	`asm
–"mov» %%d3, %0 " : "=m" (
c
)); \

152 
	`asm
–"mov» %%a3, %0 " : "=m" (
d
)); \

153 
	`asm
–"mov» %%a2, %0 " : "=m" (
s
) :: \

154 "d0", "d1", "d2", "d3", "d4", "a2", "a3" );

	)

156 
	#MULADDC_HUIT
 \

157 
	`asm
( "movel %a2@+, %d1 " ); \

158 
	`asm
( "mulul %d2, %d4:%d1 " ); \

159 
	`asm
( "addxl %d3, %d1 " ); \

160 
	`asm
( "addxl %d0, %d4 " ); \

161 
	`asm
( "addl %d1, %a3@+ " ); \

162 
	`asm
( "movel %a2@+, %d1 " ); \

163 
	`asm
( "mulul %d2, %d3:%d1 " ); \

164 
	`asm
( "addxl %d4, %d1 " ); \

165 
	`asm
( "addxl %d0, %d3 " ); \

166 
	`asm
( "addl %d1, %a3@+ " ); \

167 
	`asm
( "movel %a2@+, %d1 " ); \

168 
	`asm
( "mulul %d2, %d4:%d1 " ); \

169 
	`asm
( "addxl %d3, %d1 " ); \

170 
	`asm
( "addxl %d0, %d4 " ); \

171 
	`asm
( "addl %d1, %a3@+ " ); \

172 
	`asm
( "movel %a2@+, %d1 " ); \

173 
	`asm
( "mulul %d2, %d3:%d1 " ); \

174 
	`asm
( "addxl %d4, %d1 " ); \

175 
	`asm
( "addxl %d0, %d3 " ); \

176 
	`asm
( "addl %d1, %a3@+ " ); \

177 
	`asm
( "movel %a2@+, %d1 " ); \

178 
	`asm
( "mulul %d2, %d4:%d1 " ); \

179 
	`asm
( "addxl %d3, %d1 " ); \

180 
	`asm
( "addxl %d0, %d4 " ); \

181 
	`asm
( "addl %d1, %a3@+ " ); \

182 
	`asm
( "movel %a2@+, %d1 " ); \

183 
	`asm
( "mulul %d2, %d3:%d1 " ); \

184 
	`asm
( "addxl %d4, %d1 " ); \

185 
	`asm
( "addxl %d0, %d3 " ); \

186 
	`asm
( "addl %d1, %a3@+ " ); \

187 
	`asm
( "movel %a2@+, %d1 " ); \

188 
	`asm
( "mulul %d2, %d4:%d1 " ); \

189 
	`asm
( "addxl %d3, %d1 " ); \

190 
	`asm
( "addxl %d0, %d4 " ); \

191 
	`asm
( "addl %d1, %a3@+ " ); \

192 
	`asm
( "movel %a2@+, %d1 " ); \

193 
	`asm
( "mulul %d2, %d3:%d1 " ); \

194 
	`asm
( "addxl %d4, %d1 " ); \

195 
	`asm
( "addxl %d0, %d3 " ); \

196 
	`asm
( "addl %d1, %a3@+ " ); \

197 
	`asm
–"addx» %d0, %d3 " );

	)

201 #i‡
deföed
(
__powîpc__
Ë|| deföed(
__µc__
)

202 #i‡
deföed
(
__powîpc64__
Ë|| deföed(
__µc64__
)

204 
	#MULADDC_INIT
 \

205 
	`asm
–"ld %%r3, %0 " :: "m" (
s
)); \

206 
	`asm
–"ld %%r4, %0 " :: "m" (
d
)); \

207 
	`asm
–"ld %%r5, %0 " :: "m" (
c
)); \

208 
	`asm
–"ld %%r6, %0 " :: "m" (
b
)); \

209 
	`asm
( "addi %r3, %r3, -8 " ); \

210 
	`asm
( "addi %r4, %r4, -8 " ); \

211 
	`asm
–"addi¯ %r5, %r5, 0 " );

	)

213 
	#MULADDC_CORE
 \

214 
	`asm
( "ldu %r7, 8(%r3) " ); \

215 
	`asm
( "mulld %r8, %r7, %r6 " ); \

216 
	`asm
( "mulhdu %r9, %r7, %r6 " ); \

217 
	`asm
( "adde %r8, %r8, %r5 " ); \

218 
	`asm
( "ld %r7, 8(%r4) " ); \

219 
	`asm
( "addze %r5, %r9 " ); \

220 
	`asm
( "addc %r8, %r8, %r7 " ); \

221 
	`asm
–"°du %r8, 8(%r4Ë " );

	)

223 
	#MULADDC_STOP
 \

224 
	`asm
( "addze %r5, %r5 " ); \

225 
	`asm
( "addi %r4, %r4, 8 " ); \

226 
	`asm
( "addi %r3, %r3, 8 " ); \

227 
	`asm
–"°d %%r5, %0 " : "=m" (
c
)); \

228 
	`asm
–"°d %%r4, %0 " : "=m" (
d
)); \

229 
	`asm
–"°d %%r3, %0 " : "=m" (
s
) :: \

230 "r3", "r4", "r5", "r6", "r7", "r8", "r9" );

	)

234 
	#MULADDC_INIT
 \

235 
	`asm
–"lwz %%r3, %0 " :: "m" (
s
)); \

236 
	`asm
–"lwz %%r4, %0 " :: "m" (
d
)); \

237 
	`asm
–"lwz %%r5, %0 " :: "m" (
c
)); \

238 
	`asm
–"lwz %%r6, %0 " :: "m" (
b
)); \

239 
	`asm
( "addi %r3, %r3, -4 " ); \

240 
	`asm
( "addi %r4, %r4, -4 " ); \

241 
	`asm
–"addi¯ %r5, %r5, 0 " );

	)

243 
	#MULADDC_CORE
 \

244 
	`asm
( "lwzu %r7, 4(%r3) " ); \

245 
	`asm
( "mullw %r8, %r7, %r6 " ); \

246 
	`asm
( "mulhwu %r9, %r7, %r6 " ); \

247 
	`asm
( "adde %r8, %r8, %r5 " ); \

248 
	`asm
( "lwz %r7, 4(%r4) " ); \

249 
	`asm
( "addze %r5, %r9 " ); \

250 
	`asm
( "addc %r8, %r8, %r7 " ); \

251 
	`asm
–"°wu %r8, 4(%r4Ë " );

	)

253 
	#MULADDC_STOP
 \

254 
	`asm
( "addze %r5, %r5 " ); \

255 
	`asm
( "addi %r4, %r4, 4 " ); \

256 
	`asm
( "addi %r3, %r3, 4 " ); \

257 
	`asm
–"°w %%r5, %0 " : "=m" (
c
)); \

258 
	`asm
–"°w %%r4, %0 " : "=m" (
d
)); \

259 
	`asm
–"°w %%r3, %0 " : "=m" (
s
) :: \

260 "r3", "r4", "r5", "r6", "r7", "r8", "r9" );

	)

265 #i‡
deföed
(
__•¨c__
)

267 
	#MULADDC_INIT
 \

268 
	`asm
–"ld %0, %%o0 " :: "m" (
s
)); \

269 
	`asm
–"ld %0, %%o1 " :: "m" (
d
)); \

270 
	`asm
–"ld %0, %%o2 " :: "m" (
c
)); \

271 
	`asm
–"ld %0, %%o3 " :: "m" (
b
));

	)

273 
	#MULADDC_CORE
 \

274 
	`asm
( "ld [%o0], %o4 " ); \

275 
	`asm
( "inc 4, %o0 " ); \

276 
	`asm
( "ld [%o1], %o5 " ); \

277 
	`asm
( "umul %o3, %o4, %o4 " ); \

278 
	`asm
( "addcc %o4, %o2, %o4 " ); \

279 
	`asm
( "rd %y, %g1 " ); \

280 
	`asm
( "addx %g1, 0, %g1 " ); \

281 
	`asm
( "addcc %o4, %o5, %o4 " ); \

282 
	`asm
( "st %o4, [%o1] " ); \

283 
	`asm
( "addx %g1, 0, %o2 " ); \

284 
	`asm
–"ö¯ 4, %o1 " );

	)

286 
	#MULADDC_STOP
 \

287 
	`asm
–"° %%o2, %0 " : "=m" (
c
)); \

288 
	`asm
–"° %%o1, %0 " : "=m" (
d
)); \

289 
	`asm
–"° %%o0, %0 " : "=m" (
s
) :: \

290 "g1", "o0", "o1", "o2", "o3", "o4", "o5" );

	)

294 #i‡
deföed
(
__åic‹e__
)

296 
	#MULADDC_INIT
 \

297 
	`asm
–"ld.® %%a2, %0 " :: "m" (
s
)); \

298 
	`asm
–"ld.® %%a3, %0 " :: "m" (
d
)); \

299 
	`asm
–"ld.w %%d4, %0 " :: "m" (
c
)); \

300 
	`asm
–"ld.w %%d1, %0 " :: "m" (
b
)); \

301 
	`asm
–"x‹ %d5, %d5 " );

	)

303 
	#MULADDC_CORE
 \

304 
	`asm
( "ld.w %d0, [%a2+] " ); \

305 
	`asm
( "madd.u %e2, %e4, %d0, %d1 " ); \

306 
	`asm
( "ld.w %d0, [%a3] " ); \

307 
	`asm
( "addx %d2, %d2, %d0 " ); \

308 
	`asm
( "addc %d3, %d3, 0 " ); \

309 
	`asm
( "mov %d4, %d3 " ); \

310 
	`asm
–"°.w [%a3+], %d2 " );

	)

312 
	#MULADDC_STOP
 \

313 
	`asm
–"°.w %0, %%d4 " : "=m" (
c
)); \

314 
	`asm
–"°.® %0, %%a3 " : "=m" (
d
)); \

315 
	`asm
–"°.® %0, %%a2 " : "=m" (
s
) :: \

316 "d0", "d1", "e2", "d4", "a2", "a3" );

	)

320 #i‡
deföed
(
__¨m__
)

322 
	#MULADDC_INIT
 \

323 
	`asm
–"ld∏Ñ0, %0 " :: "m" (
s
)); \

324 
	`asm
–"ld∏Ñ1, %0 " :: "m" (
d
)); \

325 
	`asm
–"ld∏Ñ2, %0 " :: "m" (
c
)); \

326 
	`asm
–"ld∏Ñ3, %0 " :: "m" (
b
));

	)

328 
	#MULADDC_CORE
 \

329 
	`asm
( "ldrÑ4, [r0], #4 " ); \

330 
	`asm
( "movÑ5, #0 " ); \

331 
	`asm
( "ldrÑ6, [r1] " ); \

332 
	`asm
( "umlalÑ2,Ñ5,Ñ3,Ñ4 " ); \

333 
	`asm
( "addsÑ7,Ñ6,Ñ2 " ); \

334 
	`asm
( "adcÑ2,Ñ5, #0 " ); \

335 
	`asm
–"°∏Ñ7, [r1], #4 " );

	)

337 
	#MULADDC_STOP
 \

338 
	`asm
–"°∏Ñ2, %0 " : "=m" (
c
)); \

339 
	`asm
–"°∏Ñ1, %0 " : "=m" (
d
)); \

340 
	`asm
–"°∏Ñ0, %0 " : "=m" (
s
) :: \

341 "r0", "r1", "r2", "r3", "r4", "r5", "r6", "r7" );

	)

345 #i‡
deföed
(
__Æpha__
)

347 
	#MULADDC_INIT
 \

348 
	`asm
–"ldq $1, %0 " :: "m" (
s
)); \

349 
	`asm
–"ldq $2, %0 " :: "m" (
d
)); \

350 
	`asm
–"ldq $3, %0 " :: "m" (
c
)); \

351 
	`asm
–"ldq $4, %0 " :: "m" (
b
));

	)

353 
	#MULADDC_CORE
 \

354 
	`asm
( "ldq $6, 0($1) " ); \

355 
	`asm
( "addq $1, 8, $1 " ); \

356 
	`asm
( "mulq $6, $4, $7 " ); \

357 
	`asm
( "umulh $6, $4, $6 " ); \

358 
	`asm
( "addq $7, $3, $7 " ); \

359 
	`asm
( "cmpult $7, $3, $3 " ); \

360 
	`asm
( "ldq $5, 0($2) " ); \

361 
	`asm
( "addq $7, $5, $7 " ); \

362 
	`asm
( "cmpult $7, $5, $5 " ); \

363 
	`asm
( "stq $7, 0($2) " ); \

364 
	`asm
( "addq $2, 8, $2 " ); \

365 
	`asm
( "addq $6, $3, $3 " ); \

366 
	`asm
–"addq $5, $3, $3 " );

	)

368 
	#MULADDC_STOP
 \

369 
	`asm
–"°q $3, %0 " : "=m" (
c
)); \

370 
	`asm
–"°q $2, %0 " : "=m" (
d
)); \

371 
	`asm
–"°q $1, %0 " : "=m" (
s
) :: \

372 "$1", "$2", "$3", "$4", "$5", "$6", "$7" );

	)

376 #i‡
deföed
(
__mùs__
)

378 
	#MULADDC_INIT
 \

379 
	`asm
–"lw $10, %0 " :: "m" (
s
)); \

380 
	`asm
–"lw $11, %0 " :: "m" (
d
)); \

381 
	`asm
–"lw $12, %0 " :: "m" (
c
)); \

382 
	`asm
–"lw $13, %0 " :: "m" (
b
));

	)

384 
	#MULADDC_CORE
 \

385 
	`asm
( "lw $14, 0($10) " ); \

386 
	`asm
( "multu $13, $14 " ); \

387 
	`asm
( "addi $10, $10, 4 " ); \

388 
	`asm
( "mflo $14 " ); \

389 
	`asm
( "mfhi $9 " ); \

390 
	`asm
( "addu $14, $12, $14 " ); \

391 
	`asm
( "lw $15, 0($11) " ); \

392 
	`asm
( "sltu $12, $14, $12 " ); \

393 
	`asm
( "addu $15, $14, $15 " ); \

394 
	`asm
( "sltu $14, $15, $14 " ); \

395 
	`asm
( "addu $12, $12, $9 " ); \

396 
	`asm
( "sw $15, 0($11) " ); \

397 
	`asm
( "addu $12, $12, $14 " ); \

398 
	`asm
–"addò $11, $11, 4 " );

	)

400 
	#MULADDC_STOP
 \

401 
	`asm
–"sw $12, %0 " : "=m" (
c
)); \

402 
	`asm
–"sw $11, %0 " : "=m" (
d
)); \

403 
	`asm
–"sw $10, %0 " : "=m" (
s
) :: \

404 "$9", "$10", "$11", "$12", "$13", "$14", "$15" );

	)

409 #i‡(
deföed
(
_MSC_VER
Ë&& deföed(
_M_IX86
)Ë|| deföed(
__WATCOMC__
)

411 
	#MULADDC_INIT
 \

412 
__asm
 
mov
 
esi
, 
s
 \

413 
__asm
 
mov
 
edi
, 
d
 \

414 
__asm
 
mov
 
ecx
, 
c
 \

415 
__asm
 
mov
 
ebx
, 
b


	)

417 
	#MULADDC_CORE
 \

418 
__asm
 
lodsd
 \

419 
__asm
 
mul
 
ebx
 \

420 
__asm
 
add
 
óx
, 
ecx
 \

421 
__asm
 
adc
 
edx
, 0 \

422 
__asm
 
add
 
óx
, [
edi
] \

423 
__asm
 
adc
 
edx
, 0 \

424 
__asm
 
mov
 
ecx
, 
edx
 \

425 
__asm
 
°osd


	)

427 
	#MULADDC_STOP
 \

428 
__asm
 
mov
 
c
, 
ecx
 \

429 
__asm
 
mov
 
d
, 
edi
 \

430 
__asm
 
mov
 
s
, 
esi
 \

431 

	)

432 #i‡
deföed
 
HAVE_SSE2


434 
	#EMIT
 
__asm
 
_emô


	)

436 
	#MULADDC_HUIT
 \

437 
EMIT
 0x0F EMIT 0x6E EMIT 0xC9 \

438 
EMIT
 0x0F EMIT 0x6E EMIT 0xC3 \

439 
EMIT
 0x0F EMIT 0x6E EMIT 0x1F \

440 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCB \

441 
EMIT
 0x0F EMIT 0x6E EMIT 0x16 \

442 
EMIT
 0x0F EMIT 0xF4 EMIT 0xD0 \

443 
EMIT
 0x0F EMIT 0x6E EMIT 0x66 EMIT 0x04 \

444 
EMIT
 0x0F EMIT 0xF4 EMIT 0xE0 \

445 
EMIT
 0x0F EMIT 0x6E EMIT 0x76 EMIT 0x08 \

446 
EMIT
 0x0F EMIT 0xF4 EMIT 0xF0 \

447 
EMIT
 0x0F EMIT 0x6E EMIT 0x7E EMIT 0x0C \

448 
EMIT
 0x0F EMIT 0xF4 EMIT 0xF8 \

449 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCA \

450 
EMIT
 0x0F EMIT 0x6E EMIT 0x5F EMIT 0x04 \

451 
EMIT
 0x0F EMIT 0xD4 EMIT 0xDC \

452 
EMIT
 0x0F EMIT 0x6E EMIT 0x6F EMIT 0x08 \

453 
EMIT
 0x0F EMIT 0xD4 EMIT 0xEE \

454 
EMIT
 0x0F EMIT 0x6E EMIT 0x67 EMIT 0x0C \

455 
EMIT
 0x0F EMIT 0xD4 EMIT 0xFC \

456 
EMIT
 0x0F EMIT 0x7E EMIT 0x0F \

457 
EMIT
 0x0F EMIT 0x6E EMIT 0x56 EMIT 0x10 \

458 
EMIT
 0x0F EMIT 0xF4 EMIT 0xD0 \

459 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

460 
EMIT
 0x0F EMIT 0x6E EMIT 0x66 EMIT 0x14 \

461 
EMIT
 0x0F EMIT 0xF4 EMIT 0xE0 \

462 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCB \

463 
EMIT
 0x0F EMIT 0x6E EMIT 0x76 EMIT 0x18 \

464 
EMIT
 0x0F EMIT 0xF4 EMIT 0xF0 \

465 
EMIT
 0x0F EMIT 0x7E EMIT 0x4F EMIT 0x04 \

466 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

467 
EMIT
 0x0F EMIT 0x6E EMIT 0x5E EMIT 0x1C \

468 
EMIT
 0x0F EMIT 0xF4 EMIT 0xD8 \

469 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCD \

470 
EMIT
 0x0F EMIT 0x6E EMIT 0x6F EMIT 0x10 \

471 
EMIT
 0x0F EMIT 0xD4 EMIT 0xD5 \

472 
EMIT
 0x0F EMIT 0x7E EMIT 0x4F EMIT 0x08 \

473 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

474 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCF \

475 
EMIT
 0x0F EMIT 0x6E EMIT 0x6F EMIT 0x14 \

476 
EMIT
 0x0F EMIT 0xD4 EMIT 0xE5 \

477 
EMIT
 0x0F EMIT 0x7E EMIT 0x4F EMIT 0x0C \

478 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

479 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCA \

480 
EMIT
 0x0F EMIT 0x6E EMIT 0x6F EMIT 0x18 \

481 
EMIT
 0x0F EMIT 0xD4 EMIT 0xF5 \

482 
EMIT
 0x0F EMIT 0x7E EMIT 0x4F EMIT 0x10 \

483 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

484 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCC \

485 
EMIT
 0x0F EMIT 0x6E EMIT 0x6F EMIT 0x1C \

486 
EMIT
 0x0F EMIT 0xD4 EMIT 0xDD \

487 
EMIT
 0x0F EMIT 0x7E EMIT 0x4F EMIT 0x14 \

488 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

489 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCE \

490 
EMIT
 0x0F EMIT 0x7E EMIT 0x4F EMIT 0x18 \

491 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

492 
EMIT
 0x0F EMIT 0xD4 EMIT 0xCB \

493 
EMIT
 0x0F EMIT 0x7E EMIT 0x4F EMIT 0x1C \

494 
EMIT
 0x83 EMIT 0xC7 EMIT 0x20 \

495 
EMIT
 0x83 EMIT 0xC6 EMIT 0x20 \

496 
EMIT
 0x0F EMIT 0x73 EMIT 0xD1 EMIT 0x20 \

497 
EMIT
 0x0F EMIT 0x7E EMIT 0xC9

	)

502 #i‡!
deföed
(
MULADDC_CORE
)

503 #i‡
deföed
(
HAVE_LONGLONG
)

505 
	#MULADDC_INIT
 \

507 
t_dbl
 
r
; \

508 
t_öt
 
r0
, 
r1
;

	)

510 
	#MULADDC_CORE
 \

511 
r
 = *(
s
++Ë* (
t_dbl
Ë
b
; \

512 
r0
 = 
r
; \

513 
r1
 = 
r
 >> 
biL
; \

514 
r0
 +
c
; 
r1
 += (r0 < c); \

515 
r0
 +*
d
; 
r1
 += (r0 < *d); \

516 
c
 = 
r1
; *(
d
++Ë
r0
;

	)

518 
	#MULADDC_STOP
 \

519 }

	)

522 
	#MULADDC_INIT
 \

524 
t_öt
 
s0
, 
s1
, 
b0
, 
b1
; \

525 
t_öt
 
r0
, 
r1
, 
rx
, 
ry
; \

526 
b0
 = ( 
b
 << 
biH
 ) >> biH; \

527 
b1
 = ( 
b
 >> 
biH
 );

	)

529 
	#MULADDC_CORE
 \

530 
s0
 = ( *
s
 << 
biH
 ) >> biH; \

531 
s1
 = ( *
s
 >> 
biH
 ); s++; \

532 
rx
 = 
s0
 * 
b1
; 
r0
 = s0 * 
b0
; \

533 
ry
 = 
s1
 * 
b0
; 
r1
 = s1 * 
b1
; \

534 
r1
 +–
rx
 >> 
biH
 ); \

535 
r1
 +–
ry
 >> 
biH
 ); \

536 
rx
 <<
biH
; 
ry
 <<= biH; \

537 
r0
 +
rx
; 
r1
 += (r0 <Ñx); \

538 
r0
 +
ry
; 
r1
 += (r0 <Ñy); \

539 
r0
 +
c
; 
r1
 += (r0 < c); \

540 
r0
 +*
d
; 
r1
 += (r0 < *d); \

541 
c
 = 
r1
; *(
d
++Ë
r0
;

	)

543 
	#MULADDC_STOP
 \

544 }

	)

	@include/common.h

10 #i‚de‡
__COMMON_H


11 
	#__COMMON_H


	)

13 
	~<°d¨g.h
>

14 
	~<c⁄fig.h
>

15 
	~<asm/ty≥s.h
>

16 
	~<asm/io.h
>

17 
	~<löux/ty≥s.h
>

19 
	#DEBUG


	)

20 #ifde‡
DEBUG


21 
	#dbg_¥öt
(
f‹m©
,
¨gs
...Ë
	`¥ötf
(f‹m©, ##¨gs)

	)

23 
	#dbg_¥öt
(
f‹m©
,
¨gs
...Ëdo{} 0);

	)

26 
	tuch¨
;

27 vﬁ©ûê
	tvu_l⁄g
;

28 vﬁ©ûê
	tvu_sh‹t
;

29 vﬁ©ûê
	tvu_ch¨
;

30 vﬁ©ûê
	tvu_öt
;

33 
ölöe
 
dñay
(
lo›s
);

34 
öô_Àd_bìp
();

35 
tu∫_Àd_⁄
(
Àd
);

36 
tu∫_Àd_off
(
Àd
);

37 
bìp
(
cou¡
);

39 
£rül_öô
();

40 
£rül_£nd_byã
(
c
);

41 
£rül_is_ªcv_íabÀ
();

42 
£rül_ªcv_byã
();

43 
£rül_puts
(c⁄° *
s
);

44 
xmodem_ªcv
(*
buf
);

47 * 
mem£t
(* 
s
,
c
,
size_t
 
cou¡
);

48 
¥ötf
(c⁄° *
fmt
, ...);

49 
•rötf
(*
buf
, c⁄° *
fmt
, ...);

	@include/config.h

10 #i‚de‡
__CONFIG_H


11 
	#__CONFIG_H


	)

13 #ifde‡
BOARD_SMDK2440


14 
	~<s3c2440.h
>

15 
	#CONFIG_S3C2440


	)

18 
	#MDIV_405
 0x7‡<< 12

	)

19 
	#PSDIV_405
 0x21

	)

21 
	#CONFIG_LED_DEBUG
 1

	)

23 
	#CONFIG_SYS_MALLOC_LEN
 (1024*1024)

	)

24 
	#CONFIG_SYS_GBL_DATA_SIZE
 128

	)

25 
	#CONFIG_STACKSIZE
 0x40000

	)

27 
	#CFG_PBSIZE
 384

	)

29 
	#CFG_MAX_NAND_DEVICE
 1

	)

30 
	#NAND_MAX_CHIPS
 1

	)

31 
	#CFG_NAND_BASE
 0x4E000000

	)

33 
	#BOOTLOADER_ENV_ADDR
 0x20000

	)

34 
	#LAUNCHER_NAND_ADDR
 0x40000

	)

	@include/linux/bitops.h

1 #i‚de‡
_LINUX_BITOPS_H


2 
	#_LINUX_BITOPS_H


	)

10 
ölöe
 
	$gíîic_ffs
(
x
)

12 
r
 = 1;

14 i‡(!
x
)

16 i‡(!(
x
 & 0xffff))

18 
x
 >>= 16;

19 
r
 += 16;

21 i‡(!(
x
 & 0xff))

23 
x
 >>= 8;

24 
r
 += 8;

26 i‡(!(
x
 & 0xf))

28 
x
 >>= 4;

29 
r
 += 4;

31 i‡(!(
x
 & 3))

33 
x
 >>= 2;

34 
r
 += 2;

36 i‡(!(
x
 & 1))

38 
x
 >>= 1;

39 
r
 += 1;

41  
r
;

42 
	}
}

49 
ölöe
 
	$gíîic_hweight32
(
w
)

51 
ªs
 = (
w
 & 0x55555555) + ((w >> 1) & 0x55555555);

52 
ªs
 = (res & 0x33333333) + ((res >> 2) & 0x33333333);

53 
ªs
 = (res & 0x0F0F0F0F) + ((res >> 4) & 0x0F0F0F0F);

54 
ªs
 = (res & 0x00FF00FF) + ((res >> 8) & 0x00FF00FF);

55  (
ªs
 & 0x0000FFFF) + ((res >> 16) & 0x0000FFFF);

56 
	}
}

58 
ölöe
 
	$gíîic_hweight16
(
w
)

60 
ªs
 = (
w
 & 0x5555) + ((w >> 1) & 0x5555);

61 
ªs
 = (res & 0x3333) + ((res >> 2) & 0x3333);

62 
ªs
 = (res & 0x0F0F) + ((res >> 4) & 0x0F0F);

63  (
ªs
 & 0x00FF) + ((res >> 8) & 0x00FF);

64 
	}
}

66 
ölöe
 
	$gíîic_hweight8
(
w
)

68 
ªs
 = (
w
 & 0x55) + ((w >> 1) & 0x55);

69 
ªs
 = (res & 0x33) + ((res >> 2) & 0x33);

70  (
ªs
 & 0x0F) + ((res >> 4) & 0x0F);

71 
	}
}

	@include/linux/config.h

1 #i‚de‡
_LINUX_CONFIG_H


2 
	#_LINUX_CONFIG_H


	)

	@include/linux/ctype.h

1 #i‚de‡
_LINUX_CTYPE_H


2 
	#_LINUX_CTYPE_H


	)

9 
	#_U
 0x01

	)

10 
	#_L
 0x02

	)

11 
	#_D
 0x04

	)

12 
	#_C
 0x08

	)

13 
	#_P
 0x10

	)

14 
	#_S
 0x20

	)

15 
	#_X
 0x40

	)

16 
	#_SP
 0x80

	)

18 
_˘y≥
[];

20 
	#__ismask
(
x
Ë(
_˘y≥
[()()(x)])

	)

22 
	#iß um
(
c
Ë((
	`__ismask
(c)&(
_U
|
_L
|
_D
)Ë!0)

	)

23 
	#ißÕha
(
c
Ë((
	`__ismask
(c)&(
_U
|
_L
)Ë!0)

	)

24 
	#is˙ål
(
c
Ë((
	`__ismask
(c)&(
_C
)Ë!0)

	)

25 
	#isdigô
(
c
Ë((
	`__ismask
(c)&(
_D
)Ë!0)

	)

26 
	#isgøph
(
c
Ë((
	`__ismask
(c)&(
_P
|
_U
|
_L
|
_D
)Ë!0)

	)

27 
	#i¶owî
(
c
Ë((
	`__ismask
(c)&(
_L
)Ë!0)

	)

28 
	#i•röt
(
c
Ë((
	`__ismask
(c)&(
_P
|
_U
|
_L
|
_D
|
_SP
)Ë!0)

	)

29 
	#i•un˘
(
c
Ë((
	`__ismask
(c)&(
_P
)Ë!0)

	)

30 
	#is•a˚
(
c
Ë((
	`__ismask
(c)&(
_S
)Ë!0)

	)

31 
	#isuµî
(
c
Ë((
	`__ismask
(c)&(
_U
)Ë!0)

	)

32 
	#isxdigô
(
c
Ë((
	`__ismask
(c)&(
_D
|
_X
)Ë!0)

	)

34 
	#ißscii
(
c
Ë((()(c))<=0x7f)

	)

35 
	#tﬂscii
(
c
Ë((()(c))&0x7f)

	)

37 
ölöe
 
	$__tﬁowî
(
c
)

39 i‡(
	`isuµî
(
c
))

40 
c
 -= 'A' - 'a';

41  
c
;

42 
	}
}

44 
ölöe
 
	$__touµî
(
c
)

46 i‡(
	`i¶owî
(
c
))

47 
c
 -= 'a' - 'A';

48  
c
;

49 
	}
}

51 
	#tﬁowî
(
c
Ë
	`__tﬁowî
(c)

	)

52 
	#touµî
(
c
Ë
	`__touµî
(c)

	)

	@include/linux/posix_types.h

1 #i‚de‡
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<löux/°ddef.h
>

21 #unde‡
__NFDBITS


22 
	#__NFDBITS
 (8 * ())

	)

24 #unde‡
__FD_SETSIZE


25 
	#__FD_SETSIZE
 1024

	)

27 #unde‡
__FDSET_LONGS


28 
	#__FDSET_LONGS
 (
__FD_SETSIZE
/
__NFDBITS
)

	)

30 #unde‡
__FDELT


31 
	#__FDELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

33 #unde‡
__FDMASK


34 
	#__FDMASK
(
d
Ë(1UL << ((dË% 
__NFDBITS
))

	)

38 
	mfds_bôs
[
__FDSET_LONGS
];

39 } 
	t__kî√l_fd_£t
;

42 (*
	t__kî√l_sigh™dÀr_t
) ();

45 
	t__kî√l_key_t
;

47 
	~<asm/posix_ty≥s.h
>

	@include/linux/stddef.h

1 #i‚de‡
_LINUX_STDDEF_H


2 
	#_LINUX_STDDEF_H


	)

4 #unde‡
NULL


5 #i‡
deföed
(
__˝lu•lus
)

6 
	#NULL
 0

	)

8 
	#NULL
 ((*)0)

	)

11 #i‚de‡
_SIZE_T


12 
	~<löux/ty≥s.h
>

15 #unde‡
off£tof


16 
	#off£tof
(
TYPE
, 
MEMBER
Ë((
size_t
Ë&((TYPE *)0)->MEMBER)

	)

	@include/linux/string.h

1 #i‚de‡
_LINUX_STRING_H_


2 
	#_LINUX_STRING_H_


	)

4 
	~<löux/ty≥s.h
>

5 
	~<löux/°ddef.h
>

7 #ifde‡
__˝lu•lus


12 *
___°πok
;

13 *
°Ωbrk
(const *, const *);

14 *
°πok
(*, const *);

15 *
°r£p
(**, const *);

16 
__kî√l_size_t
 
°r•n
(const *, const *);

21 
	~<asm/°rög.h
>

23 #i‚de‡
__HAVE_ARCH_STRCPY


24 *
°r˝y
(*, const *);

26 #i‚de‡
__HAVE_ARCH_STRNCPY


27 *
°∫˝y
(*, c⁄° *, 
__kî√l_size_t
);

29 #i‚de‡
__HAVE_ARCH_STRCAT


30 *
°rˇt
(*, const *);

32 #i‚de‡
__HAVE_ARCH_STRNCAT


33 *
°∫ˇt
(*, c⁄° *, 
__kî√l_size_t
);

35 #i‚de‡
__HAVE_ARCH_STRCMP


36 
°rcmp
(const *, const *);

38 #i‚de‡
__HAVE_ARCH_STRNCMP


39 
°∫cmp
(c⁄° *, c⁄° *, 
__kî√l_size_t
);

42 
°∫icmp
(c⁄° *, c⁄° *, 
__kî√l_size_t
);

44 #i‚de‡
__HAVE_ARCH_STRCHR


45 *
°rchr
(const *, );

47 #i‚de‡
__HAVE_ARCH_STRRCHR


48 *
°ºchr
(const *, );

50 #i‚de‡
__HAVE_ARCH_STRSTR


51 *
°r°r
(const *, const *);

53 #i‚de‡
__HAVE_ARCH_STRLEN


54 
__kî√l_size_t
 
°æí
(const *);

56 #i‚de‡
__HAVE_ARCH_STRNLEN


57 
__kî√l_size_t
 
°∫Àn
(const *, __kernel_size_t);

59 #i‚de‡
__HAVE_ARCH_STRDUP


60 *
°rdup
(const *);

62 #i‚de‡
__HAVE_ARCH_STRSWAB


63 *
°rswab
(const *);

66 #i‚de‡
__HAVE_ARCH_MEMSET


67 *
mem£t
(*, , 
__kî√l_size_t
);

69 #i‚de‡
__HAVE_ARCH_MEMCPY


70 *
mem˝y
(*, c⁄° *, 
__kî√l_size_t
);

72 #i‚de‡
__HAVE_ARCH_MEMMOVE


73 *
memmove
(*, c⁄° *, 
__kî√l_size_t
);

75 #i‚de‡
__HAVE_ARCH_MEMSCAN


76 *
memsˇn
(*, , 
__kî√l_size_t
);

78 #i‚de‡
__HAVE_ARCH_MEMCMP


79 
memcmp
(c⁄° *, c⁄° *, 
__kî√l_size_t
);

81 #i‚de‡
__HAVE_ARCH_MEMCHR


82 *
memchr
(c⁄° *, , 
__kî√l_size_t
);

85 #ifde‡
__˝lu•lus


	@include/linux/time.h

1 #i‚de‡
_LINUX_TIME_H


2 
	#_LINUX_TIME_H


	)

4 
	~<löux/ty≥s.h
>

6 
	#_DEFUN
(
a
,
b
,
c
Ë
	`a
(c)

	)

7 
	#_CONST
 c⁄°

	)

8 
	#_AND
 ,

	)

10 
	#_REENT_ONLY


	)

12 
	#SECSPERMIN
 60L

	)

13 
	#MINSPERHOUR
 60L

	)

14 
	#HOURSPERDAY
 24L

	)

15 
	#SECSPERHOUR
 (
SECSPERMIN
 * 
MINSPERHOUR
)

	)

16 
	#SECSPERDAY
 (
SECSPERHOUR
 * 
HOURSPERDAY
)

	)

17 
	#DAYSPERWEEK
 7

	)

18 
	#MONSPERYEAR
 12

	)

20 
	#YEAR_BASE
 1900

	)

21 
	#EPOCH_YEAR
 1970

	)

22 
	#EPOCH_WDAY
 4

	)

24 
	#i¶óp
(
y
Ë((((yË% 4Ë=0 && ((yË% 100Ë!0Ë|| ((yË% 400Ë=0)

	)

27 
	stm


29 
	mtm_£c
;

30 
	mtm_mö
;

31 
	mtm_hour
;

32 
	mtm_mday
;

33 
	mtm_m⁄
;

34 
	mtm_yór
;

35 
	mtm_wday
;

36 
	mtm_yday
;

37 
	mtm_isd°
;

39 #ifde‡
__USE_BSD


40 
	mtm_gmtoff
;

41 
__c⁄°
 *
	mtm_z⁄e
;

43 
	m__tm_gmtoff
;

44 
__c⁄°
 *
	m__tm_z⁄e
;

48 
ölöe
 *
_DEFUN
(
as˘ime_r
, (
tim_p
, 
ªsu…
), 
_CONST
 
tm
 *tim_∞
_AND
 *result)

50 
_CONST
 
	gday_«me
[7][3] = {

53 
_CONST
 
	gm⁄_«me
[12][3] = {

58 
•rötf
(
ªsu…
, "%.3s %.3s %.2d %.2d:%.2d:%.2d %d\n",

59 
day_«me
[
tim_p
->
tm_wday
],

60 
m⁄_«me
[
tim_p
->
tm_m⁄
],

61 
tim_p
->
tm_mday
,Åim_p->
tm_hour
,Åim_p->
tm_mö
,Åim_p->
tm_£c
, 1900 +Åim_p->
tm_yór
);

62  
	gªsu…
;

65 
ölöe
 
tm
 *
_DEFUN
(
loˇ…ime_r
, (
tim_p
, 
ªs
),

66 
_CONST
 
time_t
 * 
tim_p
 
_AND
 
tm
 *
ªs
)

68 
_CONST
 
	gm⁄_Àngths
[2][
MONSPERYEAR
] = {

73 
_CONST
 
	gyór_Àngths
[2] = {

78 
	gdays
, 
	gªm
;

79 
	gy
;

80 
	gyÀ≠
;

81 
_CONST
 *
	gù
;

83 
	gdays
 = (()*
tim_p
Ë/ 
SECSPERDAY
;

84 
	gªm
 = (()*
tim_p
Ë% 
SECSPERDAY
;

85 
	gªm
 < 0)

87 
	gªm
 +
SECSPERDAY
;

88 --
	gdays
;

90 
	gªm
 >
SECSPERDAY
)

92 
ªm
 -
SECSPERDAY
;

93 ++
	gdays
;

97 
	gªs
->
	gtm_hour
 = ()(
ªm
 / 
SECSPERHOUR
);

98 
	gªm
 %
SECSPERHOUR
;

99 
	gªs
->
	gtm_mö
 = ()(
ªm
 / 
SECSPERMIN
);

100 
	gªs
->
	gtm_£c
 = ()(
ªm
 % 
SECSPERMIN
);

103 i‡((
	gªs
->
	gtm_wday
 = ((
EPOCH_WDAY
 + 
days
Ë% 
DAYSPERWEEK
)) < 0)

104 
ªs
->
tm_wday
 +
DAYSPERWEEK
;

107 
	gy
 = 
EPOCH_YEAR
;

108 i‡(
	gdays
 >= 0)

112 
	gyÀ≠
 = 
i¶óp
(
y
);

113 i‡(
	gdays
 < 
	gyór_Àngths
[
yÀ≠
])

115 
	gy
++;

116 
	gdays
 -
yór_Àngths
[
yÀ≠
];

123 --
	gy
;

124 
	gyÀ≠
 = 
i¶óp
(
y
);

125 
	gdays
 +
yór_Àngths
[
yÀ≠
];

127 
	gdays
 < 0);

130 
	gªs
->
	gtm_yór
 = 
y
 - 
YEAR_BASE
;

131 
	gªs
->
	gtm_yday
 = 
days
;

132 
	gù
 = 
m⁄_Àngths
[
yÀ≠
];

133 
	gªs
->
	gtm_m⁄
 = 0; 
	gdays
 >
ù
[
ªs
->
tm_m⁄
]; ++res->tm_mon)

134 
	gdays
 -
ù
[
ªs
->
tm_m⁄
];

135 
	gªs
->
	gtm_mday
 = 
days
 + 1;

138 
	gªs
->
	gtm_isd°
 = -1;

140  (
	gªs
);

143 
ölöe
 *
_DEFUN
(
˘ime_r
, (
tim_p
, 
ªsu…
), 
_CONST
 
time_t
 *Åim_∞
_AND
 *result)

145 
tm
 
	gtm
;

146  
as˘ime_r
(
loˇ…ime_r
(
tim_p
, &
tm
), 
ªsu…
);

	@include/linux/types.h

1 #i‚de‡
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 #ifdef 
__KERNEL__


5 
	~<löux/c⁄fig.h
>

8 
	~<löux/posix_ty≥s.h
>

9 
	~<asm/ty≥s.h
>

11 #i‚de‡
__KERNEL_STRICT_NAMES


13 
__kî√l_fd_£t
 
	tfd_£t
;

14 
__kî√l_dev_t
 
	tdev_t
;

15 
__kî√l_öo_t
 
	töo_t
;

16 
__kî√l_mode_t
 
	tmode_t
;

17 
__kî√l_∆ök_t
 
	t∆ök_t
;

18 
__kî√l_off_t
 
	toff_t
;

19 
__kî√l_pid_t
 
	tpid_t
;

20 
__kî√l_daddr_t
 
	tdaddr_t
;

21 
__kî√l_key_t
 
	tkey_t
;

22 
__kî√l_su£c⁄ds_t
 
	tsu£c⁄ds_t
;

24 #ifde‡
__KERNEL__


25 
__kî√l_uid32_t
 
	tuid_t
;

26 
__kî√l_gid32_t
 
	tgid_t
;

27 
__kî√l_uid16_t
 
	tuid16_t
;

28 
__kî√l_gid16_t
 
	tgid16_t
;

30 #ifde‡
CONFIG_UID16


32 
__kî√l_ﬁd_uid_t
 
	tﬁd_uid_t
;

33 
__kî√l_ﬁd_gid_t
 
	tﬁd_gid_t
;

40 
__kî√l_uid_t
 
	tuid_t
;

41 
__kî√l_gid_t
 
	tgid_t
;

44 #i‡
deföed
(
__GNUC__
Ë&& !deföed(
__STRICT_ANSI__
)

45 
__kî√l_loff_t
 
	tloff_t
;

52 #i‚de‡
_SIZE_T


53 
	#_SIZE_T


	)

54 
__kî√l_size_t
 
	tsize_t
;

57 #i‚de‡
_SSIZE_T


58 
	#_SSIZE_T


	)

59 
__kî√l_ssize_t
 
	tssize_t
;

62 #i‚de‡
_PTRDIFF_T


63 
	#_PTRDIFF_T


	)

64 
__kî√l_±rdiff_t
 
	t±rdiff_t
;

67 #i‚de‡
_TIME_T


68 
	#_TIME_T


	)

69 
__kî√l_time_t
 
	ttime_t
;

72 #i‚de‡
_CLOCK_T


73 
	#_CLOCK_T


	)

74 
__kî√l_˛ock_t
 
	t˛ock_t
;

77 #i‚de‡
_CADDR_T


78 
	#_CADDR_T


	)

79 
__kî√l_ˇddr_t
 
	tˇddr_t
;

83 
	tu_ch¨
;

84 
	tu_sh‹t
;

85 
	tu_öt
;

86 
	tu_l⁄g
;

89 
	tunch¨
;

90 
	tush‹t
;

91 
	tuöt
;

92 
	tul⁄g
;

94 #i‚de‡
__BIT_TYPES_DEFINED__


95 
	#__BIT_TYPES_DEFINED__


	)

97 
__u8
 
	tu_öt8_t
;

98 
__s8
 
	töt8_t
;

99 
__u16
 
	tu_öt16_t
;

100 
__s16
 
	töt16_t
;

101 
__u32
 
	tu_öt32_t
;

102 
__s32
 
	töt32_t
;

106 
__u8
 
	tuöt8_t
;

107 
__u16
 
	tuöt16_t
;

108 
__u32
 
	tuöt32_t
;

110 #i‡
deföed
(
__GNUC__
Ë&& !deföed(
__STRICT_ANSI__
)

111 
__u64
 
	tuöt64_t
;

112 
__u64
 
	tu_öt64_t
;

113 
__s64
 
	töt64_t
;

123 
	su°©


125 
__kî√l_daddr_t
 
	mf_t‰ì
;

126 
__kî√l_öo_t
 
	mf_töode
;

127 
	mf_‚ame
[6];

128 
	mf_Âack
[6];

	@include/nand.h

18 #i‚de‡
__LINUX_MTD_NAND_H


19 
	#__LINUX_MTD_NAND_H


	)

21 
	~<comm⁄.h
>

22 
	~<löux/bô›s.h
>

24 
	#NAND_K9F2G08
 0xecda

	)

30 
	#NAND_MAX_OOBSIZE
 218

	)

31 
	#NAND_MAX_PAGESIZE
 4096

	)

40 
	#NAND_NCE
 0x01

	)

42 
	#NAND_CLE
 0x02

	)

44 
	#NAND_ALE
 0x04

	)

46 
	#NAND_CTRL_CLE
 (
NAND_NCE
 | 
NAND_CLE
)

	)

47 
	#NAND_CTRL_ALE
 (
NAND_NCE
 | 
NAND_ALE
)

	)

48 
	#NAND_CTRL_CHANGE
 0x80

	)

53 
	#NAND_CMD_READ0
 0x00

	)

54 
	#NAND_CMD_READSTART
 0x30

	)

55 
	#NAND_CMD_READID
 0x90

	)

56 
	#NAND_CMD_SEQIN
 0x80

	)

57 
	#NAND_CMD_PAGEPROG
 0x10

	)

58 
	#NAND_CMD_ERASE1
 0x60

	)

59 
	#NAND_CMD_ERASE2
 0xd0

	)

60 
	#NAND_CMD_STATUS
 0x70

	)

61 
	#NAND_CMD_RESET
 0xf‡

	)

62 
	#NAND_CMD_READ1
 1

	)

63 
	#NAND_CMD_RNDOUT
 0x05

	)

64 
	#NAND_CMD_RNDOUTSTART
 0xE0

	)

65 
	#NAND_CMD_RNDIN
 0x85

	)

67 
	#NAND_CMD_READOOB
 0x50

	)

68 
	#NAND_CMD_STATUS_MULTI
 0x71

	)

71 
	#NAND_CMD_CACHEDPROG
 0x15

	)

80 
	#NAND_CMD_DEPLETE1
 0x100

	)

81 
	#NAND_CMD_DEPLETE2
 0x38

	)

82 
	#NAND_CMD_STATUS_MULTI
 0x71

	)

83 
	#NAND_CMD_STATUS_ERROR
 0x72

	)

85 
	#NAND_CMD_STATUS_ERROR0
 0x73

	)

86 
	#NAND_CMD_STATUS_ERROR1
 0x74

	)

87 
	#NAND_CMD_STATUS_ERROR2
 0x75

	)

88 
	#NAND_CMD_STATUS_ERROR3
 0x76

	)

89 
	#NAND_CMD_STATUS_RESET
 0x7f

	)

90 
	#NAND_CMD_STATUS_CLEAR
 0xff

	)

92 
	#NAND_CMD_NONE
 -1

	)

95 
	#NAND_STATUS_FAIL
 0x01

	)

96 
	#NAND_STATUS_FAIL_N1
 0x02

	)

97 
	#NAND_STATUS_TRUE_READY
 0x20

	)

98 
	#NAND_STATUS_READY
 0x40

	)

99 
	#NAND_STATUS_WP
 0x80

	)

106 
	mNAND_ECC_NONE
,

107 
	mNAND_ECC_SOFT
,

108 
	mNAND_ECC_HW
,

109 
	mNAND_ECC_HW_SYNDROME
,

110 
	mNAND_ECC_HW_OOB_FIRST
,

111 } 
	t«nd_ecc_modes_t
;

117 
	#NAND_ECC_READ
 0

	)

119 
	#NAND_ECC_WRITE
 1

	)

121 
	#NAND_ECC_READSYN
 2

	)

124 
	#NAND_GET_DEVICE
 0x80

	)

130 
	#NAND_NO_AUTOINCR
 0x00000001

	)

132 
	#NAND_BUSWIDTH_16
 0x00000002

	)

134 
	#NAND_NO_PADDING
 0x00000004

	)

136 
	#NAND_CACHEPRG
 0x00000008

	)

138 
	#NAND_COPYBACK
 0x00000010

	)

141 
	#NAND_IS_AND
 0x00000020

	)

144 
	#NAND_4PAGE_ARRAY
 0x00000040

	)

148 
	#BBT_AUTO_REFRESH
 0x00000080

	)

152 
	#NAND_NO_READRDY
 0x00000100

	)

154 
	#NAND_NO_SUBPAGE_WRITE
 0x00000200

	)

157 
	#NAND_SAMSUNG_LP_OPTIONS
 \

158 (
NAND_NO_PADDING
 | 
NAND_CACHEPRG
 | 
NAND_COPYBACK
)

	)

161 
	#NAND_CANAUTOINCR
(
chù
Ë(!(chù->
›ti⁄s
 & 
NAND_NO_AUTOINCR
))

	)

162 
	#NAND_MUST_PAD
(
chù
Ë(!(chù->
›ti⁄s
 & 
NAND_NO_PADDING
))

	)

163 
	#NAND_HAS_CACHEPROG
(
chù
Ë((chù->
›ti⁄s
 & 
NAND_CACHEPRG
))

	)

164 
	#NAND_HAS_COPYBACK
(
chù
Ë((chù->
›ti⁄s
 & 
NAND_COPYBACK
))

	)

166 
	#NAND_SUBPAGE_READ
(
chù
Ë((chù->
ecc
.
mode
 =
NAND_ECC_SOFT
) \

167 && (
chù
->
∑ge_shi·
 > 9))

	)

170 
	#NAND_CHIPOPTIONS_MSK
 (0x0000fff‡& ~
NAND_NO_AUTOINCR
)

	)

175 
	#NAND_USE_FLASH_BBT
 0x00010000

	)

177 
	#NAND_SKIP_BBTSCAN
 0x00020000

	)

180 
	#NAND_OWN_BUFFERS
 0x00040000

	)

183 
	#NAND_BBT_SCANNED
 0x40000000

	)

185 
	#NAND_CONTROLLER_ALLOC
 0x80000000

	)

188 
	#NAND_CI_CHIPNR_MSK
 0x03

	)

189 
	#NAND_CI_CELLTYPE_MSK
 0x0C

	)

194 
	#NAND_MFR_TOSHIBA
 0x98

	)

195 
	#NAND_MFR_SAMSUNG
 0xec

	)

196 
	#NAND_MFR_FUJITSU
 0x04

	)

197 
	#NAND_MFR_NATIONAL
 0x8f

	)

198 
	#NAND_MFR_RENESAS
 0x07

	)

199 
	#NAND_MFR_STMICRO
 0x20

	)

200 
	#NAND_MFR_HYNIX
 0xad

	)

201 
	#NAND_MFR_MICRON
 0x2c

	)

202 
	#NAND_MFR_AMD
 0x01

	)

207 
	#NAND_SMALL_BADBLOCK_POS
 5

	)

208 
	#NAND_LARGE_BADBLOCK_POS
 0

	)

211 #i‡
deföed
(
CONFIG_S3C2410
)

212 
	#REG_NFCONF
 
	`__REGi
(
ELFIN_NAND_BASE
 + 0x0)

	)

213 
	#REG_NFCMD
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x4)

	)

214 
	#REG_NFADDR
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x8)

	)

215 
	#REG_NFDATA
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0xc)

	)

216 
	#REG_NFSTAT
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x10)

	)

217 
	#NFSTAT_BUSY
 1

	)

218 
	#«nd_£À˘
(Ë(
REG_NFCONF
 &~0x800Ë

	)

219 
	#«nd_de£À˘
(Ë(
REG_NFCONF
 |0x800)

	)

220 
	#«nd_˛ór_RnB
(Ëdÿ{} 0)

	)

221 
	#«nd_dëe˘_RnB
(Ëdÿ{} 0)

	)

222 
	#«nd_waô_RnB
(Ëdÿ{} 0)

	)

224 #ñi‡
deföed
(
CONFIG_S3C2440
Ë|| deföed(
CONFIG_S3C2442
)

226 
	#REG_NFCONF
 
	`__REGi
(
ELFIN_NAND_BASE
 + 0x0)

	)

227 
	#REG_NFCONT
 
	`__REGi
(
ELFIN_NAND_BASE
 + 0x4)

	)

228 
	#REG_NFCMD
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x8)

	)

229 
	#REG_NFADDR
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0xc)

	)

230 
	#REG_NFDATA
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x10)

	)

231 
	#REG_NFDATA16
 
	`__REGw
(
ELFIN_NAND_BASE
 + 0x10)

	)

232 
	#REG_NFSTAT
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x20)

	)

233 
	#NFSTAT_BUSY
 1

	)

234 
	#«nd_£À˘
(Ë(
REG_NFCONT
 &~(1 << 1))

	)

235 
	#«nd_de£À˘
(Ë(
REG_NFCONT
 |(1 << 1))

	)

236 
	#«nd_˛ór_RnB
(Ë(
REG_NFSTAT
 |(1 << 2))

	)

237 
	#«nd_dëe˘_RnB
(Ë{!(
REG_NFSTAT
&(1<<2)));}

	)

238 
	#«nd_waô_RnB
(Ë{!(
REG_NFSTAT
&(1<<0)));}

	)

242 
	#SKIP_BAD_BLOCK
 1

	)

243 
	#NOT_SKIP_BAD_BLOCK
 0

	)

245 
	sboŸ_«nd_t


247 
	m∑ge_size
;

248 
	m•¨e_size
;

249 
	mblock_size
;

250 
	mblock_num
;

251 
	mbad_block_off£t
;

252 
	mid
;

256 
«nd_öô
(
boŸ_«nd_t
 *
«nd
);

257 
«nd_ªad_∑ge
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_num
, ul⁄g 
off£t
, *
d©a
, ul⁄g 
size
);

258 
«nd_wrôe_∑ge
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_num
, ul⁄g 
off£t
, *
d©a
, ul⁄g 
size
);

259 
is_bad_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
addr
);

260 
m¨k_bad_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
addr
);

261 
«nd_îa£_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
block_num
);

262 
«nd_îa£
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, 
skù_bad
);

263 
«nd_s¸ub
(
boŸ_«nd_t
 *
«nd
);

264 
«nd_ªad_•¨e
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_addr
, 
size
, *
buf
);

265 
«nd_wrôe_•¨e
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_addr
, 
size
, *
buf
);

266 
«nd_ªad
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, *
buf
);

267 
«nd_wrôe
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, *
buf
);

	@include/rsa.h

4 #i‚de‡
_RSA_H


5 
	#_RSA_H


	)

7 #ifde‡
__˝lu•lus


11 
	~"bignum.h
"

13 
	#ERR_RSA_BAD_INPUT_DATA
 0x0300

	)

14 
	#ERR_RSA_INVALID_PADDING
 0x0310

	)

15 
	#ERR_RSA_KEY_GEN_FAILED
 0x0320

	)

16 
	#ERR_RSA_KEY_CHK_FAILED
 0x0330

	)

17 
	#ERR_RSA_PUBLIC_FAILED
 0x0340

	)

18 
	#ERR_RSA_PRIVATE_FAILED
 0x0350

	)

19 
	#ERR_RSA_VERIFY_FAILED
 0x0360

	)

24 
	#RSA_RAW
 0

	)

25 
	#RSA_MD2
 2

	)

26 
	#RSA_MD4
 3

	)

27 
	#RSA_MD5
 4

	)

28 
	#RSA_SHA1
 5

	)

30 
	#RSA_SIGN
 0x01

	)

31 
	#RSA_CRYPT
 0x02

	)

42 
	#ASN1_HASH_MDX
 \

44 "\x86\xF7\x0D\x02\x00\x05\x00\x04\x10"

	)

46 
	#ASN1_HASH_SHA1
 \

48 "\x02\x1A\x05\x00\x04\x14"

	)

52 
vî
;

53 
Àn
;

54 
mpi
 
N
;

55 
mpi
 
E
;

56 
mpi
 
D
;

58 
mpi
 
P
;

59 
mpi
 
Q
;

60 
mpi
 
DP
;

61 
mpi
 
DQ
;

62 
mpi
 
QP
;

64 
mpi
 
RN
;

65 
mpi
 
RP
;

66 
mpi
 
RQ
;

68 
	trß_c⁄ãxt
;

81 
rß_gí_key
–
rß_c⁄ãxt
 *
˘x
, 
nbôs
, 
exp⁄ít
,

82 (*
∫g_f
)(*), *
∫g_d
 );

94 
rß_public
–
rß_c⁄ãxt
 *
˘x
,

95 *
öput
, 
ûí
,

96 *
ouçut
, *
ﬁí
 );

108 
rß_¥iv©e
–
rß_c⁄ãxt
 *
˘x
,

109 *
öput
, 
ûí
,

110 *
ouçut
, *
ﬁí
 );

116 
rß_check_pubkey
–
rß_c⁄ãxt
 *
˘x
 );

122 
rß_check_¥ivkey
–
rß_c⁄ãxt
 *
˘x
 );

137 
rß_pkcs1_í¸y±
–
rß_c⁄ãxt
 *
˘x
,

138 *
öput
, 
ûí
,

139 *
ouçut
, *
ﬁí
 );

153 
rß_pkcs1_de¸y±
–
rß_c⁄ãxt
 *
˘x
,

154 *
öput
, 
ûí
,

155 *
ouçut
, *
ﬁí
 );

171 
rß_pkcs1_sign
–
rß_c⁄ãxt
 *
˘x
, 
Æg_id
,

172 *
hash
, 
hashÀn
,

173 *
sig
, 
sigÀn
 );

188 
rß_pkcs1_vîify
–
rß_c⁄ãxt
 *
˘x
, 
Æg_id
,

189 *
hash
, 
hashÀn
,

190 *
sig
, 
sigÀn
 );

195 
rß_‰ì
–
rß_c⁄ãxt
 *
˘x
 );

202 
rß_£lf_ã°
( );

204 #ifde‡
__˝lu•lus


	@include/s3c2440.h

30 #i‚de‡
__S3C2440_H__


31 
	#__S3C2440_H__


	)

34 
	#BEEP
 0

	)

35 
	#LED0
 5

	)

36 
	#LED1
 6

	)

37 
	#LED2
 8

	)

38 
	#LED3
 10

	)

41 
	#S3C24X0_UART_CHANNELS
 3

	)

42 
	#S3C24X0_SPI_CHANNELS
 2

	)

44 
	~<asm/h¨dw¨e.h
>

46 #i‚de‡
__ASSEMBLY__


49 
	mS3C24X0_UART0
,

50 
	mS3C24X0_UART1
,

51 } 
	tS3C24X0_UARTS_NR
;

53 
	~<s3c24x0.h
>

56 
	#ROM_BASE0
 0x00000000

	)

57 
	#ROM_BASE1
 0x04000000

	)

58 
	#DRAM_BASE0
 0x30000000

	)

59 
	#DRAM_BASE1
 0x00000000

	)

62 
	#S3C2410_ECCSIZE
 512

	)

63 
	#S3C2410_ECCBYTES
 3

	)

66 
	#ELFIN_DMA_BASE
 0x4b000000

	)

67 
	#ELFIN_USB_DEVICE_BASE
 0x44a00000

	)

68 
	#ELFIN_I2C_BASE
 0x54000000

	)

69 
	#ELFIN_I2S_BASE
 0x55000000

	)

70 
	#ELFIN_ADC_BASE
 0x58000000

	)

71 
	#ELFIN_SPI_BASE
 0x59000000

	)

72 
	#ELFIN_SDI_BASE
 0x5A000000

	)

78 
	#ELFIN_MEM_CON_BASE
 0x48000000

	)

80 
	#BWSCON_OFFSET
 0x00

	)

81 
	#BANKCON0_OFFSET
 0x04

	)

82 
	#BANKCON1_OFFSET
 0x08

	)

83 
	#BANKCON2_OFFSET
 0x0c

	)

84 
	#BANKCON3_OFFSET
 0x10

	)

85 
	#BANKCON4_OFFSET
 0x14

	)

86 
	#BANKCON5_OFFSET
 0x18

	)

87 
	#BANKCON6_OFFSET
 0x1c

	)

88 
	#BANKCON7_OFFSET
 0x20

	)

89 
	#REFRESH_OFFSET
 0x24

	)

90 
	#BANKSIZE_OFFSET
 0x28

	)

91 
	#MRSRB6_OFFSET
 0x2c

	)

92 
	#MRSRB7_OFFSET
 0x30

	)

94 
	#BWSCON_REG
 
	`__REG
(0x48000000)

	)

95 
	#BANKCON0_REG
 
	`__REG
(0x48000004)

	)

96 
	#BANKCON1_REG
 
	`__REG
(0x48000008)

	)

97 
	#BANKCON2_REG
 
	`__REG
(0x4800000c)

	)

98 
	#BANKCON3_REG
 
	`__REG
(0x48000010)

	)

99 
	#BANKCON4_REG
 
	`__REG
(0x48000014)

	)

100 
	#BANKCON5_REG
 
	`__REG
(0x48000018)

	)

101 
	#BANKCON6_REG
 
	`__REG
(0x4800001c)

	)

102 
	#BANKCON7_REG
 
	`__REG
(0x48000020)

	)

103 
	#REFRESH_REG
 
	`__REG
(0x48000024)

	)

104 
	#BANKSIZE_REG
 
	`__REG
(0x48000028)

	)

105 
	#MRSRB6_REG
 
	`__REG
(0x4800002c)

	)

106 
	#MRSRB7_REG
 
	`__REG
(0x48000030)

	)

111 
	#ELFIN_USB_HOST_BASE
 0x49000000

	)

113 
	#HcRevisi⁄_OFFSET
 0x00

	)

114 
	#HcC⁄åﬁ_OFFSET
 0x04

	)

115 
	#HcComm⁄Sètus_OFFSET
 0x08

	)

116 
	#HcI¡Sètus_OFFSET
 0x0c

	)

117 
	#HcI¡E«bÀ_OFFSET
 0x10

	)

118 
	#HcI¡DißbÀ_OFFSET
 0x14

	)

119 
	#HcHCCA_OFFSET
 0x18

	)

120 
	#HcPîdCurED_OFFSET
 0x1c

	)

121 
	#HcCålHódED_OFFSET
 0x20

	)

122 
	#HcCålCurED_OFFSET
 0x24

	)

123 
	#HcBulkHódED_OFFSET
 0x28

	)

124 
	#HcBulkCurED_OFFSET
 0x2c

	)

125 
	#HcD⁄eHód_OFFSET
 0x30

	)

126 
	#HcRmI¡îvÆ_OFFSET
 0x34

	)

127 
	#HcFmRemaö_OFFSET
 0x38

	)

128 
	#HcFmNumbî_OFFSET
 0x3c

	)

129 
	#HcPîdSèπ_OFFSET
 0x40

	)

130 
	#HcLSThªs_OFFSET
 0x44

	)

131 
	#HcRhDescA_OFFSET
 0x48

	)

132 
	#HcRhDescB_OFFSET
 0x4c

	)

133 
	#HcRhSètus_OFFSET
 0x50

	)

134 
	#HcRhP‹tSts1_OFFSET
 0x54

	)

135 
	#HcRhP‹tSts2_OFFSET
 0x58

	)

137 
	#HcRevisi⁄_REG
 
	`__REG
(0x49000000)

	)

138 
	#HcC⁄åﬁ_REG
 
	`__REG
(0x49000004)

	)

139 
	#HcComm⁄Sètus_REG
 
	`__REG
(0x49000008)

	)

140 
	#HcI¡Sètus_REG
 
	`__REG
(0x4900000c)

	)

141 
	#HcI¡E«bÀ_REG
 
	`__REG
(0x49000010)

	)

142 
	#HcI¡DißbÀ_REG
 
	`__REG
(0x49000014)

	)

143 
	#HcHCCA_REG
 
	`__REG
(0x49000018)

	)

144 
	#HcPîdCurED_REG
 
	`__REG
(0x4900001c)

	)

145 
	#HcCålHódED_REG
 
	`__REG
(0x49000020)

	)

146 
	#HcCålCurED_REG
 
	`__REG
(0x49000024)

	)

147 
	#HcBulkHódED_REG
 
	`__REG
(0x49000028)

	)

148 
	#HcBulkCurED_REG
 
	`__REG
(0x4900002c)

	)

149 
	#HcD⁄eHód_REG
 
	`__REG
(0x49000030)

	)

150 
	#HcRmI¡îvÆ_REG
 
	`__REG
(0x49000034)

	)

151 
	#HcFmRemaö_REG
 
	`__REG
(0x49000038)

	)

152 
	#HcFmNumbî_REG
 
	`__REG
(0x4900003c)

	)

153 
	#HcPîdSèπ_REG
 
	`__REG
(0x49000040)

	)

154 
	#HcLSThªs_REG
 
	`__REG
(0x49000044)

	)

155 
	#HcRhDescA_REG
 
	`__REG
(0x49000048)

	)

156 
	#HcRhDescB_REG
 
	`__REG
(0x4900004c)

	)

157 
	#HcRhSètus_REG
 
	`__REG
(0x49000050)

	)

158 
	#HcRhP‹tSts1_REG
 
	`__REG
(0x49000054)

	)

159 
	#HcRhP‹tSts2_REG
 
	`__REG
(0x49000058)

	)

164 
	#ELFIN_INTERRUPT_BASE
 0x4a000000

	)

166 
	#SRCPND_OFFSET
 0x00

	)

167 
	#INTMOD_OFFSET
 0x04

	)

168 
	#INTMSK_OFFSET
 0x08

	)

169 
	#PRIORITY_OFFSET
 0x0c

	)

170 
	#INTPND_OFFSET
 0x10

	)

171 
	#INTOFFSET_OFFSET
 0x14

	)

172 
	#SUBSRCPND_OFFSET
 0x18

	)

173 
	#INTSUBMSK_OFFSET
 0x1c

	)

175 
	#SRCPND_REG
 
	`__REG
(0x4a000000)

	)

176 
	#INTMOD_REG
 
	`__REG
(0x4a000004)

	)

177 
	#INTMSK_REG
 
	`__REG
(0x4a000008)

	)

178 
	#PRIORITY_REG
 
	`__REG
(0x4a00000c)

	)

179 
	#INTPND_REG
 
	`__REG
(0x4a000010)

	)

180 
	#INTOFFSET_REG
 
	`__REG
(0x4a000014)

	)

181 
	#SUBSRCPND_REG
 
	`__REG
(0x4a000018)

	)

182 
	#INTSUBMSK_REG
 
	`__REG
(0x4a00001C)

	)

188 
	#ELFIN_CLOCK_POWER_BASE
 0x4c000000

	)

190 
	#LOCKTIME_OFFSET
 0x00

	)

191 
	#MPLLCON_OFFSET
 0x04

	)

192 
	#UPLLCON_OFFSET
 0x08

	)

193 
	#CLKCON_OFFSET
 0x0c

	)

194 
	#CLKSLOW_OFFSET
 0x10

	)

195 
	#CLKDIVN_OFFSET
 0x14

	)

196 
	#CAMDIVN_OFFSET
 0x18

	)

198 
	#LOCKTIME_REG
 
	`__REG
(0x4c000000)

	)

199 
	#MPLLCON_REG
 
	`__REG
(0x4c000004)

	)

200 
	#UPLLCON_REG
 
	`__REG
(0x4c000008)

	)

201 
	#CLKCON_REG
 
	`__REG
(0x4c00000c)

	)

202 
	#CLKSLOW_REG
 
	`__REG
(0x4c000010)

	)

203 
	#CLKDIVN_REG
 
	`__REG
(0x4c000014)

	)

204 
	#CAMDIVN_REG
 
	`__REG
(0x4c000018)

	)

209 
	#ELFIN_LCD_BASE
 0x4d000000

	)

215 
	#ELFIN_GPIO_BASE
 0x56000000

	)

217 
	#GPACON_OFFSET
 0x00

	)

218 
	#GPADAT_OFFSET
 0x04

	)

219 
	#GPAPU_OFFSET
 0x08

	)

220 
	#GPASLPCON_OFFSET
 0x0C

	)

221 
	#GPABON_OFFSET
 0x10

	)

222 
	#GPBDAT_OFFSET
 0x14

	)

223 
	#GPBPU_OFFSET
 0x18

	)

224 
	#GPBSLPCON_OFFSET
 0x1C

	)

225 
	#GPCCON_OFFSET
 0x20

	)

226 
	#GPCDAT_OFFSET
 0x24

	)

227 
	#GPCPU_OFFSET
 0x28

	)

228 
	#GPCSLPCON_OFFSET
 0x2C

	)

229 
	#GPDCON_OFFSET
 0x30

	)

230 
	#GPDDAT_OFFSET
 0x34

	)

231 
	#GPDPU_OFFSET
 0x38

	)

232 
	#GPECON_OFFSET
 0x40

	)

233 
	#GPEDAT_OFFSET
 0x44

	)

234 
	#GPEPU_OFFSET
 0x48

	)

235 
	#GPESLPCON_OFFSET
 0x4C

	)

236 
	#GPFCON_OFFSET
 0x50

	)

237 
	#GPFDAT_OFFSET
 0x54

	)

238 
	#GPFPU_OFFSET
 0x58

	)

239 
	#GPFSLPCON_OFFSET
 0x5C

	)

240 
	#GPGCON_OFFSET
 0x60

	)

241 
	#GPGDAT_OFFSET
 0x64

	)

242 
	#GPGPU_OFFSET
 0x68

	)

243 
	#GPGSLPCON_OFFSET
 0x6C

	)

244 
	#GPHCON_OFFSET
 0x70

	)

245 
	#GPHDAT_OFFSET
 0x74

	)

246 
	#GPHPU_OFFSET
 0x78

	)

247 
	#GPHSLPCON_OFFSET
 0x7C

	)

248 
	#GPICON_OFFSET
 0x80

	)

249 
	#GPIDAT_OFFSET
 0x84

	)

250 
	#GPIPU_OFFSET
 0x88

	)

251 
	#GPISLPCON_OFFSET
 0x8C

	)

252 
	#GPJCON_OFFSET
 0x90

	)

253 
	#GPJDAT_OFFSET
 0x94

	)

254 
	#GPJPU_OFFSET
 0x98

	)

255 
	#SPCON_OFFSET
 0x9C

	)

256 
	#GPKCON_OFFSET
 0xA0

	)

257 
	#GPKDAT_OFFSET
 0xA4

	)

258 
	#GPKPU_OFFSET
 0xA8

	)

259 
	#GPKSLPCON_OFFSET
 0xAC

	)

260 
	#EINTCON0_OFFSET
 0xB0

	)

261 
	#EINTCON1_OFFSET
 0xB4

	)

262 
	#EINTFLT0_OFFSET
 0xB8

	)

263 
	#EINTFLT1_OFFSET
 0xBC

	)

264 
	#EINTMASK_OFFSET
 0xC0

	)

265 
	#EINTPEND_OFFSET
 0xC4

	)

266 
	#DSPGPSLP_OFFSET
 0xC8

	)

267 
	#MEM0CONSTOP_OFFSET
 0xD0

	)

268 
	#MEM1CONSTOP_OFFSET
 0xD4

	)

269 
	#MEM2CONSTOP_OFFSET
 0xD8

	)

270 
	#MEM0CONSLP_OFFSET
 0xE0

	)

271 
	#MEM1CONSLP_OFFSET
 0xE4

	)

272 
	#MEM2CONSLP_OFFSET
 0xE8

	)

273 
	#SPCONSLP_OFFSET
 0xEC

	)

274 
	#SLPEN_OFFSET
 0xF0

	)

275 
	#MEM0DRVCON_OFFSET
 0xF4

	)

276 
	#MEM1DRVCON_OFFSET
 0xF8

	)

277 
	#MEM2DRVCON_OFFSET
 0xFC

	)

279 
	#GPACON_REG
 
	`__REG
(0x44800000)

	)

280 
	#GPADAT_REG
 
	`__REG
(0x44800004)

	)

281 
	#GPAPU_REG
 
	`__REG
(0x44800008)

	)

282 
	#GPASLPCON_REG
 
	`__REG
(0x4480000C)

	)

283 
	#GPABON_REG
 
	`__REG
(0x44800010)

	)

284 
	#GPBDAT_REG
 
	`__REG
(0x44800014)

	)

285 
	#GPBPU_REG
 
	`__REG
(0x44800018)

	)

286 
	#GPBSLPCON_REG
 
	`__REG
(0x4480001C)

	)

287 
	#GPCCON_REG
 
	`__REG
(0x44800020)

	)

288 
	#GPCDAT_REG
 
	`__REG
(0x44800024)

	)

289 
	#GPCPU_REG
 
	`__REG
(0x44800028)

	)

290 
	#GPCSLPCON_REG
 
	`__REG
(0x4480002C)

	)

291 
	#GPDCON_REG
 
	`__REG
(0x44800030)

	)

292 
	#GPDDAT_REG
 
	`__REG
(0x44800034)

	)

293 
	#GPDPU_REG
 
	`__REG
(0x44800038)

	)

294 
	#GPECON_REG
 
	`__REG
(0x44800040)

	)

295 
	#GPEDAT_REG
 
	`__REG
(0x44800044)

	)

296 
	#GPEPU_REG
 
	`__REG
(0x44800048)

	)

297 
	#GPESLPCON_REG
 
	`__REG
(0x4480004C)

	)

298 
	#GPFCON_REG
 
	`__REG
(0x44800050)

	)

299 
	#GPFDAT_REG
 
	`__REG
(0x44800054)

	)

300 
	#GPFPU_REG
 
	`__REG
(0x44800058)

	)

301 
	#GPFSLPCON_REG
 
	`__REG
(0x4480005C)

	)

302 
	#GPGCON_REG
 
	`__REG
(0x44800060)

	)

303 
	#GPGDAT_REG
 
	`__REG
(0x44800064)

	)

304 
	#GPGPU_REG
 
	`__REG
(0x44800068)

	)

305 
	#GPGSLPCON_REG
 
	`__REG
(0x4480006C)

	)

306 
	#GPHCON_REG
 
	`__REG
(0x44800070)

	)

307 
	#GPHDAT_REG
 
	`__REG
(0x44800074)

	)

308 
	#GPHPU_REG
 
	`__REG
(0x44800078)

	)

309 
	#GPHSLPCON_REG
 
	`__REG
(0x4480007C)

	)

310 
	#GPICON_REG
 
	`__REG
(0x44800080)

	)

311 
	#GPIDAT_REG
 
	`__REG
(0x44800084)

	)

312 
	#GPIPU_REG
 
	`__REG
(0x44800088)

	)

313 
	#GPISLPCON_REG
 
	`__REG
(0x4480008C)

	)

314 
	#GPJCON_REG
 
	`__REG
(0x44800090)

	)

315 
	#GPJDAT_REG
 
	`__REG
(0x44800094)

	)

316 
	#GPJPU_REG
 
	`__REG
(0x44800098)

	)

317 
	#SPCON_REG
 
	`__REG
(0x4480009C)

	)

318 
	#GPKCON_REG
 
	`__REG
(0x448000A0)

	)

319 
	#GPKDAT_REG
 
	`__REG
(0x448000A4)

	)

320 
	#GPKPU_REG
 
	`__REG
(0x448000A8)

	)

321 
	#GPKSLPCON_REG
 
	`__REG
(0x448000AC)

	)

322 
	#EINTCON0_REG
 
	`__REG
(0x448000B0)

	)

323 
	#EINTCON1_REG
 
	`__REG
(0x448000B4)

	)

324 
	#EINTFLT0_REG
 
	`__REG
(0x448000B8)

	)

325 
	#EINTFLT1_REG
 
	`__REG
(0x448000BC)

	)

326 
	#EINTMASK_REG
 
	`__REG
(0x448000C0)

	)

327 
	#EINTPEND_REG
 
	`__REG
(0x448000C4)

	)

328 
	#DSPGPSLP_REG
 
	`__REG
(0x448000C8)

	)

329 
	#MEM0CONSTOP_REG
 
	`__REG
(0x448000D0)

	)

330 
	#MEM1CONSTOP_REG
 
	`__REG
(0x448000D4)

	)

331 
	#MEM2CONSTOP_REG
 
	`__REG
(0x448000D8)

	)

332 
	#MEM0CONSLP_REG
 
	`__REG
(0x448000E0)

	)

333 
	#MEM1CONSLP_REG
 
	`__REG
(0x448000E4)

	)

334 
	#MEM2CONSLP_REG
 
	`__REG
(0x448000E8)

	)

335 
	#SPCONSLP_REG
 
	`__REG
(0x448000EC)

	)

336 
	#SLPEN_REG
 
	`__REG
(0x448000F0)

	)

337 
	#MEM0DRVCON_REG
 
	`__REG
(0x448000F4)

	)

338 
	#MEM1DRVCON_REG
 
	`__REG
(0x448000F8)

	)

339 
	#MEM2DRVCON_REG
 
	`__REG
(0x448000FC)

	)

345 
	#ELFIN_NAND_BASE
 0x4e000000

	)

347 
	#NFCONF_OFFSET
 0x00

	)

348 
	#NFCONT_OFFSET
 0x04

	)

349 
	#NFCMMD_OFFSET
 0x08

	)

350 
	#NFADDR_OFFSET
 0x0c

	)

351 
	#NFDATA_OFFSET
 0x10

	)

352 
	#NFMECCD0_OFFSET
 0x14

	)

353 
	#NFMECCD1_OFFSET
 0x18

	)

354 
	#NFSECCD_OFFSET
 0x1c

	)

355 
	#NFSTAT_OFFSET
 0x20

	)

356 
	#NFESTAT0_OFFSET
 0x24

	)

357 
	#NFESTAT1_OFFSET
 0x28

	)

358 
	#NFMECC0_OFFSET
 0x2c

	)

359 
	#NFMECC1_OFFSET
 0x30

	)

360 
	#NFSECC_OFFSET
 0x34

	)

361 
	#NFSBLK_OFFSET
 0x38

	)

362 
	#NFEBLK_OFFSET
 0x3c

	)

364 
	#NFCONF
 (0x4e000000)

	)

365 
	#NFCONT
 (0x4e000004)

	)

366 
	#NFCMMD
 (0x4e000008)

	)

367 
	#NFADDR
 (0x4e00000C)

	)

368 
	#NFDATA
 (0x4e000010)

	)

369 
	#NFMECCDATA0
 (0x4e000014)

	)

370 
	#NFMECCDATA1
 (0x4e000018)

	)

371 
	#NFSECCDATA
 (0x4e00001c)

	)

372 
	#NFSTAT
 (0x4e000020)

	)

373 
	#NFESTAT0
 (0x4e000024)

	)

374 
	#NFESTAT1
 (0x4e000028)

	)

375 
	#NFMECC0
 (0x4e00002C)

	)

376 
	#NFMECC1
 (0x4e000030)

	)

377 
	#NFSECC
 (0x4e00003c)

	)

379 
	#NFCONF_REG
 
	`__REG
(0x4e000000)

	)

380 
	#NFCONT_REG
 
	`__REG
(0x4e000004)

	)

381 
	#NFCMD_REG
 
	`__REGb
(0x4e000008)

	)

382 
	#NFADDR_REG
 
	`__REGb
(0x4e00000C)

	)

383 
	#NFDATA8_REG
 
	`__REGb
(0x4e000010)

	)

384 
	#NFDATA16_REG
 
	`__REGw
(0x4e000010)

	)

385 
	#NFDATA32_REG
 
	`__REG
(0x4e000010)

	)

386 
	#NFSTAT_REG
 
	`__REG
(0x4e000020)

	)

388 
	#NFCONT_WP
 (1<<12)

	)

389 
	#NFCONT_SECCLOCK
 (1<<6)

	)

390 
	#NFCONT_MECCLOCK
 (1<<5)

	)

391 
	#NFCONT_INITECC
 (1<<4)

	)

392 
	#NFCONT_CS_ALT
 (1<<1)

	)

393 
	#NFCONT_CS
 (1<<1)

	)

394 
	#NFSTAT_RnB
 (1<<0)

	)

400 
	#ELFIN_WATCHDOG_BASE
 0x53000000

	)

402 
	#WTCON_OFFSET
 0x00

	)

403 
	#WTDAT_OFFSET
 0x04

	)

404 
	#WTCNT_OFFSET
 0x08

	)

406 
	#WTCON_REG
 
	`__REG
(0x53000000)

	)

407 
	#WTDAT_REG
 
	`__REG
(0x53000004)

	)

408 
	#WTCNT_REG
 
	`__REG
(0x53000008)

	)

413 
	#ELFIN_UART_BASE
 0x50000000

	)

415 
	#ULCON0_OFFSET
 0x00

	)

416 
	#UCON0_OFFSET
 0x04

	)

417 
	#UFCON0_OFFSET
 0x08

	)

418 
	#UMCON0_OFFSET
 0x0C

	)

419 
	#UTRSTAT0_OFFSET
 0x10

	)

420 
	#UERSTAT0_OFFSET
 0x14

	)

421 
	#UFSTAT0_OFFSET
 0x18

	)

422 
	#UMSTAT0_OFFSET
 0x1C

	)

423 
	#UTXH0_OFFSET
 0x20

	)

424 
	#URXH0_OFFSET
 0x24

	)

425 
	#UBRDIV0_OFFSET
 0x28

	)

427 
	#ULCON0_REG
 
	`__REG
(0x50000000)

	)

428 
	#UCON0_REG
 
	`__REG
(0x50000004)

	)

429 
	#UFCON0_REG
 
	`__REG
(0x50000008)

	)

430 
	#UMCON0_REG
 
	`__REG
(0x5000000C)

	)

431 
	#UTRSTAT0_REG
 
	`__REG
(0x50000010)

	)

432 
	#UERSTAT0_REG
 
	`__REG
(0x50000014)

	)

433 
	#UFSTAT0_REG
 
	`__REG
(0x50000018)

	)

434 
	#UMSTAT0_REG
 
	`__REG
(0x5000001C)

	)

435 
	#UTXH0_REG
 
	`__REG
(0x50000020)

	)

436 
	#URXH0_REG
 
	`__REG
(0x50000024)

	)

437 
	#UBRDIV0_REG
 
	`__REG
(0x50000028)

	)

439 
	#ULCON1_REG
 
	`__REG
(0x50004000)

	)

440 
	#UCON1_REG
 
	`__REG
(0x50004004)

	)

441 
	#UFCON1_REG
 
	`__REG
(0x50004008)

	)

442 
	#UMCON1_REG
 
	`__REG
(0x5000400C)

	)

443 
	#UTRSTAT1_REG
 
	`__REG
(0x50004010)

	)

444 
	#UERSTAT1_REG
 
	`__REG
(0x50004014)

	)

445 
	#UFSTAT1_REG
 
	`__REG
(0x50004018)

	)

446 
	#UMSTAT1_REG
 
	`__REG
(0x5000401C)

	)

447 
	#UTXH1_REG
 
	`__REG
(0x50004020)

	)

448 
	#URXH1_REG
 
	`__REG
(0x50004024)

	)

449 
	#UBRDIV1_REG
 
	`__REG
(0x50004028)

	)

451 
	#ULCON2_REG
 
	`__REG
(0x50008000)

	)

452 
	#UCON2_REG
 
	`__REG
(0x50008004)

	)

453 
	#UFCON2_REG
 
	`__REG
(0x50008008)

	)

454 
	#UMCON2_REG
 
	`__REG
(0x5000800C)

	)

455 
	#UTRSTAT2_REG
 
	`__REG
(0x50008010)

	)

456 
	#UERSTAT2_REG
 
	`__REG
(0x50008014)

	)

457 
	#UFSTAT2_REG
 
	`__REG
(0x50008018)

	)

458 
	#UMSTAT2_REG
 
	`__REG
(0x5000801C)

	)

459 
	#UTXH2_REG
 
	`__REG
(0x50008020)

	)

460 
	#URXH2_REG
 
	`__REG
(0x50008024)

	)

461 
	#UBRDIV2_REG
 
	`__REG
(0x50008028)

	)

463 
	#UTRSTAT_TX_EMPTY
 (1 << 2)

	)

464 
	#UTRSTAT_RX_READY
 (1 << 0)

	)

465 
	#UART_ERR_MASK
 0xF

	)

470 
	#ELFIN_TIMER_BASE
 0x51000000

	)

472 
	#TCFG0_REG
 
	`__REG
(0x51000000)

	)

473 
	#TCFG1_REG
 
	`__REG
(0x51000004)

	)

474 
	#TCON_REG
 
	`__REG
(0x51000008)

	)

475 
	#TCNTB0_REG
 
	`__REG
(0x5100000C)

	)

476 
	#TCMPB0_REG
 
	`__REG
(0x51000010)

	)

477 
	#TCNTO0_REG
 
	`__REG
(0x51000014)

	)

478 
	#TCNTB1_REG
 
	`__REG
(0x51000018)

	)

479 
	#TCMPB1_REG
 
	`__REG
(0x5100001C)

	)

480 
	#TCNTO1_REG
 
	`__REG
(0x51000020)

	)

481 
	#TCNTB2_REG
 
	`__REG
(0x51000024)

	)

482 
	#TCMPB2_REG
 
	`__REG
(0x51000028)

	)

483 
	#TCNTO2_REG
 
	`__REG
(0x5100002C)

	)

484 
	#TCNTB3_REG
 
	`__REG
(0x51000030)

	)

485 
	#TCMPB3_REG
 
	`__REG
(0x51000034)

	)

486 
	#TCNTO3_REG
 
	`__REG
(0x51000038)

	)

487 
	#TCNTB4_REG
 
	`__REG
(0x5100003C)

	)

488 
	#TCNTO4_REG
 
	`__REG
(0x51000040)

	)

491 
	#fTCFG0_DZONE
 
	`Fld
(8,16Ë

	)

492 
	#fTCFG0_PRE1
 
	`Fld
(8,8Ë

	)

493 
	#fTCFG0_PRE0
 
	`Fld
(8,0Ë

	)

494 
	#fTCFG1_MUX4
 
	`Fld
(4,16)

	)

496 
	#TCFG0_DZONE
(
x
Ë
	`FIn§t
((x), 
fTCFG0_DZONE
)

	)

497 
	#TCFG0_PRE1
(
x
Ë
	`FIn§t
((x), 
fTCFG0_PRE1
)

	)

498 
	#TCFG0_PRE0
(
x
Ë
	`FIn§t
((x), 
fTCFG0_PRE0
)

	)

499 
	#TCON_4_AUTO
 (1 << 22Ë

	)

500 
	#TCON_4_UPDATE
 (1 << 21Ë

	)

501 
	#TCON_4_ONOFF
 (1 << 20Ë

	)

502 
	#COUNT_4_ON
 (
TCON_4_ONOFF
*1)

	)

503 
	#COUNT_4_OFF
 (
TCON_4_ONOFF
*0)

	)

504 
	#TCON_3_AUTO
 (1 << 19Ë

	)

505 
	#TIMER3_ATLOAD_ON
 (
TCON_3_AUTO
*1)

	)

506 
	#TIMER3_ATLAOD_OFF
 
	`FCÃBô
(
TCON
, 
TCON_3_AUTO
)

	)

507 
	#TCON_3_INVERT
 (1 << 18Ë

	)

508 
	#TIMER3_IVT_ON
 (
TCON_3_INVERT
*1)

	)

509 
	#TIMER3_IVT_OFF
 (
	`FCÃBô
(
TCON
, 
TCON_3_INVERT
))

	)

510 
	#TCON_3_MAN
 (1 << 17Ë

	)

511 
	#TIMER3_MANUP
 (
TCON_3_MAN
*1)

	)

512 
	#TIMER3_NOP
 (
	`FCÃBô
(
TCON
, 
TCON_3_MAN
))

	)

513 
	#TCON_3_ONOFF
 (1 << 16Ë

	)

514 
	#TIMER3_ON
 (
TCON_3_ONOFF
*1)

	)

515 
	#TIMER3_OFF
 (
	`FCÃBô
(
TCON
, 
TCON_3_ONOFF
))

	)

517 
	#GET_PRESCALE_TIMER4
(
x
Ë
	`FExå
((x), 
fTCFG0_PRE1
)

	)

518 
	#GET_DIVIDER_TIMER4
(
x
Ë
	`FExå
((x), 
fTCFG1_MUX4
)

	)

523 
	#ELFIN_RTC_BASE
 0x57000000

	)

524 
	#RTCCON_REG
 
	`__REG
(0x57000040)

	)

525 
	#TICNT_REG
 
	`__REG
(0x57000044)

	)

526 
	#RTCALM_REG
 
	`__REG
(0x57000050)

	)

527 
	#ALMSEC_REG
 
	`__REG
(0x57000054)

	)

528 
	#ALMMIN_REG
 
	`__REG
(0x57000058)

	)

529 
	#ALMHOUR_REG
 
	`__REG
(0x5700005c)

	)

530 
	#ALMDATE_REG
 
	`__REG
(0x57000060)

	)

531 
	#ALMMON_REG
 
	`__REG
(0x57000064)

	)

532 
	#ALMYEAR_REG
 
	`__REG
(0x57000068)

	)

533 
	#BCDSEC_REG
 
	`__REG
(0x57000070)

	)

534 
	#BCDMIN_REG
 
	`__REG
(0x57000074)

	)

535 
	#BCDHOUR_REG
 
	`__REG
(0x57000078)

	)

536 
	#BCDDATE_REG
 
	`__REG
(0x5700007c)

	)

537 
	#BCDDAY_REG
 
	`__REG
(0x57000080)

	)

538 
	#BCDMON_REG
 
	`__REG
(0x57000084)

	)

539 
	#BCDYEAR_REG
 
	`__REG
(0x57000088)

	)

542 
	#ELFIN_USBD_BASE
 0x52000000

	)

543 
	#USB_DEVICE_PHYS_ADR
 
ELFIN_USBD_BASE


	)

546 #i‚de‡
__ASSEMBLY__


547 
ölöe
 
S3C24X0_MEMCTL
 *
	$S3C24X0_GëBa£_MEMCTL
()

549  (
S3C24X0_MEMCTL
 *Ë(
ELFIN_MEM_CON_BASE
);

550 
	}
}

551 
ölöe
 
S3C24X0_USB_HOST
 *
	$S3C24X0_GëBa£_USB_HOST
()

553  (
S3C24X0_USB_HOST
 *Ë
ELFIN_USB_HOST_BASE
;

554 
	}
}

555 
ölöe
 
S3C24X0_INTERRUPT
 *
	$S3C24X0_GëBa£_INTERRUPT
()

557  (
S3C24X0_INTERRUPT
 *Ë
ELFIN_INTERRUPT_BASE
;

558 
	}
}

559 
ölöe
 
S3C24X0_DMAS
 *
	$S3C24X0_GëBa£_DMAS
()

561  (
S3C24X0_DMAS
 *Ë
ELFIN_DMA_BASE
;

562 
	}
}

563 
ölöe
 
S3C24X0_CLOCK_POWER
 *
	$S3C24X0_GëBa£_CLOCK_POWER
()

565  (
S3C24X0_CLOCK_POWER
 *Ë
ELFIN_CLOCK_POWER_BASE
;

566 
	}
}

567 
ölöe
 
S3C24X0_LCD
 *
	$S3C24X0_GëBa£_LCD
()

569  (
S3C24X0_LCD
 *Ë
ELFIN_LCD_BASE
;

570 
	}
}

571 
ölöe
 
S3C2410_NAND
 *
	$S3C2410_GëBa£_NAND
()

573  (
S3C2410_NAND
 *Ë
ELFIN_NAND_BASE
;

574 
	}
}

575 
ölöe
 
S3C24X0_UART
 *
	$S3C24X0_GëBa£_UART
(
S3C24X0_UARTS_NR
 
ƒ
)

577  (
S3C24X0_UART
 *Ë(
ELFIN_UART_BASE
 + (
ƒ
 * 0x4000));

578 
	}
}

579 
ölöe
 
S3C24X0_TIMERS
 *
	$S3C24X0_GëBa£_TIMERS
()

581  (
S3C24X0_TIMERS
 *Ë
ELFIN_TIMER_BASE
;

582 
	}
}

583 
ölöe
 
S3C24X0_USB_DEVICE
 *
	$S3C24X0_GëBa£_USB_DEVICE
()

585  (
S3C24X0_USB_DEVICE
 *Ë
ELFIN_USB_DEVICE_BASE
;

586 
	}
}

587 
ölöe
 
S3C24X0_WATCHDOG
 *
	$S3C24X0_GëBa£_WATCHDOG
()

589  (
S3C24X0_WATCHDOG
 *Ë
ELFIN_WATCHDOG_BASE
;

590 
	}
}

591 
ölöe
 
S3C24X0_I2C
 *
	$S3C24X0_GëBa£_I2C
()

593  (
S3C24X0_I2C
 *Ë
ELFIN_I2C_BASE
;

594 
	}
}

595 
ölöe
 
S3C24X0_I2S
 *
	$S3C24X0_GëBa£_I2S
()

597  (
S3C24X0_I2S
 *Ë
ELFIN_I2S_BASE
;

598 
	}
}

599 
ölöe
 
S3C24X0_GPIO
 *
	$S3C24X0_GëBa£_GPIO
()

601  (
S3C24X0_GPIO
 *Ë
ELFIN_GPIO_BASE
;

602 
	}
}

603 
ölöe
 
S3C24X0_RTC
 *
	$S3C24X0_GëBa£_RTC
()

605  (
S3C24X0_RTC
 *Ë
ELFIN_RTC_BASE
;

606 
	}
}

607 
ölöe
 
S3C2410_ADC
 *
	$S3C2410_GëBa£_ADC
()

609  (
S3C2410_ADC
 *Ë
ELFIN_ADC_BASE
;

610 
	}
}

611 
ölöe
 
S3C24X0_SPI
 *
	$S3C24X0_GëBa£_SPI
()

613  (
S3C24X0_SPI
 *Ë
ELFIN_SPI_BASE
;

614 
	}
}

615 
ölöe
 
S3C2410_SDI
 *
	$S3C2410_GëBa£_SDI
()

617  (
S3C2410_SDI
 *Ë
ELFIN_SDI_BASE
;

618 
	}
}

622 
	#WTCON_OFFSET
 0x00

	)

625 
	#LCDBGCON_OFFSET
 0x5c

	)

630 
	#BIT_EINT0
 (0x1)

	)

631 
	#BIT_EINT1
 (0x1<<1)

	)

632 
	#BIT_EINT2
 (0x1<<2)

	)

633 
	#BIT_EINT3
 (0x1<<3)

	)

634 
	#BIT_EINT4_7
 (0x1<<4)

	)

635 
	#BIT_EINT8_23
 (0x1<<5)

	)

636 
	#BIT_BAT_FLT
 (0x1<<7)

	)

637 
	#BIT_TICK
 (0x1<<8)

	)

638 
	#BIT_WDT
 (0x1<<9)

	)

639 
	#BIT_TIMER0
 (0x1<<10)

	)

640 
	#BIT_TIMER1
 (0x1<<11)

	)

641 
	#BIT_TIMER2
 (0x1<<12)

	)

642 
	#BIT_TIMER3
 (0x1<<13)

	)

643 
	#BIT_TIMER4
 (0x1<<14)

	)

644 
	#BIT_UART2
 (0x1<<15)

	)

645 
	#BIT_LCD
 (0x1<<16)

	)

646 
	#BIT_DMA0
 (0x1<<17)

	)

647 
	#BIT_DMA1
 (0x1<<18)

	)

648 
	#BIT_DMA2
 (0x1<<19)

	)

649 
	#BIT_DMA3
 (0x1<<20)

	)

650 
	#BIT_SDI
 (0x1<<21)

	)

651 
	#BIT_SPI0
 (0x1<<22)

	)

652 
	#BIT_UART1
 (0x1<<23)

	)

653 
	#BIT_USBH
 (0x1<<26)

	)

654 
	#BIT_IIC
 (0x1<<27)

	)

655 
	#BIT_UART0
 (0x1<<28)

	)

656 
	#BIT_SPI1
 (0x1<<29)

	)

657 
	#BIT_RTC
 (0x1<<30)

	)

658 
	#BIT_ADC
 (0x1<<31)

	)

659 
	#BIT_ALLMSK
 (0xFFFFFFFF)

	)

661 
	#CLKCON_USBD
 (1<< 15)

	)

662 
	#BIT19
 0x00080000

	)

663 
	#BIT29
 0x20000000

	)

664 
	#BIT_USBD
 
BIT29


	)

665 
	#BIT_USBD_SUB
 
BIT19


	)

667 
	#CÀ¨Pídög
(
bô
) {\

668 
rSRCPND
 = 
bô
;\

669 
rINTPND
 = 
bô
;\

670 
rINTPND
;\

671 }

	)

	@include/s3c24x0.h

31 #i‚de‡
__S3C24X0_H__


32 
	#__S3C24X0_H__


	)

34 
	~<asm/ty≥s.h
>

36 vﬁ©ûê
	tu8
 
	tS3C24X0_REG8
;

37 vﬁ©ûê
	tu16
 
	tS3C24X0_REG16
;

38 vﬁ©ûê
	tu32
 
	tS3C24X0_REG32
;

43 
S3C24X0_REG32
 
	mBWSCON
;

44 
S3C24X0_REG32
 
	mBANKCON
[8];

45 
S3C24X0_REG32
 
	mREFRESH
;

46 
S3C24X0_REG32
 
	mBANKSIZE
;

47 
S3C24X0_REG32
 
	mMRSRB6
;

48 
S3C24X0_REG32
 
	mMRSRB7
;

49 } 
	tS3C24X0_MEMCTL
;

54 
S3C24X0_REG32
 
	mHcRevisi⁄
;

55 
S3C24X0_REG32
 
	mHcC⁄åﬁ
;

56 
S3C24X0_REG32
 
	mHcComm⁄Sètus
;

57 
S3C24X0_REG32
 
	mHcI¡îru±Sètus
;

58 
S3C24X0_REG32
 
	mHcI¡îru±E«bÀ
;

59 
S3C24X0_REG32
 
	mHcI¡îru±DißbÀ
;

60 
S3C24X0_REG32
 
	mHcHCCA
;

61 
S3C24X0_REG32
 
	mHcPîiodCuâídED
;

62 
S3C24X0_REG32
 
	mHcC⁄åﬁHódED
;

63 
S3C24X0_REG32
 
	mHcC⁄åﬁCuºítED
;

64 
S3C24X0_REG32
 
	mHcBulkHódED
;

65 
S3C24X0_REG32
 
	mHcBuldCuºítED
;

66 
S3C24X0_REG32
 
	mHcD⁄eHód
;

67 
S3C24X0_REG32
 
	mHcRmI¡îvÆ
;

68 
S3C24X0_REG32
 
	mHcFmRemaöög
;

69 
S3C24X0_REG32
 
	mHcFmNumbî
;

70 
S3C24X0_REG32
 
	mHcPîiodicSèπ
;

71 
S3C24X0_REG32
 
	mHcLSThªshﬁd
;

72 
S3C24X0_REG32
 
	mHcRhDes¸ùt‹A
;

73 
S3C24X0_REG32
 
	mHcRhDes¸ùt‹B
;

74 
S3C24X0_REG32
 
	mHcRhSètus
;

75 
S3C24X0_REG32
 
	mHcRhP‹tSètus1
;

76 
S3C24X0_REG32
 
	mHcRhP‹tSètus2
;

77 } 
	tS3C24X0_USB_HOST
;

82 
S3C24X0_REG32
 
	mSRCPND
;

83 
S3C24X0_REG32
 
	mINTMOD
;

84 
S3C24X0_REG32
 
	mINTMSK
;

85 
S3C24X0_REG32
 
	mPRIORITY
;

86 
S3C24X0_REG32
 
	mINTPND
;

87 
S3C24X0_REG32
 
	mINTOFFSET
;

88 #ifde‡
CONFIG_S3C2410


89 
S3C24X0_REG32
 
	mSUBSRCPND
;

90 
S3C24X0_REG32
 
	mINTSUBMSK
;

92 } 
	tS3C24X0_INTERRUPT
;

97 
S3C24X0_REG32
 
	mDISRC
;

98 #ifde‡
CONFIG_S3C2410


99 
S3C24X0_REG32
 
	mDISRCC
;

101 
S3C24X0_REG32
 
	mDIDST
;

102 #ifde‡
CONFIG_S3C2410


103 
S3C24X0_REG32
 
	mDIDSTC
;

105 
S3C24X0_REG32
 
	mDCON
;

106 
S3C24X0_REG32
 
	mDSTAT
;

107 
S3C24X0_REG32
 
	mDCSRC
;

108 
S3C24X0_REG32
 
	mDCDST
;

109 
S3C24X0_REG32
 
	mDMASKTRIG
;

110 #ifde‡
CONFIG_S3C2400


111 
S3C24X0_REG32
 
	mªs
[1];

113 #ifde‡
CONFIG_S3C2410


114 
S3C24X0_REG32
 
	mªs
[7];

116 } 
	tS3C24X0_DMA
;

120 
S3C24X0_DMA
 
	mdma
[4];

121 } 
	tS3C24X0_DMAS
;

127 
S3C24X0_REG32
 
	mLOCKTIME
;

128 
S3C24X0_REG32
 
	mMPLLCON
;

129 
S3C24X0_REG32
 
	mUPLLCON
;

130 
S3C24X0_REG32
 
	mCLKCON
;

131 
S3C24X0_REG32
 
	mCLKSLOW
;

132 
S3C24X0_REG32
 
	mCLKDIVN
;

133 } 
	tS3C24X0_CLOCK_POWER
;

138 
S3C24X0_REG32
 
	mLCDCON1
;

139 
S3C24X0_REG32
 
	mLCDCON2
;

140 
S3C24X0_REG32
 
	mLCDCON3
;

141 
S3C24X0_REG32
 
	mLCDCON4
;

142 
S3C24X0_REG32
 
	mLCDCON5
;

143 
S3C24X0_REG32
 
	mLCDSADDR1
;

144 
S3C24X0_REG32
 
	mLCDSADDR2
;

145 
S3C24X0_REG32
 
	mLCDSADDR3
;

146 
S3C24X0_REG32
 
	mREDLUT
;

147 
S3C24X0_REG32
 
	mGREENLUT
;

148 
S3C24X0_REG32
 
	mBLUELUT
;

149 
S3C24X0_REG32
 
	mªs
[8];

150 
S3C24X0_REG32
 
	mDITHMODE
;

151 
S3C24X0_REG32
 
	mTPAL
;

152 #ifde‡
CONFIG_S3C2410


153 
S3C24X0_REG32
 
	mLCDINTPND
;

154 
S3C24X0_REG32
 
	mLCDSRCPND
;

155 
S3C24X0_REG32
 
	mLCDINTMSK
;

156 
S3C24X0_REG32
 
	mLPCSEL
;

158 } 
	tS3C24X0_LCD
;

163 
S3C24X0_REG32
 
	mNFCONF
;

164 
S3C24X0_REG32
 
	mNFCMD
;

165 
S3C24X0_REG32
 
	mNFADDR
;

166 
S3C24X0_REG32
 
	mNFDATA
;

167 
S3C24X0_REG32
 
	mNFSTAT
;

168 
S3C24X0_REG32
 
	mNFECC
;

169 } 
	tS3C2410_NAND
;

174 
S3C24X0_REG32
 
	mULCON
;

175 
S3C24X0_REG32
 
	mUCON
;

176 
S3C24X0_REG32
 
	mUFCON
;

177 
S3C24X0_REG32
 
	mUMCON
;

178 
S3C24X0_REG32
 
	mUTRSTAT
;

179 
S3C24X0_REG32
 
	mUERSTAT
;

180 
S3C24X0_REG32
 
	mUFSTAT
;

181 
S3C24X0_REG32
 
	mUMSTAT
;

182 #ifde‡
__BIG_ENDIAN


183 
S3C24X0_REG8
 
	mªs1
[3];

184 
S3C24X0_REG8
 
	mUTXH
;

185 
S3C24X0_REG8
 
	mªs2
[3];

186 
S3C24X0_REG8
 
	mURXH
;

188 
S3C24X0_REG8
 
	mUTXH
;

189 
S3C24X0_REG8
 
	mªs1
[3];

190 
S3C24X0_REG8
 
	mURXH
;

191 
S3C24X0_REG8
 
	mªs2
[3];

193 
S3C24X0_REG32
 
	mUBRDIV
;

194 } 
	tS3C24X0_UART
;

199 
S3C24X0_REG32
 
	mTCNTB
;

200 
S3C24X0_REG32
 
	mTCMPB
;

201 
S3C24X0_REG32
 
	mTCNTO
;

202 } 
	tS3C24X0_TIMER
;

206 
S3C24X0_REG32
 
	mTCFG0
;

207 
S3C24X0_REG32
 
	mTCFG1
;

208 
S3C24X0_REG32
 
	mTCON
;

209 
S3C24X0_TIMER
 
	mch
[4];

210 
S3C24X0_REG32
 
	mTCNTB4
;

211 
S3C24X0_REG32
 
	mTCNTO4
;

212 } 
	tS3C24X0_TIMERS
;

217 #ifde‡
__BIG_ENDIAN


218 
S3C24X0_REG8
 
	mªs
[3];

219 
S3C24X0_REG8
 
	mEP_FIFO_REG
;

221 
S3C24X0_REG8
 
	mEP_FIFO_REG
;

222 
S3C24X0_REG8
 
	mªs
[3];

224 } 
	tS3C24X0_USB_DEV_FIFOS
;

228 #ifde‡
__BIG_ENDIAN


229 
S3C24X0_REG8
 
	mªs1
[3];

230 
S3C24X0_REG8
 
	mEP_DMA_CON
;

231 
S3C24X0_REG8
 
	mªs2
[3];

232 
S3C24X0_REG8
 
	mEP_DMA_UNIT
;

233 
S3C24X0_REG8
 
	mªs3
[3];

234 
S3C24X0_REG8
 
	mEP_DMA_FIFO
;

235 
S3C24X0_REG8
 
	mªs4
[3];

236 
S3C24X0_REG8
 
	mEP_DMA_TTC_L
;

237 
S3C24X0_REG8
 
	mªs5
[3];

238 
S3C24X0_REG8
 
	mEP_DMA_TTC_M
;

239 
S3C24X0_REG8
 
	mªs6
[3];

240 
S3C24X0_REG8
 
	mEP_DMA_TTC_H
;

242 
S3C24X0_REG8
 
	mEP_DMA_CON
;

243 
S3C24X0_REG8
 
	mªs1
[3];

244 
S3C24X0_REG8
 
	mEP_DMA_UNIT
;

245 
S3C24X0_REG8
 
	mªs2
[3];

246 
S3C24X0_REG8
 
	mEP_DMA_FIFO
;

247 
S3C24X0_REG8
 
	mªs3
[3];

248 
S3C24X0_REG8
 
	mEP_DMA_TTC_L
;

249 
S3C24X0_REG8
 
	mªs4
[3];

250 
S3C24X0_REG8
 
	mEP_DMA_TTC_M
;

251 
S3C24X0_REG8
 
	mªs5
[3];

252 
S3C24X0_REG8
 
	mEP_DMA_TTC_H
;

253 
S3C24X0_REG8
 
	mªs6
[3];

255 } 
	tS3C24X0_USB_DEV_DMAS
;

259 #ifde‡
__BIG_ENDIAN


260 
S3C24X0_REG8
 
	mªs1
[3];

261 
S3C24X0_REG8
 
	mFUNC_ADDR_REG
;

262 
S3C24X0_REG8
 
	mªs2
[3];

263 
S3C24X0_REG8
 
	mPWR_REG
;

264 
S3C24X0_REG8
 
	mªs3
[3];

265 
S3C24X0_REG8
 
	mEP_INT_REG
;

266 
S3C24X0_REG8
 
	mªs4
[15];

267 
S3C24X0_REG8
 
	mUSB_INT_REG
;

268 
S3C24X0_REG8
 
	mªs5
[3];

269 
S3C24X0_REG8
 
	mEP_INT_EN_REG
;

270 
S3C24X0_REG8
 
	mªs6
[15];

271 
S3C24X0_REG8
 
	mUSB_INT_EN_REG
;

272 
S3C24X0_REG8
 
	mªs7
[3];

273 
S3C24X0_REG8
 
	mFRAME_NUM1_REG
;

274 
S3C24X0_REG8
 
	mªs8
[3];

275 
S3C24X0_REG8
 
	mFRAME_NUM2_REG
;

276 
S3C24X0_REG8
 
	mªs9
[3];

277 
S3C24X0_REG8
 
	mINDEX_REG
;

278 
S3C24X0_REG8
 
	mªs10
[7];

279 
S3C24X0_REG8
 
	mMAXP_REG
;

280 
S3C24X0_REG8
 
	mªs11
[3];

281 
S3C24X0_REG8
 
	mEP0_CSR_IN_CSR1_REG
;

282 
S3C24X0_REG8
 
	mªs12
[3];

283 
S3C24X0_REG8
 
	mIN_CSR2_REG
;

284 
S3C24X0_REG8
 
	mªs13
[7];

285 
S3C24X0_REG8
 
	mOUT_CSR1_REG
;

286 
S3C24X0_REG8
 
	mªs14
[3];

287 
S3C24X0_REG8
 
	mOUT_CSR2_REG
;

288 
S3C24X0_REG8
 
	mªs15
[3];

289 
S3C24X0_REG8
 
	mOUT_FIFO_CNT1_REG
;

290 
S3C24X0_REG8
 
	mªs16
[3];

291 
S3C24X0_REG8
 
	mOUT_FIFO_CNT2_REG
;

293 
S3C24X0_REG8
 
	mFUNC_ADDR_REG
;

294 
S3C24X0_REG8
 
	mªs1
[3];

295 
S3C24X0_REG8
 
	mPWR_REG
;

296 
S3C24X0_REG8
 
	mªs2
[3];

297 
S3C24X0_REG8
 
	mEP_INT_REG
;

298 
S3C24X0_REG8
 
	mªs3
[15];

299 
S3C24X0_REG8
 
	mUSB_INT_REG
;

300 
S3C24X0_REG8
 
	mªs4
[3];

301 
S3C24X0_REG8
 
	mEP_INT_EN_REG
;

302 
S3C24X0_REG8
 
	mªs5
[15];

303 
S3C24X0_REG8
 
	mUSB_INT_EN_REG
;

304 
S3C24X0_REG8
 
	mªs6
[3];

305 
S3C24X0_REG8
 
	mFRAME_NUM1_REG
;

306 
S3C24X0_REG8
 
	mªs7
[3];

307 
S3C24X0_REG8
 
	mFRAME_NUM2_REG
;

308 
S3C24X0_REG8
 
	mªs8
[3];

309 
S3C24X0_REG8
 
	mINDEX_REG
;

310 
S3C24X0_REG8
 
	mªs9
[7];

311 
S3C24X0_REG8
 
	mMAXP_REG
;

312 
S3C24X0_REG8
 
	mªs10
[7];

313 
S3C24X0_REG8
 
	mEP0_CSR_IN_CSR1_REG
;

314 
S3C24X0_REG8
 
	mªs11
[3];

315 
S3C24X0_REG8
 
	mIN_CSR2_REG
;

316 
S3C24X0_REG8
 
	mªs12
[3];

317 
S3C24X0_REG8
 
	mOUT_CSR1_REG
;

318 
S3C24X0_REG8
 
	mªs13
[7];

319 
S3C24X0_REG8
 
	mOUT_CSR2_REG
;

320 
S3C24X0_REG8
 
	mªs14
[3];

321 
S3C24X0_REG8
 
	mOUT_FIFO_CNT1_REG
;

322 
S3C24X0_REG8
 
	mªs15
[3];

323 
S3C24X0_REG8
 
	mOUT_FIFO_CNT2_REG
;

324 
S3C24X0_REG8
 
	mªs16
[3];

326 
S3C24X0_USB_DEV_FIFOS
 
	mfifo
[5];

327 
S3C24X0_USB_DEV_DMAS
 
	mdma
[5];

328 } 
	tS3C24X0_USB_DEVICE
;

333 
S3C24X0_REG32
 
	mWTCON
;

334 
S3C24X0_REG32
 
	mWTDAT
;

335 
S3C24X0_REG32
 
	mWTCNT
;

336 } 
	tS3C24X0_WATCHDOG
;

341 
S3C24X0_REG32
 
	mIICCON
;

342 
S3C24X0_REG32
 
	mIICSTAT
;

343 
S3C24X0_REG32
 
	mIICADD
;

344 
S3C24X0_REG32
 
	mIICDS
;

345 } 
	tS3C24X0_I2C
;

350 #ifde‡
__BIG_ENDIAN


351 
S3C24X0_REG16
 
	mªs1
;

352 
S3C24X0_REG16
 
	mIISCON
;

353 
S3C24X0_REG16
 
	mªs2
;

354 
S3C24X0_REG16
 
	mIISMOD
;

355 
S3C24X0_REG16
 
	mªs3
;

356 
S3C24X0_REG16
 
	mIISPSR
;

357 
S3C24X0_REG16
 
	mªs4
;

358 
S3C24X0_REG16
 
	mIISFCON
;

359 
S3C24X0_REG16
 
	mªs5
;

360 
S3C24X0_REG16
 
	mIISFIFO
;

362 
S3C24X0_REG16
 
	mIISCON
;

363 
S3C24X0_REG16
 
	mªs1
;

364 
S3C24X0_REG16
 
	mIISMOD
;

365 
S3C24X0_REG16
 
	mªs2
;

366 
S3C24X0_REG16
 
	mIISPSR
;

367 
S3C24X0_REG16
 
	mªs3
;

368 
S3C24X0_REG16
 
	mIISFCON
;

369 
S3C24X0_REG16
 
	mªs4
;

370 
S3C24X0_REG16
 
	mIISFIFO
;

371 
S3C24X0_REG16
 
	mªs5
;

373 } 
	tS3C24X0_I2S
;

378 #ifde‡
CONFIG_S3C2400


379 
S3C24X0_REG32
 
	mPACON
;

380 
S3C24X0_REG32
 
	mPADAT
;

382 
S3C24X0_REG32
 
	mPBCON
;

383 
S3C24X0_REG32
 
	mPBDAT
;

384 
S3C24X0_REG32
 
	mPBUP
;

386 
S3C24X0_REG32
 
	mPCCON
;

387 
S3C24X0_REG32
 
	mPCDAT
;

388 
S3C24X0_REG32
 
	mPCUP
;

390 
S3C24X0_REG32
 
	mPDCON
;

391 
S3C24X0_REG32
 
	mPDDAT
;

392 
S3C24X0_REG32
 
	mPDUP
;

394 
S3C24X0_REG32
 
	mPECON
;

395 
S3C24X0_REG32
 
	mPEDAT
;

396 
S3C24X0_REG32
 
	mPEUP
;

398 
S3C24X0_REG32
 
	mPFCON
;

399 
S3C24X0_REG32
 
	mPFDAT
;

400 
S3C24X0_REG32
 
	mPFUP
;

402 
S3C24X0_REG32
 
	mPGCON
;

403 
S3C24X0_REG32
 
	mPGDAT
;

404 
S3C24X0_REG32
 
	mPGUP
;

406 
S3C24X0_REG32
 
	mOPENCR
;

408 
S3C24X0_REG32
 
	mMISCCR
;

409 
S3C24X0_REG32
 
	mEXTINT
;

411 #ifde‡
CONFIG_S3C2410


412 
S3C24X0_REG32
 
	mGPACON
;

413 
S3C24X0_REG32
 
	mGPADAT
;

414 
S3C24X0_REG32
 
	mªs1
[2];

415 
S3C24X0_REG32
 
	mGPBCON
;

416 
S3C24X0_REG32
 
	mGPBDAT
;

417 
S3C24X0_REG32
 
	mGPBUP
;

418 
S3C24X0_REG32
 
	mªs2
;

419 
S3C24X0_REG32
 
	mGPCCON
;

420 
S3C24X0_REG32
 
	mGPCDAT
;

421 
S3C24X0_REG32
 
	mGPCUP
;

422 
S3C24X0_REG32
 
	mªs3
;

423 
S3C24X0_REG32
 
	mGPDCON
;

424 
S3C24X0_REG32
 
	mGPDDAT
;

425 
S3C24X0_REG32
 
	mGPDUP
;

426 
S3C24X0_REG32
 
	mªs4
;

427 
S3C24X0_REG32
 
	mGPECON
;

428 
S3C24X0_REG32
 
	mGPEDAT
;

429 
S3C24X0_REG32
 
	mGPEUP
;

430 
S3C24X0_REG32
 
	mªs5
;

431 
S3C24X0_REG32
 
	mGPFCON
;

432 
S3C24X0_REG32
 
	mGPFDAT
;

433 
S3C24X0_REG32
 
	mGPFUP
;

434 
S3C24X0_REG32
 
	mªs6
;

435 
S3C24X0_REG32
 
	mGPGCON
;

436 
S3C24X0_REG32
 
	mGPGDAT
;

437 
S3C24X0_REG32
 
	mGPGUP
;

438 
S3C24X0_REG32
 
	mªs7
;

439 
S3C24X0_REG32
 
	mGPHCON
;

440 
S3C24X0_REG32
 
	mGPHDAT
;

441 
S3C24X0_REG32
 
	mGPHUP
;

442 
S3C24X0_REG32
 
	mªs8
;

444 
S3C24X0_REG32
 
	mMISCCR
;

445 
S3C24X0_REG32
 
	mDCLKCON
;

446 
S3C24X0_REG32
 
	mEXTINT0
;

447 
S3C24X0_REG32
 
	mEXTINT1
;

448 
S3C24X0_REG32
 
	mEXTINT2
;

449 
S3C24X0_REG32
 
	mEINTFLT0
;

450 
S3C24X0_REG32
 
	mEINTFLT1
;

451 
S3C24X0_REG32
 
	mEINTFLT2
;

452 
S3C24X0_REG32
 
	mEINTFLT3
;

453 
S3C24X0_REG32
 
	mEINTMASK
;

454 
S3C24X0_REG32
 
	mEINTPEND
;

455 
S3C24X0_REG32
 
	mGSTATUS0
;

456 
S3C24X0_REG32
 
	mGSTATUS1
;

457 
S3C24X0_REG32
 
	mGSTATUS2
;

458 
S3C24X0_REG32
 
	mGSTATUS3
;

459 
S3C24X0_REG32
 
	mGSTATUS4
;

461 } 
	tS3C24X0_GPIO
;

466 #ifde‡
__BIG_ENDIAN


467 
S3C24X0_REG8
 
	mªs1
[67];

468 
S3C24X0_REG8
 
	mRTCCON
;

469 
S3C24X0_REG8
 
	mªs2
[3];

470 
S3C24X0_REG8
 
	mTICNT
;

471 
S3C24X0_REG8
 
	mªs3
[11];

472 
S3C24X0_REG8
 
	mRTCALM
;

473 
S3C24X0_REG8
 
	mªs4
[3];

474 
S3C24X0_REG8
 
	mALMSEC
;

475 
S3C24X0_REG8
 
	mªs5
[3];

476 
S3C24X0_REG8
 
	mALMMIN
;

477 
S3C24X0_REG8
 
	mªs6
[3];

478 
S3C24X0_REG8
 
	mALMHOUR
;

479 
S3C24X0_REG8
 
	mªs7
[3];

480 
S3C24X0_REG8
 
	mALMDATE
;

481 
S3C24X0_REG8
 
	mªs8
[3];

482 
S3C24X0_REG8
 
	mALMMON
;

483 
S3C24X0_REG8
 
	mªs9
[3];

484 
S3C24X0_REG8
 
	mALMYEAR
;

485 
S3C24X0_REG8
 
	mªs10
[3];

486 
S3C24X0_REG8
 
	mRTCRST
;

487 
S3C24X0_REG8
 
	mªs11
[3];

488 
S3C24X0_REG8
 
	mBCDSEC
;

489 
S3C24X0_REG8
 
	mªs12
[3];

490 
S3C24X0_REG8
 
	mBCDMIN
;

491 
S3C24X0_REG8
 
	mªs13
[3];

492 
S3C24X0_REG8
 
	mBCDHOUR
;

493 
S3C24X0_REG8
 
	mªs14
[3];

494 
S3C24X0_REG8
 
	mBCDDATE
;

495 
S3C24X0_REG8
 
	mªs15
[3];

496 
S3C24X0_REG8
 
	mBCDDAY
;

497 
S3C24X0_REG8
 
	mªs16
[3];

498 
S3C24X0_REG8
 
	mBCDMON
;

499 
S3C24X0_REG8
 
	mªs17
[3];

500 
S3C24X0_REG8
 
	mBCDYEAR
;

502 
S3C24X0_REG8
 
	mªs0
[64];

503 
S3C24X0_REG8
 
	mRTCCON
;

504 
S3C24X0_REG8
 
	mªs1
[3];

505 
S3C24X0_REG8
 
	mTICNT
;

506 
S3C24X0_REG8
 
	mªs2
[11];

507 
S3C24X0_REG8
 
	mRTCALM
;

508 
S3C24X0_REG8
 
	mªs3
[3];

509 
S3C24X0_REG8
 
	mALMSEC
;

510 
S3C24X0_REG8
 
	mªs4
[3];

511 
S3C24X0_REG8
 
	mALMMIN
;

512 
S3C24X0_REG8
 
	mªs5
[3];

513 
S3C24X0_REG8
 
	mALMHOUR
;

514 
S3C24X0_REG8
 
	mªs6
[3];

515 
S3C24X0_REG8
 
	mALMDATE
;

516 
S3C24X0_REG8
 
	mªs7
[3];

517 
S3C24X0_REG8
 
	mALMMON
;

518 
S3C24X0_REG8
 
	mªs8
[3];

519 
S3C24X0_REG8
 
	mALMYEAR
;

520 
S3C24X0_REG8
 
	mªs9
[3];

521 
S3C24X0_REG8
 
	mRTCRST
;

522 
S3C24X0_REG8
 
	mªs10
[3];

523 
S3C24X0_REG8
 
	mBCDSEC
;

524 
S3C24X0_REG8
 
	mªs11
[3];

525 
S3C24X0_REG8
 
	mBCDMIN
;

526 
S3C24X0_REG8
 
	mªs12
[3];

527 
S3C24X0_REG8
 
	mBCDHOUR
;

528 
S3C24X0_REG8
 
	mªs13
[3];

529 
S3C24X0_REG8
 
	mBCDDATE
;

530 
S3C24X0_REG8
 
	mªs14
[3];

531 
S3C24X0_REG8
 
	mBCDDAY
;

532 
S3C24X0_REG8
 
	mªs15
[3];

533 
S3C24X0_REG8
 
	mBCDMON
;

534 
S3C24X0_REG8
 
	mªs16
[3];

535 
S3C24X0_REG8
 
	mBCDYEAR
;

536 
S3C24X0_REG8
 
	mªs17
[3];

538 } 
	tS3C24X0_RTC
;

543 
S3C24X0_REG32
 
	mADCCON
;

544 
S3C24X0_REG32
 
	mADCDAT
;

545 } 
	tS3C2400_ADC
;

550 
S3C24X0_REG32
 
	mADCCON
;

551 
S3C24X0_REG32
 
	mADCTSC
;

552 
S3C24X0_REG32
 
	mADCDLY
;

553 
S3C24X0_REG32
 
	mADCDAT0
;

554 
S3C24X0_REG32
 
	mADCDAT1
;

555 } 
	tS3C2410_ADC
;

560 
S3C24X0_REG32
 
	mSPCON
;

561 
S3C24X0_REG32
 
	mSPSTA
;

562 
S3C24X0_REG32
 
	mSPPIN
;

563 
S3C24X0_REG32
 
	mSPPRE
;

564 
S3C24X0_REG32
 
	mSPTDAT
;

565 
S3C24X0_REG32
 
	mSPRDAT
;

566 
S3C24X0_REG32
 
	mªs
[2];

567 } 
	t__©åibuã__
 ((
	t__∑cked__
)Ë
	tS3C24X0_SPI_CHANNEL
;

571 
S3C24X0_SPI_CHANNEL
 
	mch
[
S3C24X0_SPI_CHANNELS
];

572 } 
	tS3C24X0_SPI
;

577 #ifde‡
__BIG_ENDIAN


578 
S3C24X0_REG8
 
	mªs1
[3];

579 
S3C24X0_REG8
 
	mMMCON
;

580 
S3C24X0_REG8
 
	mªs2
[3];

581 
S3C24X0_REG8
 
	mMMCRR
;

582 
S3C24X0_REG8
 
	mªs3
[3];

583 
S3C24X0_REG8
 
	mMMFCON
;

584 
S3C24X0_REG8
 
	mªs4
[3];

585 
S3C24X0_REG8
 
	mMMSTA
;

586 
S3C24X0_REG16
 
	mªs5
;

587 
S3C24X0_REG16
 
	mMMFSTA
;

588 
S3C24X0_REG8
 
	mªs6
[3];

589 
S3C24X0_REG8
 
	mMMPRE
;

590 
S3C24X0_REG16
 
	mªs7
;

591 
S3C24X0_REG16
 
	mMMLEN
;

592 
S3C24X0_REG8
 
	mªs8
[3];

593 
S3C24X0_REG8
 
	mMMCR7
;

594 
S3C24X0_REG32
 
	mMMRSP
[4];

595 
S3C24X0_REG8
 
	mªs9
[3];

596 
S3C24X0_REG8
 
	mMMCMD0
;

597 
S3C24X0_REG32
 
	mMMCMD1
;

598 
S3C24X0_REG16
 
	mªs10
;

599 
S3C24X0_REG16
 
	mMMCR16
;

600 
S3C24X0_REG8
 
	mªs11
[3];

601 
S3C24X0_REG8
 
	mMMDAT
;

603 
S3C24X0_REG8
 
	mMMCON
;

604 
S3C24X0_REG8
 
	mªs1
[3];

605 
S3C24X0_REG8
 
	mMMCRR
;

606 
S3C24X0_REG8
 
	mªs2
[3];

607 
S3C24X0_REG8
 
	mMMFCON
;

608 
S3C24X0_REG8
 
	mªs3
[3];

609 
S3C24X0_REG8
 
	mMMSTA
;

610 
S3C24X0_REG8
 
	mªs4
[3];

611 
S3C24X0_REG16
 
	mMMFSTA
;

612 
S3C24X0_REG16
 
	mªs5
;

613 
S3C24X0_REG8
 
	mMMPRE
;

614 
S3C24X0_REG8
 
	mªs6
[3];

615 
S3C24X0_REG16
 
	mMMLEN
;

616 
S3C24X0_REG16
 
	mªs7
;

617 
S3C24X0_REG8
 
	mMMCR7
;

618 
S3C24X0_REG8
 
	mªs8
[3];

619 
S3C24X0_REG32
 
	mMMRSP
[4];

620 
S3C24X0_REG8
 
	mMMCMD0
;

621 
S3C24X0_REG8
 
	mªs9
[3];

622 
S3C24X0_REG32
 
	mMMCMD1
;

623 
S3C24X0_REG16
 
	mMMCR16
;

624 
S3C24X0_REG16
 
	mªs10
;

625 
S3C24X0_REG8
 
	mMMDAT
;

626 
S3C24X0_REG8
 
	mªs11
[3];

628 } 
	tS3C2400_MMC
;

633 
S3C24X0_REG32
 
	mSDICON
;

634 
S3C24X0_REG32
 
	mSDIPRE
;

635 
S3C24X0_REG32
 
	mSDICARG
;

636 
S3C24X0_REG32
 
	mSDICCON
;

637 
S3C24X0_REG32
 
	mSDICSTA
;

638 
S3C24X0_REG32
 
	mSDIRSP0
;

639 
S3C24X0_REG32
 
	mSDIRSP1
;

640 
S3C24X0_REG32
 
	mSDIRSP2
;

641 
S3C24X0_REG32
 
	mSDIRSP3
;

642 
S3C24X0_REG32
 
	mSDIDTIMER
;

643 
S3C24X0_REG32
 
	mSDIBSIZE
;

644 
S3C24X0_REG32
 
	mSDIDCON
;

645 
S3C24X0_REG32
 
	mSDIDCNT
;

646 
S3C24X0_REG32
 
	mSDIDSTA
;

647 
S3C24X0_REG32
 
	mSDIFSTA
;

648 #ifde‡
__BIG_ENDIAN


649 
S3C24X0_REG8
 
	mªs
[3];

650 
S3C24X0_REG8
 
	mSDIDAT
;

652 
S3C24X0_REG8
 
	mSDIDAT
;

653 
S3C24X0_REG8
 
	mªs
[3];

655 
S3C24X0_REG32
 
	mSDIIMSK
;

656 } 
	tS3C2410_SDI
;

660 
	#rBWSCON
 (*(vﬁ©ûê*)0x48000000)

	)

661 
	#rBANKCON0
 (*(vﬁ©ûê*)0x48000004)

	)

662 
	#rBANKCON1
 (*(vﬁ©ûê*)0x48000008)

	)

663 
	#rBANKCON2
 (*(vﬁ©ûê*)0x4800000C)

	)

664 
	#rBANKCON3
 (*(vﬁ©ûê*)0x48000010)

	)

665 
	#rBANKCON4
 (*(vﬁ©ûê*)0x48000014)

	)

666 
	#rBANKCON5
 (*(vﬁ©ûê*)0x48000018)

	)

667 
	#rBANKCON6
 (*(vﬁ©ûê*)0x4800001C)

	)

668 
	#rBANKCON7
 (*(vﬁ©ûê*)0x48000020)

	)

669 
	#rREFRESH
 (*(vﬁ©ûê*)0x48000024)

	)

670 
	#rBANKSIZE
 (*(vﬁ©ûê*)0x48000028)

	)

671 
	#rMRSRB6
 (*(vﬁ©ûê*)0x4800002C)

	)

672 
	#rMRSRB7
 (*(vﬁ©ûê*)0x48000030)

	)

675 
	#rHcRevisi⁄
 (*(vﬁ©ûê*)0x49000000)

	)

676 
	#rHcC⁄åﬁ
 (*(vﬁ©ûê*)0x49000004)

	)

677 
	#rHcComm⁄Sètus
 (*(vﬁ©ûê*)0x49000008)

	)

678 
	#rHcI¡îru±Sètus
 (*(vﬁ©ûê*)0x4900000C)

	)

679 
	#rHcI¡îru±E«bÀ
 (*(vﬁ©ûê*)0x49000010)

	)

680 
	#rHcI¡îru±DißbÀ
 (*(vﬁ©ûê*)0x49000014)

	)

681 
	#rHcHCCA
 (*(vﬁ©ûê*)0x49000018)

	)

682 
	#rHcPîiodCuâídED
 (*(vﬁ©ûê*)0x4900001C)

	)

683 
	#rHcC⁄åﬁHódED
 (*(vﬁ©ûê*)0x49000020)

	)

684 
	#rHcC⁄åﬁCuºítED
 (*(vﬁ©ûê*)0x49000024)

	)

685 
	#rHcBulkHódED
 (*(vﬁ©ûê*)0x49000028)

	)

686 
	#rHcBuldCuºítED
 (*(vﬁ©ûê*)0x4900002C)

	)

687 
	#rHcD⁄eHód
 (*(vﬁ©ûê*)0x49000030)

	)

688 
	#rHcRmI¡îvÆ
 (*(vﬁ©ûê*)0x49000034)

	)

689 
	#rHcFmRemaöög
 (*(vﬁ©ûê*)0x49000038)

	)

690 
	#rHcFmNumbî
 (*(vﬁ©ûê*)0x4900003C)

	)

691 
	#rHcPîiodicSèπ
 (*(vﬁ©ûê*)0x49000040)

	)

692 
	#rHcLSThªshﬁd
 (*(vﬁ©ûê*)0x49000044)

	)

693 
	#rHcRhDes¸ùt‹A
 (*(vﬁ©ûê*)0x49000048)

	)

694 
	#rHcRhDes¸ùt‹B
 (*(vﬁ©ûê*)0x4900004C)

	)

695 
	#rHcRhSètus
 (*(vﬁ©ûê*)0x49000050)

	)

696 
	#rHcRhP‹tSètus1
 (*(vﬁ©ûê*)0x49000054)

	)

697 
	#rHcRhP‹tSètus2
 (*(vﬁ©ûê*)0x49000058)

	)

700 
	#rSRCPND
 (*(vﬁ©ûê*)0x4A000000)

	)

701 
	#rINTMOD
 (*(vﬁ©ûê*)0x4A000004)

	)

702 
	#rINTMSK
 (*(vﬁ©ûê*)0x4A000008)

	)

703 
	#rPRIORITY
 (*(vﬁ©ûê*)0x4A00000C)

	)

704 
	#rINTPND
 (*(vﬁ©ûê*)0x4A000010)

	)

705 
	#rINTOFFSET
 (*(vﬁ©ûê*)0x4A000014)

	)

706 
	#rSUBSRCPND
 (*(vﬁ©ûê*)0x4A000018)

	)

707 
	#rINTSUBMSK
 (*(vﬁ©ûê*)0x4A00001C)

	)

710 
	#rDISRC0
 (*(vﬁ©ûê*)0x4B000000)

	)

711 
	#rDISRCC0
 (*(vﬁ©ûê*)0x4B000004)

	)

712 
	#rDIDST0
 (*(vﬁ©ûê*)0x4B000008)

	)

713 
	#rDIDSTC0
 (*(vﬁ©ûê*)0x4B00000C)

	)

714 
	#rDCON0
 (*(vﬁ©ûê*)0x4B000010)

	)

715 
	#rDSTAT0
 (*(vﬁ©ûê*)0x4B000014)

	)

716 
	#rDCSRC0
 (*(vﬁ©ûê*)0x4B000018)

	)

717 
	#rDCDST0
 (*(vﬁ©ûê*)0x4B00001C)

	)

718 
	#rDMASKTRIG0
 (*(vﬁ©ûê*)0x4B000020)

	)

719 
	#rDISRC1
 (*(vﬁ©ûê*)0x4B000040)

	)

720 
	#rDISRCC1
 (*(vﬁ©ûê*)0x4B000044)

	)

721 
	#rDIDST1
 (*(vﬁ©ûê*)0x4B000048)

	)

722 
	#rDIDSTC1
 (*(vﬁ©ûê*)0x4B00004C)

	)

723 
	#rDCON1
 (*(vﬁ©ûê*)0x4B000050)

	)

724 
	#rDSTAT1
 (*(vﬁ©ûê*)0x4B000054)

	)

725 
	#rDCSRC1
 (*(vﬁ©ûê*)0x4B000058)

	)

726 
	#rDCDST1
 (*(vﬁ©ûê*)0x4B00005C)

	)

727 
	#rDMASKTRIG1
 (*(vﬁ©ûê*)0x4B000060)

	)

728 
	#rDISRC2
 (*(vﬁ©ûê*)0x4B000080)

	)

729 
	#rDISRCC2
 (*(vﬁ©ûê*)0x4B000084)

	)

730 
	#rDIDST2
 (*(vﬁ©ûê*)0x4B000088)

	)

731 
	#rDIDSTC2
 (*(vﬁ©ûê*)0x4B00008C)

	)

732 
	#rDCON2
 (*(vﬁ©ûê*)0x4B000090)

	)

733 
	#rDSTAT2
 (*(vﬁ©ûê*)0x4B000094)

	)

734 
	#rDCSRC2
 (*(vﬁ©ûê*)0x4B000098)

	)

735 
	#rDCDST2
 (*(vﬁ©ûê*)0x4B00009C)

	)

736 
	#rDMASKTRIG2
 (*(vﬁ©ûê*)0x4B0000A0)

	)

737 
	#rDISRC3
 (*(vﬁ©ûê*)0x4B0000C0)

	)

738 
	#rDISRCC3
 (*(vﬁ©ûê*)0x4B0000C4)

	)

739 
	#rDIDST3
 (*(vﬁ©ûê*)0x4B0000C8)

	)

740 
	#rDIDSTC3
 (*(vﬁ©ûê*)0x4B0000CC)

	)

741 
	#rDCON3
 (*(vﬁ©ûê*)0x4B0000D0)

	)

742 
	#rDSTAT3
 (*(vﬁ©ûê*)0x4B0000D4)

	)

743 
	#rDCSRC3
 (*(vﬁ©ûê*)0x4B0000D8)

	)

744 
	#rDCDST3
 (*(vﬁ©ûê*)0x4B0000DC)

	)

745 
	#rDMASKTRIG3
 (*(vﬁ©ûê*)0x4B0000E0)

	)

748 
	#rLOCKTIME
 (*(vﬁ©ûê*)0x4C000000)

	)

749 
	#rMPLLCON
 (*(vﬁ©ûê*)0x4C000004)

	)

750 
	#rUPLLCON
 (*(vﬁ©ûê*)0x4C000008)

	)

751 
	#rCLKCON
 (*(vﬁ©ûê*)0x4C00000C)

	)

752 
	#rCLKSLOW
 (*(vﬁ©ûê*)0x4C000010)

	)

753 
	#rCLKDIVN
 (*(vﬁ©ûê*)0x4C000014)

	)

756 
	#rLCDCON1
 (*(vﬁ©ûê*)0x4D000000)

	)

757 
	#rLCDCON2
 (*(vﬁ©ûê*)0x4D000004)

	)

758 
	#rLCDCON3
 (*(vﬁ©ûê*)0x4D000008)

	)

759 
	#rLCDCON4
 (*(vﬁ©ûê*)0x4D00000C)

	)

760 
	#rLCDCON5
 (*(vﬁ©ûê*)0x4D000010)

	)

761 
	#rLCDSADDR1
 (*(vﬁ©ûê*)0x4D000014)

	)

762 
	#rLCDSADDR2
 (*(vﬁ©ûê*)0x4D000018)

	)

763 
	#rLCDSADDR3
 (*(vﬁ©ûê*)0x4D00001C)

	)

764 
	#rREDLUT
 (*(vﬁ©ûê*)0x4D000020)

	)

765 
	#rGREENLUT
 (*(vﬁ©ûê*)0x4D000024)

	)

766 
	#rBLUELUT
 (*(vﬁ©ûê*)0x4D000028)

	)

767 
	#rDITHMODE
 (*(vﬁ©ûê*)0x4D00004C)

	)

768 
	#rTPAL
 (*(vﬁ©ûê*)0x4D000050)

	)

769 
	#rLCDINTPND
 (*(vﬁ©ûê*)0x4D000054)

	)

770 
	#rLCDSRCPND
 (*(vﬁ©ûê*)0x4D000058)

	)

771 
	#rLCDINTMSK
 (*(vﬁ©ûê*)0x4D00005C)

	)

774 
	#rNFCONF
 (*(vﬁ©ûê*)0x4E000000)

	)

775 
	#rNFCMD
 (*(vﬁ©ûê*)0x4E000004)

	)

776 
	#rNFADDR
 (*(vﬁ©ûê*)0x4E000008)

	)

777 
	#rNFDATA
 (*(vﬁ©ûê*)0x4E00000C)

	)

778 
	#rNFSTAT
 (*(vﬁ©ûê*)0x4E000010)

	)

779 
	#rNFECC
 (*(vﬁ©ûê*)0x4E000014)

	)

782 
	#rULCON0
 (*(vﬁ©ûê*)0x50000000)

	)

783 
	#rUCON0
 (*(vﬁ©ûê*)0x50000004)

	)

784 
	#rUFCON0
 (*(vﬁ©ûê*)0x50000008)

	)

785 
	#rUMCON0
 (*(vﬁ©ûê*)0x5000000C)

	)

786 
	#rUTRSTAT0
 (*(vﬁ©ûê*)0x50000010)

	)

787 
	#rUERSTAT0
 (*(vﬁ©ûê*)0x50000014)

	)

788 
	#rUFSTAT0
 (*(vﬁ©ûê*)0x50000018)

	)

789 
	#rUMSTAT0
 (*(vﬁ©ûê*)0x5000001C)

	)

790 
	#rUBRDIV0
 (*(vﬁ©ûê*)0x50000028)

	)

792 
	#rULCON1
 (*(vﬁ©ûê*)0x50004000)

	)

793 
	#rUCON1
 (*(vﬁ©ûê*)0x50004004)

	)

794 
	#rUFCON1
 (*(vﬁ©ûê*)0x50004008)

	)

795 
	#rUMCON1
 (*(vﬁ©ûê*)0x5000400C)

	)

796 
	#rUTRSTAT1
 (*(vﬁ©ûê*)0x50004010)

	)

797 
	#rUERSTAT1
 (*(vﬁ©ûê*)0x50004014)

	)

798 
	#rUFSTAT1
 (*(vﬁ©ûê*)0x50004018)

	)

799 
	#rUMSTAT1
 (*(vﬁ©ûê*)0x5000401C)

	)

800 
	#rUBRDIV1
 (*(vﬁ©ûê*)0x50004028)

	)

802 
	#rULCON2
 (*(vﬁ©ûê*)0x50008000)

	)

803 
	#rUCON2
 (*(vﬁ©ûê*)0x50008004)

	)

804 
	#rUFCON2
 (*(vﬁ©ûê*)0x50008008)

	)

805 
	#rUTRSTAT2
 (*(vﬁ©ûê*)0x50008010)

	)

806 
	#rUERSTAT2
 (*(vﬁ©ûê*)0x50008014)

	)

807 
	#rUFSTAT2
 (*(vﬁ©ûê*)0x50008018)

	)

808 
	#rUBRDIV2
 (*(vﬁ©ûê*)0x50008028)

	)

810 #ifde‡
__BIG_ENDIAN


811 
	#rUTXH0
 (*(vﬁ©ûê*)0x50000023)

	)

812 
	#rURXH0
 (*(vﬁ©ûê*)0x50000027)

	)

813 
	#rUTXH1
 (*(vﬁ©ûê*)0x50004023)

	)

814 
	#rURXH1
 (*(vﬁ©ûê*)0x50004027)

	)

815 
	#rUTXH2
 (*(vﬁ©ûê*)0x50008023)

	)

816 
	#rURXH2
 (*(vﬁ©ûê*)0x50008027)

	)

818 
	#WrUTXH0
(
ch
Ë(*(vﬁ©ûê*)0x50000023)=()(ch)

	)

819 
	#RdURXH0
(Ë(*(vﬁ©ûê*)0x50000027)

	)

820 
	#WrUTXH1
(
ch
Ë(*(vﬁ©ûê*)0x50004023)=()(ch)

	)

821 
	#RdURXH1
(Ë(*(vﬁ©ûê*)0x50004027)

	)

822 
	#WrUTXH2
(
ch
Ë(*(vﬁ©ûê*)0x50008023)=()(ch)

	)

823 
	#RdURXH2
(Ë(*(vﬁ©ûê*)0x50008027)

	)

825 
	#UTXH0
 (0x50000020+3Ë

	)

826 
	#URXH0
 (0x50000024+3)

	)

827 
	#UTXH1
 (0x50004020+3)

	)

828 
	#URXH1
 (0x50004024+3)

	)

829 
	#UTXH2
 (0x50008020+3)

	)

830 
	#URXH2
 (0x50008024+3)

	)

833 
	#rUTXH0
 (*(vﬁ©ûê*)0x50000020)

	)

834 
	#rURXH0
 (*(vﬁ©ûê*)0x50000024)

	)

835 
	#rUTXH1
 (*(vﬁ©ûê*)0x50004020)

	)

836 
	#rURXH1
 (*(vﬁ©ûê*)0x50004024)

	)

837 
	#rUTXH2
 (*(vﬁ©ûê*)0x50008020)

	)

838 
	#rURXH2
 (*(vﬁ©ûê*)0x50008024)

	)

840 
	#WrUTXH0
(
ch
Ë(*(vﬁ©ûê*)0x50000020)=()(ch)

	)

841 
	#RdURXH0
(Ë(*(vﬁ©ûê*)0x50000024)

	)

842 
	#WrUTXH1
(
ch
Ë(*(vﬁ©ûê*)0x50004020)=()(ch)

	)

843 
	#RdURXH1
(Ë(*(vﬁ©ûê*)0x50004024)

	)

844 
	#WrUTXH2
(
ch
Ë(*(vﬁ©ûê*)0x50008020)=()(ch)

	)

845 
	#RdURXH2
(Ë(*(vﬁ©ûê*)0x50008024)

	)

847 
	#UTXH0
 (0x50000020Ë

	)

848 
	#URXH0
 (0x50000024)

	)

849 
	#UTXH1
 (0x50004020)

	)

850 
	#URXH1
 (0x50004024)

	)

851 
	#UTXH2
 (0x50008020)

	)

852 
	#URXH2
 (0x50008024)

	)

856 
	#rTCFG0
 (*(vﬁ©ûê*)0x51000000)

	)

857 
	#rTCFG1
 (*(vﬁ©ûê*)0x51000004)

	)

858 
	#rTCON
 (*(vﬁ©ûê*)0x51000008)

	)

859 
	#rTCNTB0
 (*(vﬁ©ûê*)0x5100000C)

	)

860 
	#rTCMPB0
 (*(vﬁ©ûê*)0x51000010)

	)

861 
	#rTCNTO0
 (*(vﬁ©ûê*)0x51000014)

	)

862 
	#rTCNTB1
 (*(vﬁ©ûê*)0x51000018)

	)

863 
	#rTCMPB1
 (*(vﬁ©ûê*)0x5100001C)

	)

864 
	#rTCNTO1
 (*(vﬁ©ûê*)0x51000020)

	)

865 
	#rTCNTB2
 (*(vﬁ©ûê*)0x51000024)

	)

866 
	#rTCMPB2
 (*(vﬁ©ûê*)0x51000028)

	)

867 
	#rTCNTO2
 (*(vﬁ©ûê*)0x5100002C)

	)

868 
	#rTCNTB3
 (*(vﬁ©ûê*)0x51000030)

	)

869 
	#rTCMPB3
 (*(vﬁ©ûê*)0x51000034)

	)

870 
	#rTCNTO3
 (*(vﬁ©ûê*)0x51000038)

	)

871 
	#rTCNTB4
 (*(vﬁ©ûê*)0x5100003C)

	)

872 
	#rTCNTO4
 (*(vﬁ©ûê*)0x51000040)

	)

875 #ifde‡
__BIG_ENDIAN


876 
	#rFUNC_ADDR_REG
 (*(vﬁ©ûê*)0x52000143)

	)

877 
	#rPWR_REG
 (*(vﬁ©ûê*)0x52000147)

	)

878 
	#rEP_INT_REG
 (*(vﬁ©ûê*)0x5200014B)

	)

879 
	#rUSB_INT_REG
 (*(vﬁ©ûê*)0x5200015B)

	)

880 
	#rEP_INT_EN_REG
 (*(vﬁ©ûê*)0x5200015F)

	)

881 
	#rUSB_INT_EN_REG
 (*(vﬁ©ûê*)0x5200016F)

	)

882 
	#rFRAME_NUM1_REG
 (*(vﬁ©ûê*)0x52000173)

	)

883 
	#rFRAME_NUM2_REG
 (*(vﬁ©ûê*)0x52000177)

	)

884 
	#rINDEX_REG
 (*(vﬁ©ûê*)0x5200017B)

	)

885 
	#rMAXP_REG
 (*(vﬁ©ûê*)0x52000183)

	)

886 
	#rEP0_CSR
 (*(vﬁ©ûê*)0x52000187)

	)

887 
	#rIN_CSR1_REG
 (*(vﬁ©ûê*)0x52000187)

	)

888 
	#rIN_CSR2_REG
 (*(vﬁ©ûê*)0x5200018B)

	)

889 
	#rOUT_CSR1_REG
 (*(vﬁ©ûê*)0x52000193)

	)

890 
	#rOUT_CSR2_REG
 (*(vﬁ©ûê*)0x52000197)

	)

891 
	#rOUT_FIFO_CNT1_REG
 (*(vﬁ©ûê*)0x5200019B)

	)

892 
	#rOUT_FIFO_CNT2_REG
 (*(vﬁ©ûê*)0x5200019F)

	)

893 
	#rEP0_FIFO
 (*(vﬁ©ûê*)0x520001C3)

	)

894 
	#rEP1_FIFO
 (*(vﬁ©ûê*)0x520001C7)

	)

895 
	#rEP2_FIFO
 (*(vﬁ©ûê*)0x520001CB)

	)

896 
	#rEP3_FIFO
 (*(vﬁ©ûê*)0x520001CF)

	)

897 
	#rEP4_FIFO
 (*(vﬁ©ûê*)0x520001D3)

	)

898 
	#rEP1_DMA_CON
 (*(vﬁ©ûê*)0x52000203)

	)

899 
	#rEP1_DMA_UNIT
 (*(vﬁ©ûê*)0x52000207)

	)

900 
	#rEP1_DMA_FIFO
 (*(vﬁ©ûê*)0x5200020B)

	)

901 
	#rEP1_DMA_TX_LO
 (*(vﬁ©ûê*)0x5200020F)

	)

902 
	#rEP1_DMA_TX_MD
 (*(vﬁ©ûê*)0x52000213)

	)

903 
	#rEP1_DMA_TX_HI
 (*(vﬁ©ûê*)0x52000217)

	)

904 
	#rEP2_DMA_CON
 (*(vﬁ©ûê*)0x5200021B)

	)

905 
	#rEP2_DMA_UNIT
 (*(vﬁ©ûê*)0x5200021F)

	)

906 
	#rEP2_DMA_FIFO
 (*(vﬁ©ûê*)0x52000223)

	)

907 
	#rEP2_DMA_TX_LO
 (*(vﬁ©ûê*)0x52000227)

	)

908 
	#rEP2_DMA_TX_MD
 (*(vﬁ©ûê*)0x5200022B)

	)

909 
	#rEP2_DMA_TX_HI
 (*(vﬁ©ûê*)0x5200022F)

	)

910 
	#rEP3_DMA_CON
 (*(vﬁ©ûê*)0x52000243)

	)

911 
	#rEP3_DMA_UNIT
 (*(vﬁ©ûê*)0x52000247)

	)

912 
	#rEP3_DMA_FIFO
 (*(vﬁ©ûê*)0x5200024B)

	)

913 
	#rEP3_DMA_TX_LO
 (*(vﬁ©ûê*)0x5200024F)

	)

914 
	#rEP3_DMA_TX_MD
 (*(vﬁ©ûê*)0x52000253)

	)

915 
	#rEP3_DMA_TX_HI
 (*(vﬁ©ûê*)0x52000257)

	)

916 
	#rEP4_DMA_CON
 (*(vﬁ©ûê*)0x5200025B)

	)

917 
	#rEP4_DMA_UNIT
 (*(vﬁ©ûê*)0x5200025F)

	)

918 
	#rEP4_DMA_FIFO
 (*(vﬁ©ûê*)0x52000263)

	)

919 
	#rEP4_DMA_TX_LO
 (*(vﬁ©ûê*)0x52000267)

	)

920 
	#rEP4_DMA_TX_MD
 (*(vﬁ©ûê*)0x5200026B)

	)

921 
	#rEP4_DMA_TX_HI
 (*(vﬁ©ûê*)0x5200026F)

	)

923 
	#rFUNC_ADDR_REG
 (*(vﬁ©ûê*)0x52000140)

	)

924 
	#rPWR_REG
 (*(vﬁ©ûê*)0x52000144)

	)

925 
	#rEP_INT_REG
 (*(vﬁ©ûê*)0x52000148)

	)

926 
	#rUSB_INT_REG
 (*(vﬁ©ûê*)0x52000158)

	)

927 
	#rEP_INT_EN_REG
 (*(vﬁ©ûê*)0x5200015C)

	)

928 
	#rUSB_INT_EN_REG
 (*(vﬁ©ûê*)0x5200016C)

	)

929 
	#rFRAME_NUM1_REG
 (*(vﬁ©ûê*)0x52000170)

	)

930 
	#rFRAME_NUM2_REG
 (*(vﬁ©ûê*)0x52000174)

	)

931 
	#rINDEX_REG
 (*(vﬁ©ûê*)0x52000178)

	)

932 
	#rMAXP_REG
 (*(vﬁ©ûê*)0x52000180)

	)

933 
	#rEP0_CSR
 (*(vﬁ©ûê*)0x52000184)

	)

934 
	#rIN_CSR1_REG
 (*(vﬁ©ûê*)0x52000184)

	)

935 
	#rIN_CSR2_REG
 (*(vﬁ©ûê*)0x52000188)

	)

936 
	#rOUT_CSR1_REG
 (*(vﬁ©ûê*)0x52000190)

	)

937 
	#rOUT_CSR2_REG
 (*(vﬁ©ûê*)0x52000194)

	)

938 
	#rOUT_FIFO_CNT1_REG
 (*(vﬁ©ûê*)0x52000198)

	)

939 
	#rOUT_FIFO_CNT2_REG
 (*(vﬁ©ûê*)0x5200019C)

	)

940 
	#rEP0_FIFO
 (*(vﬁ©ûê*)0x520001C0)

	)

941 
	#rEP1_FIFO
 (*(vﬁ©ûê*)0x520001C4)

	)

942 
	#rEP2_FIFO
 (*(vﬁ©ûê*)0x520001C8)

	)

943 
	#rEP3_FIFO
 (*(vﬁ©ûê*)0x520001CC)

	)

944 
	#rEP4_FIFO
 (*(vﬁ©ûê*)0x520001D0)

	)

945 
	#rEP1_DMA_CON
 (*(vﬁ©ûê*)0x52000200)

	)

946 
	#rEP1_DMA_UNIT
 (*(vﬁ©ûê*)0x52000204)

	)

947 
	#rEP1_DMA_FIFO
 (*(vﬁ©ûê*)0x52000208)

	)

948 
	#rEP1_DMA_TX_LO
 (*(vﬁ©ûê*)0x5200020C)

	)

949 
	#rEP1_DMA_TX_MD
 (*(vﬁ©ûê*)0x52000210)

	)

950 
	#rEP1_DMA_TX_HI
 (*(vﬁ©ûê*)0x52000214)

	)

951 
	#rEP2_DMA_CON
 (*(vﬁ©ûê*)0x52000218)

	)

952 
	#rEP2_DMA_UNIT
 (*(vﬁ©ûê*)0x5200021C)

	)

953 
	#rEP2_DMA_FIFO
 (*(vﬁ©ûê*)0x52000220)

	)

954 
	#rEP2_DMA_TX_LO
 (*(vﬁ©ûê*)0x52000224)

	)

955 
	#rEP2_DMA_TX_MD
 (*(vﬁ©ûê*)0x52000228)

	)

956 
	#rEP2_DMA_TX_HI
 (*(vﬁ©ûê*)0x5200022C)

	)

957 
	#rEP3_DMA_CON
 (*(vﬁ©ûê*)0x52000240)

	)

958 
	#rEP3_DMA_UNIT
 (*(vﬁ©ûê*)0x52000244)

	)

959 
	#rEP3_DMA_FIFO
 (*(vﬁ©ûê*)0x52000248)

	)

960 
	#rEP3_DMA_TX_LO
 (*(vﬁ©ûê*)0x5200024C)

	)

961 
	#rEP3_DMA_TX_MD
 (*(vﬁ©ûê*)0x52000250)

	)

962 
	#rEP3_DMA_TX_HI
 (*(vﬁ©ûê*)0x52000254)

	)

963 
	#rEP4_DMA_CON
 (*(vﬁ©ûê*)0x52000258)

	)

964 
	#rEP4_DMA_UNIT
 (*(vﬁ©ûê*)0x5200025C)

	)

965 
	#rEP4_DMA_FIFO
 (*(vﬁ©ûê*)0x52000260)

	)

966 
	#rEP4_DMA_TX_LO
 (*(vﬁ©ûê*)0x52000264)

	)

967 
	#rEP4_DMA_TX_MD
 (*(vﬁ©ûê*)0x52000268)

	)

968 
	#rEP4_DMA_TX_HI
 (*(vﬁ©ûê*)0x5200026C)

	)

972 
	#rWTCON
 (*(vﬁ©ûê*)0x53000000)

	)

973 
	#rWTDAT
 (*(vﬁ©ûê*)0x53000004)

	)

974 
	#rWTCNT
 (*(vﬁ©ûê*)0x53000008)

	)

977 
	#rIICCON
 (*(vﬁ©ûê*)0x54000000)

	)

978 
	#rIICSTAT
 (*(vﬁ©ûê*)0x54000004)

	)

979 
	#rIICADD
 (*(vﬁ©ûê*)0x54000008)

	)

980 
	#rIICDS
 (*(vﬁ©ûê*)0x5400000C)

	)

983 
	#rIISCON
 (*(vﬁ©ûê*)0x55000000)

	)

984 
	#rIISMOD
 (*(vﬁ©ûê*)0x55000004)

	)

985 
	#rIISPSR
 (*(vﬁ©ûê*)0x55000008)

	)

986 
	#rIISFCON
 (*(vﬁ©ûê*)0x5500000C)

	)

988 #ifde‡
__BIG_ENDIAN


989 
	#IISFIF
 ((vﬁ©ûê*)0x55000012)

	)

991 
	#IISFIF
 ((vﬁ©ûê*)0x55000010)

	)

995 
	#rGPACON
 (*(vﬁ©ûê*)0x56000000)

	)

996 
	#rGPADAT
 (*(vﬁ©ûê*)0x56000004)

	)

998 
	#rGPBCON
 (*(vﬁ©ûê*)0x56000010)

	)

999 
	#rGPBDAT
 (*(vﬁ©ûê*)0x56000014)

	)

1000 
	#rGPBUP
 (*(vﬁ©ûê*)0x56000018)

	)

1002 
	#rGPCCON
 (*(vﬁ©ûê*)0x56000020)

	)

1003 
	#rGPCDAT
 (*(vﬁ©ûê*)0x56000024)

	)

1004 
	#rGPCUP
 (*(vﬁ©ûê*)0x56000028)

	)

1006 
	#rGPDCON
 (*(vﬁ©ûê*)0x56000030)

	)

1007 
	#rGPDDAT
 (*(vﬁ©ûê*)0x56000034)

	)

1008 
	#rGPDUP
 (*(vﬁ©ûê*)0x56000038)

	)

1010 
	#rGPECON
 (*(vﬁ©ûê*)0x56000040)

	)

1011 
	#rGPEDAT
 (*(vﬁ©ûê*)0x56000044)

	)

1012 
	#rGPEUP
 (*(vﬁ©ûê*)0x56000048)

	)

1014 
	#rGPFCON
 (*(vﬁ©ûê*)0x56000050)

	)

1015 
	#rGPFDAT
 (*(vﬁ©ûê*)0x56000054)

	)

1016 
	#rGPFUP
 (*(vﬁ©ûê*)0x56000058)

	)

1018 
	#rGPGCON
 (*(vﬁ©ûê*)0x56000060)

	)

1019 
	#rGPGDAT
 (*(vﬁ©ûê*)0x56000064)

	)

1020 
	#rGPGUP
 (*(vﬁ©ûê*)0x56000068)

	)

1022 
	#rGPHCON
 (*(vﬁ©ûê*)0x56000070)

	)

1023 
	#rGPHDAT
 (*(vﬁ©ûê*)0x56000074)

	)

1024 
	#rGPHUP
 (*(vﬁ©ûê*)0x56000078)

	)

1026 
	#rMISCCR
 (*(vﬁ©ûê*)0x56000080)

	)

1027 
	#rDCLKCON
 (*(vﬁ©ûê*)0x56000084)

	)

1028 
	#rEXTINT0
 (*(vﬁ©ûê*)0x56000088)

	)

1029 
	#rEXTINT1
 (*(vﬁ©ûê*)0x5600008C)

	)

1030 
	#rEXTINT2
 (*(vﬁ©ûê*)0x56000090)

	)

1031 
	#rEINTFLT0
 (*(vﬁ©ûê*)0x56000094)

	)

1032 
	#rEINTFLT1
 (*(vﬁ©ûê*)0x56000098)

	)

1033 
	#rEINTFLT2
 (*(vﬁ©ûê*)0x5600009C)

	)

1034 
	#rEINTFLT3
 (*(vﬁ©ûê*)0x560000A0)

	)

1035 
	#rEINTMASK
 (*(vﬁ©ûê*)0x560000A4)

	)

1036 
	#rEINTPEND
 (*(vﬁ©ûê*)0x560000A8)

	)

1037 
	#rGSTATUS0
 (*(vﬁ©ûê*)0x560000AC)

	)

1038 
	#rGSTATUS1
 (*(vﬁ©ûê*)0x560000B0)

	)

1041 #ifde‡
__BIG_ENDIAN


1042 
	#rRTCCON
 (*(vﬁ©ûê*)0x57000043)

	)

1043 
	#rTICNT
 (*(vﬁ©ûê*)0x57000047)

	)

1044 
	#rRTCALM
 (*(vﬁ©ûê*)0x57000053)

	)

1045 
	#rALMSEC
 (*(vﬁ©ûê*)0x57000057)

	)

1046 
	#rALMMIN
 (*(vﬁ©ûê*)0x5700005B)

	)

1047 
	#rALMHOUR
 (*(vﬁ©ûê*)0x5700005F)

	)

1048 
	#rALMDATE
 (*(vﬁ©ûê*)0x57000063)

	)

1049 
	#rALMMON
 (*(vﬁ©ûê*)0x57000067)

	)

1050 
	#rALMYEAR
 (*(vﬁ©ûê*)0x5700006B)

	)

1051 
	#rRTCRST
 (*(vﬁ©ûê*)0x5700006F)

	)

1052 
	#rBCDSEC
 (*(vﬁ©ûê*)0x57000073)

	)

1053 
	#rBCDMIN
 (*(vﬁ©ûê*)0x57000077)

	)

1054 
	#rBCDHOUR
 (*(vﬁ©ûê*)0x5700007B)

	)

1055 
	#rBCDDATE
 (*(vﬁ©ûê*)0x5700007F)

	)

1056 
	#rBCDDAY
 (*(vﬁ©ûê*)0x57000083)

	)

1057 
	#rBCDMON
 (*(vﬁ©ûê*)0x57000087)

	)

1058 
	#rBCDYEAR
 (*(vﬁ©ûê*)0x5700008B)

	)

1060 
	#rRTCCON
 (*(vﬁ©ûê*)0x57000040)

	)

1061 
	#rTICNT
 (*(vﬁ©ûê*)0x57000044)

	)

1062 
	#rRTCALM
 (*(vﬁ©ûê*)0x57000050)

	)

1063 
	#rALMSEC
 (*(vﬁ©ûê*)0x57000054)

	)

1064 
	#rALMMIN
 (*(vﬁ©ûê*)0x57000058)

	)

1065 
	#rALMHOUR
 (*(vﬁ©ûê*)0x5700005C)

	)

1066 
	#rALMDATE
 (*(vﬁ©ûê*)0x57000060)

	)

1067 
	#rALMMON
 (*(vﬁ©ûê*)0x57000064)

	)

1068 
	#rALMYEAR
 (*(vﬁ©ûê*)0x57000068)

	)

1069 
	#rRTCRST
 (*(vﬁ©ûê*)0x5700006C)

	)

1070 
	#rBCDSEC
 (*(vﬁ©ûê*)0x57000070)

	)

1071 
	#rBCDMIN
 (*(vﬁ©ûê*)0x57000074)

	)

1072 
	#rBCDHOUR
 (*(vﬁ©ûê*)0x57000078)

	)

1073 
	#rBCDDATE
 (*(vﬁ©ûê*)0x5700007C)

	)

1074 
	#rBCDDAY
 (*(vﬁ©ûê*)0x57000080)

	)

1075 
	#rBCDMON
 (*(vﬁ©ûê*)0x57000084)

	)

1076 
	#rBCDYEAR
 (*(vﬁ©ûê*)0x57000088)

	)

1080 
	#rADCCON
 (*(vﬁ©ûê*)0x58000000)

	)

1081 
	#rADCTSC
 (*(vﬁ©ûê*)0x58000004)

	)

1082 
	#rADCDLY
 (*(vﬁ©ûê*)0x58000008)

	)

1083 
	#rADCDAT0
 (*(vﬁ©ûê*)0x5800000C)

	)

1084 
	#rADCDAT1
 (*(vﬁ©ûê*)0x58000010)

	)

1087 
	#rSPCON0
 (*(vﬁ©ûê*)0x59000000)

	)

1088 
	#rSPSTA0
 (*(vﬁ©ûê*)0x59000004)

	)

1089 
	#rSPPIN0
 (*(vﬁ©ûê*)0x59000008)

	)

1090 
	#rSPPRE0
 (*(vﬁ©ûê*)0x5900000C)

	)

1091 
	#rSPTDAT0
 (*(vﬁ©ûê*)0x59000010)

	)

1092 
	#rSPRDAT0
 (*(vﬁ©ûê*)0x59000014)

	)

1093 
	#rSPCON1
 (*(vﬁ©ûê*)0x59000020)

	)

1094 
	#rSPSTA1
 (*(vﬁ©ûê*)0x59000024)

	)

1095 
	#rSPPIN1
 (*(vﬁ©ûê*)0x59000028)

	)

1096 
	#rSPPRE1
 (*(vﬁ©ûê*)0x5900002C)

	)

1097 
	#rSPTDAT1
 (*(vﬁ©ûê*)0x59000030)

	)

1098 
	#rSPRDAT1
 (*(vﬁ©ûê*)0x59000034)

	)

1101 
	#rSDICON
 (*(vﬁ©ûê*)0x5A000000)

	)

1102 
	#rSDIPRE
 (*(vﬁ©ûê*)0x5A000004)

	)

1103 
	#rSDICmdArg
 (*(vﬁ©ûê*)0x5A000008)

	)

1104 
	#rSDICmdC⁄
 (*(vﬁ©ûê*)0x5A00000C)

	)

1105 
	#rSDICmdSè
 (*(vﬁ©ûê*)0x5A000010)

	)

1106 
	#rSDIRSP0
 (*(vﬁ©ûê*)0x5A000014)

	)

1107 
	#rSDIRSP1
 (*(vﬁ©ûê*)0x5A000018)

	)

1108 
	#rSDIRSP2
 (*(vﬁ©ûê*)0x5A00001C)

	)

1109 
	#rSDIRSP3
 (*(vﬁ©ûê*)0x5A000020)

	)

1110 
	#rSDIDTimî
 (*(vﬁ©ûê*)0x5A000024)

	)

1111 
	#rSDIBSize
 (*(vﬁ©ûê*)0x5A000028)

	)

1112 
	#rSDID©C⁄
 (*(vﬁ©ûê*)0x5A00002C)

	)

1113 
	#rSDID©C¡
 (*(vﬁ©ûê*)0x5A000030)

	)

1114 
	#rSDID©Sè
 (*(vﬁ©ûê*)0x5A000034)

	)

1115 
	#rSDIFSTA
 (*(vﬁ©ûê*)0x5A000038)

	)

1116 #ifde‡
__BIG_ENDIAN


1117 
	#rSDIDAT
 (*(vﬁ©ûê*)0x5A00003F)

	)

1119 
	#rSDIDAT
 (*(vﬁ©ûê*)0x5A00003C)

	)

1121 
	#rSDII¡Msk
 (*(vﬁ©ûê*)0x5A000040)

	)

	@interrupt.c

10 
	~<comm⁄.h
>

12 
	$do_undeföed_ö°ru˘i⁄
()

15 
	}
}

17 
	$do_so·w¨e_öãºu±
()

19 
	}
}

21 
	$do_¥e„tch_ab‹t
()

23 
	}
}

25 
	$do_d©a_ab‹t
()

27 
	}
}

29 
	$do_nŸ_u£d
()

31 
	}
}

33 
	$do_úq
()

35 
	}
}

37 
	$do_fiq
()

39 
	}
}

	@k9f2g08.c

37 
	~<«nd.h
>

44 
	$«nd_ªad_id
()

46 
id
 = 0;

48 
	`«nd_£À˘
();

49 
	`«nd_˛ór_RnB
();

51 
REG_NFCMD
 = 
NAND_CMD_READID
;

52 
REG_NFADDR
 = 0x00;

53 
id
 = 
REG_NFDATA
;

54 
id
 = (id << 8Ë| 
REG_NFDATA
;

58 
	`«nd_de£À˘
();

60  
id
;

61 
	}
}

63 
	#TACLS
 1

64 
	#TWRPH0
 4

65 
	#TWRPH1
 1

66 

	)

72 
	$«nd_öô
(
boŸ_«nd_t
 *
«nd
)

74 
i
, 
ªt
 = -1;

75 
«nd_id
;

78 
REG_NFCONF
(
TACLS
<<12)|(
TWRPH0
<<8)|(
TWRPH1
<<4)|(0<<0);

87 
REG_NFCONT
= (0<<13)|(0<<12)|(0<<10)|(0<<9)|(0<<8)|(1<<6)|(1<<5)|(1<<4)|(1<<1)|(1<<0);

90 
i
=0; i<10; i++) ;

92 
«nd_id
 = 
	`«nd_ªad_id
();

96 i‡–
NAND_K9F2G08
 =
«nd_id
 )

99 
«nd
->
id
 = 
NAND_K9F2G08
;

100 
«nd
->
•¨e_size
 = 64;

101 
«nd
->
∑ge_size
 = 0x0800;

102 
«nd
->
block_size
 = 0x20000;

103 
«nd
->
block_num
 = 2048;

105 
«nd
->
bad_block_off£t
 =Ç™d->
∑ge_size
;

106 
ªt
 = 0;

109  
ªt
;

110 
	}
}

121 
	$«nd_ªad_∑ge
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_num
, ul⁄g 
off£t
, *
d©a
, ul⁄g 
size
)

123 
uch¨
 *
±r
 = (uch¨ *)
d©a
;

124 
ul⁄g
 
i
, 
byãs
;

127 
byãs
 = ((
«nd
->
∑ge_size
+«nd->
•¨e_size
-
off£t
)>=
size
 ? size : (nand->page_size+nand->spare_size)-offset);

129 
	`«nd_£À˘
();

130 
	`«nd_˛ór_RnB
();

132 
REG_NFCMD
 = 
NAND_CMD_READ0
;

134 
REG_NFADDR
 = 0;

135 
REG_NFADDR
 = 0;

136 
REG_NFADDR
 = 
∑ge_num
 & 0xff;

137 
REG_NFADDR
 = (
∑ge_num
 >> 8) & 0xff;

138 
REG_NFADDR
 = (
∑ge_num
 >> 16) & 0xff;

139 
REG_NFCMD
 = 
NAND_CMD_READSTART
;

147 
	`«nd_dëe˘_RnB
();

151 if(0==
off£t
 && 
«nd
->
∑ge_size
==
size
)

152 
START_READ
;

155 
REG_NFCMD
 = 
NAND_CMD_RNDOUT
;

156 
REG_NFADDR
 = 
off£t
 & 0xff;

157 
REG_NFADDR
 = (
off£t
 >> 8) & 0xff;

158 
REG_NFCMD
 = 
NAND_CMD_RNDOUTSTART
;

160 
START_READ
:

161 
i
=0; i<
byãs
; i++)

163 *
±r
 = 
REG_NFDATA
;

164 
±r
++;

167 
	`«nd_de£À˘
();

168  
byãs
;

169 
	}
}

181 
	$«nd_wrôe_∑ge
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_num
, ul⁄g 
off£t
, *
d©a
, ul⁄g 
size
)

183 
uch¨
 *
±r8
 = (uch¨ *)
d©a
;

184 
uch¨
 
°©
;

185 
ªt
;

186 
ul⁄g
 
i
, 
byãs
;

189 
byãs
 = ((
«nd
->
∑ge_size
+«nd->
•¨e_size
-
off£t
)>
size
 ? size : (nand->page_size+nand->spare_size)-offset);

191 
	`«nd_£À˘
();

192 
	`«nd_˛ór_RnB
();

194 
REG_NFCMD
 = 
NAND_CMD_SEQIN
;

196 
REG_NFADDR
 = 0;

197 
REG_NFADDR
 = 0;

198 
REG_NFADDR
 = 
∑ge_num
 & 0xff;

199 
REG_NFADDR
 = (
∑ge_num
 >> 8) & 0xff;

200 
REG_NFADDR
 = (
∑ge_num
 >> 16) & 0xff;

204 if(0==
off£t
 && 
«nd
->
∑ge_size
==
size
)

205 
START_PROG
;

208 
REG_NFCMD
 = 
NAND_CMD_RNDIN
;

209 
REG_NFADDR
 = 
off£t
 & 0xff;

210 
REG_NFADDR
 = (
off£t
 >> 8) & 0xff;

212 
START_PROG
:

213 
i
=0; i<
byãs
; i++)

215 
REG_NFDATA
 = *
±r8
;

216 
±r8
++;

218 
REG_NFCMD
 = 
NAND_CMD_PAGEPROG
;

225 
	`«nd_dëe˘_RnB
();

229 
REG_NFCMD
 = 
NAND_CMD_STATUS
;

230 
°©
 = 
REG_NFDATA
;

231 if(
°©
 & 0x01)

233 
	`dbg_¥öt
("R™dom ProgømÖagênumbî @%lu faûuª\n", 
∑ge_num
);

234 
ªt
 = -1;

238 
ªt
 = 
byãs
;

241 
	`«nd_de£À˘
();

242  
ªt
;

243 
	}
}

252 
	$is_bad_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
addr
)

254 
d©a
;

255 
ul⁄g
 
∑ge_num
;

256 
ul⁄g
 
block_°¨t
;

257 
∑ge_shi·
 = 
	`gíîic_ffs
(
«nd
->
∑ge_size
)-1;

260 
block_°¨t
 = 
addr
 & (~(
«nd
->
block_size
-1));

264 
∑ge_num
 = 
block_°¨t
 >> 
∑ge_shi·
;

266 
	`«nd_ªad_∑ge
(
«nd
, 
∑ge_num
,Ç™d->
bad_block_off£t
, &
d©a
, 1);

268 i‡(
d©a
 != 0xff)

270 
	`¥ötf
("Bad Block @%08lx byáddªs†@%08lx\n",
block_°¨t
, 
addr
);

271 
	`«nd_de£À˘
();

275 
	`«nd_de£À˘
();

277 
	}
}

285 
	$m¨k_bad_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
addr
)

287 
d©a
 = 0xEE;

288 
ul⁄g
 
∑ge_num
;

289 
ul⁄g
 
block_num
;

290 
ul⁄g
 
block_°¨t
;

291 
ªt
;

294 
block_°¨t
 = 
addr
 & (~(
«nd
->
block_size
-1));

298 
∑ge_num
 = 
block_°¨t
 >> (
	`gíîic_ffs
(
«nd
->
∑ge_size
)-1);

301 
ªt
 = 
	`«nd_wrôe_∑ge
(
«nd
, 
∑ge_num
,Ç™d->
bad_block_off£t
, &
d©a
, 1);

302 
ªt
 =Ñet<0 ?Ñet: 0;

304 
block_num
 = 
block_°¨t
 >> (
	`gíîic_ffs
(
«nd
->
block_size
)-1);

305 
	`dbg_¥öt
("Mark bad block index [$%lu]áddress @0x%08lx %s.\n",

306 
block_num
, 
block_°¨t
, 
ªt
==0?"success":"failed");

307  
ªt
;

308 
	}
}

317 
	$«nd_îa£_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
block_num
)

319 
uch¨
 
°©
;

320 
ªt
 = 0;

321 
ul⁄g
 
block_°¨t
;

323 
	`«nd_£À˘
();

324 
	`«nd_˛ór_RnB
();

326 
REG_NFCMD
 = 
NAND_CMD_ERASE1
;

327 
REG_NFADDR
 = (
block_num
<<6) & 0xff;

328 
REG_NFADDR
 = (
block_num
>>2) & 0xff;

329 
REG_NFADDR
 = (
block_num
>>10) & 0x0f;

330 
REG_NFCMD
 = 
NAND_CMD_ERASE2
;

337 
	`«nd_dëe˘_RnB
();

341 
REG_NFCMD
 = 
NAND_CMD_STATUS
;

343 
°©
 = 
REG_NFDATA
;

345 
block_°¨t
 = 
block_num
<<(
	`gíîic_ffs
(
«nd
->
block_size
)-1);

346 if–
°©
&(1<<0) )

348 
	`¥ötf
("Eø£ block index [$%lu]áddªs†@0x%08lx faûed.\n", 
block_num
, 
block_°¨t
);

349 
	`m¨k_bad_block
(
«nd
, 
block_°¨t
);

350 
ªt
 = -1;

351 
OUT
;

354 
	`dbg_¥öt
("Eø£ block index [$%lu]áddªs†@0x%08lx suc˚ss.\n", 
block_num
, 
block_°¨t
);

356 
OUT
:

357 
	`«nd_de£À˘
();

358  
ªt
;

359 
	}
}

370 
	$«nd_îa£
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, 
skù_bad
)

373 
block_num
, 
ªt
=0;

374 
Áûed
 = 0;

375 
ul⁄g
 
addr
;

376 
block_shi·
 = 
	`gíîic_ffs
(
«nd
->
block_size
)-1;

378 i‡–(
°¨t_addr
 & (
«nd
->
block_size
-1)Ë|| (
size
 & (nand->block_size-1)) )

380 
	`¥ötf
("«ndÉø£áddªs†@0x%08lx o∏sizê$%luÇŸ blockáligmít.\n", 
°¨t_addr
, 
size
);

384 
addr
 = 
°¨t_addr
;

385  
addr
<(
°¨t_addr
+
size
) )

387 
block_num
 = 
addr
>> 
block_shi·
;

388 
ªt
 = 
	`«nd_îa£_block
(
«nd
, 
block_num
);

389 if(
ªt
 < 0)

391 if(
skù_bad
)

394 
addr
 +
«nd
->
block_size
;

395 
size
 +
«nd
->
block_size
;

400 
Áûed
 ++;

404 
addr
 +
«nd
->
block_size
;

408 
ªt
 = (!
skù_bad
 && 
Áûed
) ? failed : 0;

410  
ªt
;

411 
	}
}

417 
	$«nd_s¸ub
(
boŸ_«nd_t
 *
«nd
)

419 
i
;

421 
i
=0; i<
«nd
->
block_num
; i++)

422 
	`«nd_îa£_block
(
«nd
, 
i
);

423 
	}
}

432 
	$«nd_ªad_•¨e
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_addr
, 
size
, *
buf
)

434 
ul⁄g
 
∑ge_num
;

435 
ul⁄g
 
byãs
;

436 
∑ge_shi·
 = 
	`gíîic_ffs
(
«nd
->
∑ge_size
)-1;

438 
size
 = sizê> 
«nd
->
•¨e_size
 ?Çand->spare_size : size;

440 
∑ge_num
 = 
∑ge_addr
 >> 
∑ge_shi·
;

442 
byãs
 = 
	`«nd_ªad_∑ge
(
«nd
, 
∑ge_num
,Ç™d->
bad_block_off£t
, 
buf
, 
size
);

444  
byãs
;

445 
	}
}

454 
	$«nd_wrôe_•¨e
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_addr
, 
size
, *
buf
)

456 
ul⁄g
 
∑ge_num
;

457 
ul⁄g
 
byãs
;

458 
∑ge_shi·
 = 
	`gíîic_ffs
(
«nd
->
∑ge_size
)-1;

460 
size
 = sizê> 
«nd
->
•¨e_size
 ?Çand->spare_size : size;

462 
∑ge_num
 = 
∑ge_addr
 >> 
∑ge_shi·
;

464 
byãs
 = 
	`«nd_wrôe_∑ge
(
«nd
, 
∑ge_num
,Ç™d->
bad_block_off£t
, 
buf
, 
size
);

466  
byãs
;

467 
	}
}

477 
	$«nd_ªad
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, *
buf
)

479 
ul⁄g
 
addr
;

480 
ul⁄g
 
∑ge_num
;

481 
ul⁄g
 
∑ge_off£t
;

482 
ul⁄g
 
∑ge_mask
 = 
«nd
->
∑ge_size
-1;

483 
ul⁄g
 
byãs
 = 0;

484 
ul⁄g
 
À·
;

485 
∑ge_shi·
 = 
	`gíîic_ffs
(
«nd
->
∑ge_size
)-1;

487 
À·
 = 
size
;

488 
addr
 = 
°¨t_addr
;

491 if–(
addr
 & 
∑ge_mask
) )

493 
	`¥ötf
("«ndÑódáddªs†@0x%08lxÇŸálignmít.\n", 
addr
);

497 
À·
 > 0)

500 i‡–((
addr
&(
«nd
->
block_size
-1))==0Ë&& 
	`is_bad_block
(nand,áddr) )

503 
	`dbg_¥öt
("Skù bad block @0x%08lx\n", 
addr
);

504 
addr
 +
«nd
->
block_size
;

508 
∑ge_num
 = 
addr
 >> 
∑ge_shi·
;

509 
∑ge_off£t
 = 
addr
 & 
∑ge_mask
;

511 if–
À·
 >
«nd
->
∑ge_size
)

513 
byãs
 = 
	`«nd_ªad_∑ge
(
«nd
, 
∑ge_num
, 
∑ge_off£t
, 
buf
,Ç™d->
∑ge_size
);

515 
	`dbg_¥öt
("Read wholeÖage:áddr=%08lxÖage_num=%dÖage_offset=%08lx, bytes=%lu \n",

516 
addr
, 
∑ge_num
, 
∑ge_off£t
, 
byãs
);

521 
byãs
 = 
	`«nd_ªad_∑ge
(
«nd
, 
∑ge_num
, 
∑ge_off£t
, 
buf
, 
size
%«nd->
∑ge_size
);

523 
	`¥ötf
("ReadÖartÖage:áddr=%08lxÖage_num=%dÖage_offset=%d, bytes=%lu \n",

524 
addr
, 
∑ge_num
, 
∑ge_off£t
, 
size
%
«nd
->
∑ge_size
);

528 
addr
+=
byãs
;

529 
buf
 +
byãs
;

530 
À·
-=
byãs
;

533  
byãs
;

534 
	}
}

545 
	$«nd_wrôe
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, *
buf
)

547 
ul⁄g
 
addr
;

548 
ul⁄g
 
∑ge_num
;

549 
ul⁄g
 
∑ge_off£t
;

550 
ul⁄g
 
∑ge_mask
 = 
«nd
->
∑ge_size
-1;

551 
ul⁄g
 
byãs
 = 0;

552 
ul⁄g
 
À·
;

553 
∑ge_shi·
 = 
	`gíîic_ffs
(
«nd
->
∑ge_size
)-1;

555 
À·
 = 
size
;

556 
addr
 = 
°¨t_addr
;

559 if–(
addr
 & 
∑ge_mask
) )

561 
	`¥ötf
("«ndÑódáddªs†@0x%08lxÇŸálignmít.\n", 
addr
);

565 
À·
 > 0)

568 i‡–((
addr
&(
«nd
->
block_size
-1))==0Ë&& 
	`is_bad_block
(nand,áddr) )

571 
	`dbg_¥öt
("Skù bad block @0x%08lx\n", 
addr
);

572 
addr
 +
«nd
->
block_size
;

576 
∑ge_num
 = 
addr
 >> 
∑ge_shi·
;

577 
∑ge_off£t
 = 
addr
 & 
∑ge_mask
;

579 if–
À·
 >
«nd
->
∑ge_size
)

581 
byãs
 = 
	`«nd_wrôe_∑ge
(
«nd
, 
∑ge_num
, 
∑ge_off£t
, 
buf
,Ç™d->
∑ge_size
);

583 
	`dbg_¥öt
("Write wholeÖage:áddr=%08lxÖage_num=%dÖage_offset=%08lx, bytes=%lu \n",

584 
addr
, 
∑ge_num
, 
∑ge_off£t
, 
byãs
);

589 
byãs
 = 
	`«nd_wrôe_∑ge
(
«nd
, 
∑ge_num
, 
∑ge_off£t
, 
buf
, 
size
%«nd->
∑ge_size
);

591 
	`dbg_¥öt
("WriteÖartÖage:áddr=%08lxÖage_num=%dÖage_offset=%d, bytes=%lu \n",

592 
addr
, 
∑ge_num
, 
∑ge_off£t
, 
size
%
«nd
->
∑ge_size
);

596 
addr
+=
byãs
;

597 
buf
 +
byãs
;

598 
À·
-=
byãs
;

601  
byãs
;

602 
	}
}

610 
ölöe
 
	$«nd_waô
()

612 
i
;

615 !(
REG_NFSTAT
 & 
NFSTAT_BUSY
))

617 
	`dbg_¥öt
("Nandflash is busy.\n");

618 
i
 = 0; i < 10; i++) ;

620 
	}
}

626 
	$«nd_ª£t
()

628 
	`«nd_£À˘
();

629 
	`«nd_˛ór_RnB
();

631 
REG_NFCMD
 = 
NAND_CMD_RESET
;

632 
REG_NFADDR
 = 0x00;

634 
	`«nd_dëe˘_RnB
();

635 
	`«nd_de£À˘
();

636 
	}
}

	@led_beep.c

10 
	~<comm⁄.h
>

11 
	#DELAY_TIME
 1000000

	)

14 
	#GPBCON
 (*(vﬁ©ûê*)0x56000010)

	)

15 
	#GPBDAT
 (*(vﬁ©ûê*)0x56000014)

	)

16 
	#GPBUP
 (*(vﬁ©ûê*)0x56000018)

	)

18 
ölöe
 
	$dñay
(
lo›s
)

20 
__asm__
 vﬁ©ûê("1:\n" "sub†%0, %1, #1\n" "b√ 1b":"Ù" (
lo›s
):"0"(loops));

21 
	}
}

23 
	$öô_Àd_bìp
()

26 
GPBCON
 = (GPBCON | 0x333C03) & 0x111401;

27 
GPBUP
 = (GPBUP | 0x560);

29 
GPBDAT
 = (GPBDAT | 0x560);

30 
	}
}

32 
	$tu∫_Àd_⁄
(
Àd
)

34 
GPBDAT
 = (GPBDAT & (~(1 << 
Àd
)));

35 
	`dñay
(
DELAY_TIME
);

36 
	}
}

38 
	$tu∫_Àd_off
(
Àd
)

41 
GPBDAT
 = (GPBDAT | (1 << 
Àd
));

42 
	`dñay
(
DELAY_TIME
);

43 
	}
}

45 
	$bìp
(
cou¡
)

47 
i
;

48 
i
 = 0; i < 
cou¡
; i++)

50 
GPBDAT
 |1 << 
BEEP
;

51 
	`dñay
(
DELAY_TIME
 * 50);

53 
GPBDAT
 &~(1 << 
BEEP
);

54 
	`dñay
(
DELAY_TIME
 * 50);

56 
	}
}

	@nand.h

18 #i‚de‡
__LINUX_MTD_NAND_H


19 
	#__LINUX_MTD_NAND_H


	)

21 
	~<comm⁄.h
>

22 
	~<löux/bô›s.h
>

24 
	#NAND_K9F2G08
 0xecda

	)

30 
	#NAND_MAX_OOBSIZE
 218

	)

31 
	#NAND_MAX_PAGESIZE
 4096

	)

40 
	#NAND_NCE
 0x01

	)

42 
	#NAND_CLE
 0x02

	)

44 
	#NAND_ALE
 0x04

	)

46 
	#NAND_CTRL_CLE
 (
NAND_NCE
 | 
NAND_CLE
)

	)

47 
	#NAND_CTRL_ALE
 (
NAND_NCE
 | 
NAND_ALE
)

	)

48 
	#NAND_CTRL_CHANGE
 0x80

	)

53 
	#NAND_CMD_READ0
 0x00

	)

54 
	#NAND_CMD_READSTART
 0x30

	)

55 
	#NAND_CMD_READID
 0x90

	)

56 
	#NAND_CMD_SEQIN
 0x80

	)

57 
	#NAND_CMD_PAGEPROG
 0x10

	)

58 
	#NAND_CMD_ERASE1
 0x60

	)

59 
	#NAND_CMD_ERASE2
 0xd0

	)

60 
	#NAND_CMD_STATUS
 0x70

	)

61 
	#NAND_CMD_RESET
 0xf‡

	)

62 
	#NAND_CMD_READ1
 1

	)

63 
	#NAND_CMD_RNDOUT
 0x05

	)

64 
	#NAND_CMD_RNDOUTSTART
 0xE0

	)

65 
	#NAND_CMD_RNDIN
 0x85

	)

67 
	#NAND_CMD_READOOB
 0x50

	)

68 
	#NAND_CMD_STATUS_MULTI
 0x71

	)

71 
	#NAND_CMD_CACHEDPROG
 0x15

	)

80 
	#NAND_CMD_DEPLETE1
 0x100

	)

81 
	#NAND_CMD_DEPLETE2
 0x38

	)

82 
	#NAND_CMD_STATUS_MULTI
 0x71

	)

83 
	#NAND_CMD_STATUS_ERROR
 0x72

	)

85 
	#NAND_CMD_STATUS_ERROR0
 0x73

	)

86 
	#NAND_CMD_STATUS_ERROR1
 0x74

	)

87 
	#NAND_CMD_STATUS_ERROR2
 0x75

	)

88 
	#NAND_CMD_STATUS_ERROR3
 0x76

	)

89 
	#NAND_CMD_STATUS_RESET
 0x7f

	)

90 
	#NAND_CMD_STATUS_CLEAR
 0xff

	)

92 
	#NAND_CMD_NONE
 -1

	)

95 
	#NAND_STATUS_FAIL
 0x01

	)

96 
	#NAND_STATUS_FAIL_N1
 0x02

	)

97 
	#NAND_STATUS_TRUE_READY
 0x20

	)

98 
	#NAND_STATUS_READY
 0x40

	)

99 
	#NAND_STATUS_WP
 0x80

	)

106 
	mNAND_ECC_NONE
,

107 
	mNAND_ECC_SOFT
,

108 
	mNAND_ECC_HW
,

109 
	mNAND_ECC_HW_SYNDROME
,

110 
	mNAND_ECC_HW_OOB_FIRST
,

111 } 
	t«nd_ecc_modes_t
;

117 
	#NAND_ECC_READ
 0

	)

119 
	#NAND_ECC_WRITE
 1

	)

121 
	#NAND_ECC_READSYN
 2

	)

124 
	#NAND_GET_DEVICE
 0x80

	)

130 
	#NAND_NO_AUTOINCR
 0x00000001

	)

132 
	#NAND_BUSWIDTH_16
 0x00000002

	)

134 
	#NAND_NO_PADDING
 0x00000004

	)

136 
	#NAND_CACHEPRG
 0x00000008

	)

138 
	#NAND_COPYBACK
 0x00000010

	)

141 
	#NAND_IS_AND
 0x00000020

	)

144 
	#NAND_4PAGE_ARRAY
 0x00000040

	)

148 
	#BBT_AUTO_REFRESH
 0x00000080

	)

152 
	#NAND_NO_READRDY
 0x00000100

	)

154 
	#NAND_NO_SUBPAGE_WRITE
 0x00000200

	)

157 
	#NAND_SAMSUNG_LP_OPTIONS
 \

158 (
NAND_NO_PADDING
 | 
NAND_CACHEPRG
 | 
NAND_COPYBACK
)

	)

161 
	#NAND_CANAUTOINCR
(
chù
Ë(!(chù->
›ti⁄s
 & 
NAND_NO_AUTOINCR
))

	)

162 
	#NAND_MUST_PAD
(
chù
Ë(!(chù->
›ti⁄s
 & 
NAND_NO_PADDING
))

	)

163 
	#NAND_HAS_CACHEPROG
(
chù
Ë((chù->
›ti⁄s
 & 
NAND_CACHEPRG
))

	)

164 
	#NAND_HAS_COPYBACK
(
chù
Ë((chù->
›ti⁄s
 & 
NAND_COPYBACK
))

	)

166 
	#NAND_SUBPAGE_READ
(
chù
Ë((chù->
ecc
.
mode
 =
NAND_ECC_SOFT
) \

167 && (
chù
->
∑ge_shi·
 > 9))

	)

170 
	#NAND_CHIPOPTIONS_MSK
 (0x0000fff‡& ~
NAND_NO_AUTOINCR
)

	)

175 
	#NAND_USE_FLASH_BBT
 0x00010000

	)

177 
	#NAND_SKIP_BBTSCAN
 0x00020000

	)

180 
	#NAND_OWN_BUFFERS
 0x00040000

	)

183 
	#NAND_BBT_SCANNED
 0x40000000

	)

185 
	#NAND_CONTROLLER_ALLOC
 0x80000000

	)

188 
	#NAND_CI_CHIPNR_MSK
 0x03

	)

189 
	#NAND_CI_CELLTYPE_MSK
 0x0C

	)

194 
	#NAND_MFR_TOSHIBA
 0x98

	)

195 
	#NAND_MFR_SAMSUNG
 0xec

	)

196 
	#NAND_MFR_FUJITSU
 0x04

	)

197 
	#NAND_MFR_NATIONAL
 0x8f

	)

198 
	#NAND_MFR_RENESAS
 0x07

	)

199 
	#NAND_MFR_STMICRO
 0x20

	)

200 
	#NAND_MFR_HYNIX
 0xad

	)

201 
	#NAND_MFR_MICRON
 0x2c

	)

202 
	#NAND_MFR_AMD
 0x01

	)

207 
	#NAND_SMALL_BADBLOCK_POS
 5

	)

208 
	#NAND_LARGE_BADBLOCK_POS
 0

	)

211 #i‡
deföed
(
CONFIG_S3C2410
)

212 
	#REG_NFCONF
 
	`__REGi
(
ELFIN_NAND_BASE
 + 0x0)

	)

213 
	#REG_NFCMD
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x4)

	)

214 
	#REG_NFADDR
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x8)

	)

215 
	#REG_NFDATA
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0xc)

	)

216 
	#REG_NFSTAT
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x10)

	)

217 
	#NFSTAT_BUSY
 1

	)

218 
	#«nd_£À˘
(Ë(
REG_NFCONF
 &~0x800Ë

	)

219 
	#«nd_de£À˘
(Ë(
REG_NFCONF
 |0x800)

	)

220 
	#«nd_˛ór_RnB
(Ëdÿ{} 0)

	)

221 
	#«nd_dëe˘_RnB
(Ëdÿ{} 0)

	)

222 
	#«nd_waô_RnB
(Ëdÿ{} 0)

	)

224 #ñi‡
deföed
(
CONFIG_S3C2440
Ë|| deföed(
CONFIG_S3C2442
)

226 
	#REG_NFCONF
 
	`__REGi
(
ELFIN_NAND_BASE
 + 0x0)

	)

227 
	#REG_NFCONT
 
	`__REGi
(
ELFIN_NAND_BASE
 + 0x4)

	)

228 
	#REG_NFCMD
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x8)

	)

229 
	#REG_NFADDR
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0xc)

	)

230 
	#REG_NFDATA
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x10)

	)

231 
	#REG_NFDATA16
 
	`__REGw
(
ELFIN_NAND_BASE
 + 0x10)

	)

232 
	#REG_NFSTAT
 
	`__REGb
(
ELFIN_NAND_BASE
 + 0x20)

	)

233 
	#NFSTAT_BUSY
 1

	)

234 
	#«nd_£À˘
(Ë(
REG_NFCONT
 &~(1 << 1))

	)

235 
	#«nd_de£À˘
(Ë(
REG_NFCONT
 |(1 << 1))

	)

236 
	#«nd_˛ór_RnB
(Ë(
REG_NFSTAT
 |(1 << 2))

	)

237 
	#«nd_dëe˘_RnB
(Ë{!(
REG_NFSTAT
&(1<<2)));}

	)

238 
	#«nd_waô_RnB
(Ë{!(
REG_NFSTAT
&(1<<0)));}

	)

242 
	#SKIP_BAD_BLOCK
 1

	)

243 
	#NOT_SKIP_BAD_BLOCK
 0

	)

245 
	sboŸ_«nd_t


247 
	m∑ge_size
;

248 
	m•¨e_size
;

249 
	mblock_size
;

250 
	mblock_num
;

251 
	mbad_block_off£t
;

252 
	mid
;

256 
«nd_öô
(
boŸ_«nd_t
 *
«nd
);

257 
«nd_ªad_∑ge
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_num
, ul⁄g 
off£t
, *
d©a
, ul⁄g 
size
);

258 
«nd_wrôe_∑ge
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_num
, ul⁄g 
off£t
, *
d©a
, ul⁄g 
size
);

259 
is_bad_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
addr
);

260 
m¨k_bad_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
addr
);

261 
«nd_îa£_block
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
block_num
);

262 
«nd_îa£
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, 
skù_bad
);

263 
«nd_s¸ub
(
boŸ_«nd_t
 *
«nd
);

264 
«nd_ªad_•¨e
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_addr
, 
size
, *
buf
);

265 
«nd_wrôe_•¨e
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
∑ge_addr
, 
size
, *
buf
);

266 
«nd_ªad
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, *
buf
);

267 
«nd_wrôe
(
boŸ_«nd_t
 *
«nd
, 
ul⁄g
 
°¨t_addr
, ul⁄g 
size
, *
buf
);

	@rsa.c

27 #i‚de‡
_CRT_SECURE_NO_DEPRECATE


28 
	#_CRT_SECURE_NO_DEPRECATE
 1

	)

31 
	~<comm⁄.h
>

32 
	~<rß.h
>

34 #i‡!
deföed
(
NO_GENPRIME
)

38 
rß_gí_key
–
rß_c⁄ãxt
 *
˘x
, 
nbôs
, 
exp⁄ít
,

39 (*
∫g_f
)(*), *
∫g_d
 )

41 
ªt
;

42 
mpi
 
P1
, 
Q1
, 
H
, 
G
;

44 if–
nbôs
 < 128 || 
exp⁄ít
 < 3 || 
∫g_f
 =
NULL
 )

45 –
ERR_RSA_BAD_INPUT_DATA
 );

47 
	`mpi_öô
–&
P1
, &
Q1
, &
H
, &
G
, 
NULL
 );

49 
	`mem£t
–
˘x
, 0, –
rß_c⁄ãxt
 ) );

55 
	`CHK
–
	`mpi_l£t
–&
˘x
->
E
, 
exp⁄ít
 ) );

57 
nbôs
 >>= 1;

61 
	`CHK
–
	`mpi_gí_¥ime
–&
˘x
->
P
, 
nbôs
, 0, 
∫g_f
, 
∫g_d
 ) );

62 
	`CHK
–
	`mpi_gí_¥ime
–&
˘x
->
Q
, 
nbôs
, 0, 
∫g_f
, 
∫g_d
 ) );

64 if–
	`mpi_cmp_mpi
–&
˘x
->
P
, &˘x->
Q
 ) < 0 )

65 
	`mpi_sw≠
–&
˘x
->
P
, &˘x->
Q
 );

67 if–
	`mpi_cmp_mpi
–&
˘x
->
P
, &˘x->
Q
 ) == 0 )

70 
	`CHK
–
	`mpi_mul_mpi
–&
˘x
->
N
, &˘x->
P
, &˘x->
Q
 ) );

71 
	`CHK
–
	`mpi_sub_öt
–&
P1
, &
˘x
->
P
, 1 ) );

72 
	`CHK
–
	`mpi_sub_öt
–&
Q1
, &
˘x
->
Q
, 1 ) );

73 
	`CHK
–
	`mpi_mul_mpi
–&
H
, &
P1
, &
Q1
 ) );

74 
	`CHK
–
	`mpi_gcd
–&
G
, &
˘x
->
E
, &
H
 ) );

76  
	`mpi_cmp_öt
–&
G
, 1 ) != 0 );

84 
	`CHK
–
	`mpi_öv_mod
–&
˘x
->
D
 , &˘x->
E
, &
H
 ) );

85 
	`CHK
–
	`mpi_mod_mpi
–&
˘x
->
DP
, &˘x->
D
, &
P1
 ) );

86 
	`CHK
–
	`mpi_mod_mpi
–&
˘x
->
DQ
, &˘x->
D
, &
Q1
 ) );

87 
	`CHK
–
	`mpi_öv_mod
–&
˘x
->
QP
, &˘x->
Q
, &˘x->
P
 ) );

89 
˘x
->
Àn
 = ( 
	`mpi_size
–&˘x->
N
 ) + 7 ) >> 3;

91 
˛ónup
:

93 
	`mpi_‰ì
–&
P1
, &
Q1
, &
H
, &
G
, 
NULL
 );

95 if–
ªt
 != 0 )

97 
	`rß_‰ì
–
˘x
 );

98 –
ERR_RSA_KEY_GEN_FAILED
 | 
ªt
 );

102 
	}
}

108 
	$rß_public
–
rß_c⁄ãxt
 *
˘x
,

109 *
öput
, 
ûí
,

110 *
ouçut
, *
ﬁí
 )

112 
ªt
;

113 
mpi
 
T
;

119 
	`mpi_öô
–&
T
, 
NULL
 );

121 
	`CHK
–
	`mpi_imp‹t
–&
T
, 
öput
, 
ûí
 ) );

123 if–
	`mpi_cmp_mpi
–&
T
, &
˘x
->
N
 ) >= 0 )

125 
	`mpi_‰ì
–&
T
, 
NULL
 );

126 –
ERR_RSA_BAD_INPUT_DATA
 );

129 
	`CHK
–
	`mpi_exp_mod
–&
T
, &T, &
˘x
->
E
, &˘x->
N
, &˘x->
RN
 ) );

130 
	`CHK
–
	`mpi_exp‹t
–&
T
, 
ouçut
, 
ﬁí
 ) );

132 
˛ónup
:

134 
	`mpi_‰ì
–&
T
, 
NULL
 );

136 if–
ªt
 != 0 )

137 –
ERR_RSA_PUBLIC_FAILED
 | 
ªt
 );

140 
	}
}

145 
	$rß_¥iv©e
–
rß_c⁄ãxt
 *
˘x
,

146 *
öput
, 
ûí
,

147 *
ouçut
, *
ﬁí
 )

149 
ªt
;

150 
mpi
 
T
, 
T1
, 
T2
;

155 
	`mpi_öô
–&
T
, &
T1
, &
T2
, 
NULL
 );

157 
	`CHK
–
	`mpi_imp‹t
–&
T
, 
öput
, 
ûí
 ) );

159 if–
	`mpi_cmp_mpi
–&
T
, &
˘x
->
N
 ) >= 0 )

161 
	`mpi_‰ì
–&
T
, 
NULL
 );

162 –
ERR_RSA_BAD_INPUT_DATA
 );

166 
	`CHK
–
	`mpi_exp_mod
–&
T
, &T, &
˘x
->
D
, &˘x->
N
, &˘x->
RN
 ) );

174 
	`CHK
–
	`mpi_exp_mod
–&
T1
, &
T
, &
˘x
->
DP
, &˘x->
P
, &˘x->
RP
 ) );

175 
	`CHK
–
	`mpi_exp_mod
–&
T2
, &
T
, &
˘x
->
DQ
, &˘x->
Q
, &˘x->
RQ
 ) );

180 
	`CHK
–
	`mpi_sub_mpi
–&
T
, &
T1
, &
T2
 ) );

181 
	`CHK
–
	`mpi_mul_mpi
–&
T1
, &
T
, &
˘x
->
QP
 ) );

182 
	`CHK
–
	`mpi_mod_mpi
–&
T
, &
T1
, &
˘x
->
P
 ) );

187 
	`CHK
–
	`mpi_mul_mpi
–&
T1
, &
T
, &
˘x
->
Q
 ) );

188 
	`CHK
–
	`mpi_add_mpi
–&
T
, &
T2
, &
T1
 ) );

191 
	`CHK
–
	`mpi_exp‹t
–&
T
, 
ouçut
, 
ﬁí
 ) );

193 
˛ónup
:

195 
	`mpi_‰ì
–&
T
, &
T1
, &
T2
, 
NULL
 );

197 if–
ªt
 != 0 )

198 –
ERR_RSA_PRIVATE_FAILED
 | 
ªt
 );

201 
	}
}

206 
	$rß_check_pubkey
–
rß_c⁄ãxt
 *
˘x
 )

208 if––
˘x
->
N
.
p
[0] & 1 ) == 0 ||

209 –
˘x
->
E
.
p
[0] & 1 ) == 0 )

210 –
ERR_RSA_KEY_CHK_FAILED
 );

212 if–
	`mpi_size
–&
˘x
->
N
 ) < 128 ||

213 
	`mpi_size
–&
˘x
->
N
 ) > 4096 )

214 –
ERR_RSA_KEY_CHK_FAILED
 );

216 if–
	`mpi_size
–&
˘x
->
E
 ) < 2 ||

217 
	`mpi_size
–&
˘x
->
E
 ) > 64 )

218 –
ERR_RSA_KEY_CHK_FAILED
 );

221 
	}
}

226 
	$rß_check_¥ivkey
–
rß_c⁄ãxt
 *
˘x
 )

228 
ªt
 = 0;

229 
mpi
 
TN
, 
P1
, 
Q1
, 
H
, 
G
;

231 
	`mpi_öô
–&
TN
, &
P1
, &
Q1
, &
H
, &
G
, 
NULL
 );

233 
	`CHK
–
	`mpi_mul_mpi
–&
TN
, &
˘x
->
P
, &˘x->
Q
 ) );

234 
	`CHK
–
	`mpi_sub_öt
–&
P1
, &
˘x
->
P
, 1 ) );

235 
	`CHK
–
	`mpi_sub_öt
–&
Q1
, &
˘x
->
Q
, 1 ) );

236 
	`CHK
–
	`mpi_mul_mpi
–&
H
, &
P1
, &
Q1
 ) );

237 
	`CHK
–
	`mpi_gcd
–&
G
, &
˘x
->
E
, &
H
 ) );

239 if–
	`mpi_cmp_mpi
–&
TN
, &
˘x
->
N
 ) == 0 &&

240 
	`mpi_cmp_öt
–&
G
, 1 ) == 0 )

242 
	`mpi_‰ì
–&
TN
, &
P1
, &
Q1
, &
H
, &
G
, 
NULL
 );

246 
˛ónup
:

248 
	`mpi_‰ì
–&
TN
, &
P1
, &
Q1
, &
H
, &
G
, 
NULL
 );

249 –
ERR_RSA_KEY_CHK_FAILED
 | 
ªt
 );

250 
	}
}

255 
	$rß_pkcs1_í¸y±
–
rß_c⁄ãxt
 *
˘x
,

256 *
öput
, 
ûí
,

257 *
ouçut
, *
ﬁí
 )

259 
nb_∑d
;

260 *
p
 = 
ouçut
;

262 if–*
ﬁí
 !
˘x
->
Àn
 || *ﬁí < 
ûí
 + 11 )

264 –
ERR_RSA_BAD_INPUT_DATA
 );

267 
nb_∑d
 = *
ﬁí
 - 3 - 
ûí
;

269 *
p
++ = 0;

270 *
p
++ = 
RSA_CRYPT
;

272  
nb_∑d
-- > 0 )

274 dÿ{ *
p
 = 
	`ønd
(); }  *p == 0 );

275 
p
++;

278 *
p
++ = 0;

279 
	`mem˝y
–
p
, 
öput
, 
ûí
 );

281 –
	`rß_public
–
˘x
, 
ouçut
, *
ﬁí
, output, olen ) );

282 
	}
}

287 
	$rß_pkcs1_de¸y±
–
rß_c⁄ãxt
 *
˘x
,

288 *
öput
, 
ûí
,

289 *
ouçut
, *
ﬁí
 )

291 
ªt
;

292 *
p
, 
buf
[512];

294 if–
ûí
 !
˘x
->
Àn
 || ilen < 16 || ilen > 512 )

295 –
ERR_RSA_BAD_INPUT_DATA
 );

297 if––
ªt
 = 
	`rß_¥iv©e
–
˘x
, 
öput
, 
ûí
, 
buf
, &ilen ) ) != 0 )

298 –
ªt
 );

300 
p
 = 
buf
;

302 if–*
p
++ !0 || *p++ !
RSA_CRYPT
 )

303 –
ERR_RSA_INVALID_PADDING
 );

305  *
p
 != 0 )

307 if–
p
 >
buf
 + 
ûí
 - 1 )

308 –
ERR_RSA_INVALID_PADDING
 );

309 
p
++;

311 
p
++;

313 if–*
ﬁí
 < 
ûí
 - ()(
p
 - 
buf
) )

314 –
ERR_RSA_INVALID_PADDING
 );

316 *
ﬁí
 = 
ûí
 - ()(
p
 - 
buf
);

317 
	`mem˝y
–
ouçut
, 
p
, *
ﬁí
 );

320 
	}
}

325 
	$rß_pkcs1_sign
–
rß_c⁄ãxt
 *
˘x
, 
Æg_id
,

326 *
hash
, 
hashÀn
,

327 *
sig
, 
sigÀn
 )

329 
nb_∑d
;

330 *
p
 = 
sig
;

332 if–
sigÀn
 !
˘x
->
Àn
 || siglen < 16 )

333 –
ERR_RSA_BAD_INPUT_DATA
 );

335  
Æg_id
 )

337 
RSA_RAW
:

338 
nb_∑d
 = 
sigÀn
 - 3 - 
hashÀn
;

341 
RSA_MD2
:

342 
RSA_MD4
:

343 
RSA_MD5
:

344 
nb_∑d
 = 
sigÀn
 - 3 - 34;

347 
RSA_SHA1
:

348 
nb_∑d
 = 
sigÀn
 - 3 - 35;

352 –
ERR_RSA_BAD_INPUT_DATA
 );

355 if–
nb_∑d
 < 8 )

356 –
ERR_RSA_BAD_INPUT_DATA
 );

358 *
p
++ = 0;

359 *
p
++ = 
RSA_SIGN
;

361 
	`mem£t
–
p
, 0xFF, 
nb_∑d
 );

362 
p
 +
nb_∑d
;

363 *
p
++ = 0;

365  
Æg_id
 )

367 
RSA_RAW
:

368 
	`mem˝y
–
p
, 
hash
, 
hashÀn
 );

371 
RSA_MD2
:

372 
	`mem˝y
–
p
, 
ASN1_HASH_MDX
, 18 );

373 
	`mem˝y
–
p
 + 18, 
hash
, 16 );

374 
p
[13] = 2; ;

376 
RSA_MD4
:

377 
	`mem˝y
–
p
, 
ASN1_HASH_MDX
, 18 );

378 
	`mem˝y
–
p
 + 18, 
hash
, 16 );

379 
p
[13] = 4; ;

381 
RSA_MD5
:

382 
	`mem˝y
–
p
, 
ASN1_HASH_MDX
, 18 );

383 
	`mem˝y
–
p
 + 18, 
hash
, 16 );

384 
p
[13] = 5; ;

386 
RSA_SHA1
:

387 
	`mem˝y
–
p
, 
ASN1_HASH_SHA1
, 15 );

388 
	`mem˝y
–
p
 + 15, 
hash
, 20 );

392 –
ERR_RSA_BAD_INPUT_DATA
 );

395 –
	`rß_¥iv©e
–
˘x
, 
sig
, 
sigÀn
, sig, &siglen ) );

396 
	}
}

401 
	$rß_pkcs1_vîify
–
rß_c⁄ãxt
 *
˘x
, 
Æg_id
,

402 *
hash
, 
hashÀn
,

403 *
sig
, 
sigÀn
 )

405 
ªt
, 
Àn
;

406 *
p
, 
c
, 
buf
[512];

408 if–
sigÀn
 !
˘x
->
Àn
 || siglen < 16 || siglen > 512 )

409 –
ERR_RSA_BAD_INPUT_DATA
 );

411 if––
ªt
 = 
	`rß_public
–
˘x
, 
sig
, 
sigÀn
, 
buf
, &siglen ) ) != 0 )

412 –
ªt
 );

414 
p
 = 
buf
;

416 if–*
p
++ !0 || *p++ !
RSA_SIGN
 )

417 –
ERR_RSA_INVALID_PADDING
 );

419  *
p
 != 0 )

421 if–
p
 >
buf
 + 
sigÀn
 - 1 || *p != 0xFF )

422 –
ERR_RSA_INVALID_PADDING
 );

423 
p
++;

425 
p
++;

427 
Àn
 = 
sigÀn
 - ()–
p
 - 
buf
 );

429 if–
Àn
 == 34 )

431 
c
 = 
p
[13];

432 
p
[13] = 0;

434 if–
	`memcmp
–
p
, 
ASN1_HASH_MDX
, 18 ) != 0 )

435 –
ERR_RSA_VERIFY_FAILED
 );

437 if––
c
 =2 && 
Æg_id
 =
RSA_MD2
 ) ||

438 –
c
 =4 && 
Æg_id
 =
RSA_MD4
 ) ||

439 –
c
 =5 && 
Æg_id
 =
RSA_MD5
 ) )

441 if–
	`memcmp
–
p
 + 18, 
hash
, 16 ) == 0 )

444 –
ERR_RSA_VERIFY_FAILED
 );

448 if–
Àn
 =35 && 
Æg_id
 =
RSA_SHA1
 )

450 if–
	`memcmp
–
p
, 
ASN1_HASH_SHA1
, 15 ) == 0 &&

451 
	`memcmp
–
p
 + 15, 
hash
, 20 ) == 0 )

454 –
ERR_RSA_VERIFY_FAILED
 );

457 if–
Àn
 =
hashÀn
 && 
Æg_id
 =
RSA_RAW
 )

459 if–
	`memcmp
–
p
, 
hash
, 
hashÀn
 ) == 0 )

462 –
ERR_RSA_VERIFY_FAILED
 );

465 –
ERR_RSA_INVALID_PADDING
 );

466 
	}
}

471 
	$rß_‰ì
–
rß_c⁄ãxt
 *
˘x
 )

473 
	`mpi_‰ì
–&
˘x
->
N
, &˘x->
E
, &˘x->
D
,

474 &
˘x
->
P
, &˘x->
Q
, &˘x->
DP
,

475 &
˘x
->
DQ
, &˘x->
QP
, &˘x->
RN
,

476 &
˘x
->
RP
, &˘x->
RQ
, 
NULL
 );

477 
	}
}

481 
	#PTLEN
 24

	)

482 
	#CTLEN
 128

	)

487 
	$maö
 ( )

489 
Àn
;

490 
rß_c⁄ãxt
 
rß
;

491 
md5sum
[16];

492 
rß_∂aöãxt
[
PTLEN
];

493 
rß_de¸y±ed
[
PTLEN
];

494 
rß_cùhîãxt
[
CTLEN
];

496 
	`mem£t
–&
rß
, 0, (Ñsa ) );

498 
rß
.
Àn
 = 128;

500 
	`mpi_ªad
–&
rß
.
N
 , "9292758453063D803DD603D5E777D788" \

509 
	`mpi_ªad
–&
rß
.
E
 , "10001", 16 );

510 
	`mpi_ªad
–&
rß
.
D
 , "24BF6185468786FDD303083D25E64EFC" \

519 
	`mpi_ªad
–&
rß
.
P
 , "C36D0EB7FCD285223CFB5AABA5BDA3D8" \

523 
	`mpi_ªad
–&
rß
.
Q
 , "C000DF51A7C77AE8D7C7370C1FF55B69" \

528 
	`mpi_ªad
–&
rß
.
DP
, "C1ACF567564274FB07A0BBAD5D26E298" \

532 
	`mpi_ªad
–&
rß
.
DQ
, "4959CBF6F8FEF750AEE6977C155579C7" \

536 
	`mpi_ªad
–&
rß
.
QP
, "9AE7FBC99546432DF71896FC239EADAE" \

541 
	`¥ötf
( " RSA key validation: " );

543 if–
	`rß_check_pubkey
–&
rß
 ) != 0 ||

544 
	`rß_check_¥ivkey
–&
rß
 ) != 0 )

546 
	`¥ötf
( "failed\n" );

550 
	`¥ötf
( "passed\n PKCS#1Éncryption : " );

552 
	`mem˝y
–
rß_∂aöãxt
,

554 "\x11\x22\x33\x0A\x0B\x0C\xCC\xDD\xDD\xDD\xDD\xDD", 
PTLEN
 );

556 
Àn
 = 
CTLEN
;

557 if–
	`rß_pkcs1_í¸y±
–&
rß
, 
rß_∂aöãxt
, 
PTLEN
,

558 
rß_cùhîãxt
, &
Àn
 ) != 0 )

560 
	`¥ötf
( "failed\n" );

564 
	`¥ötf
( "passed\n PKCS#1 decryption : " );

566 
Àn
 = –
rß_de¸y±ed
 );

568 if–
	`rß_pkcs1_de¸y±
–&
rß
, 
rß_cùhîãxt
, 
CTLEN
,

569 
rß_de¸y±ed
, &
Àn
 ) != 0 ||

570 
	`memcmp
–
rß_de¸y±ed
, 
rß_∂aöãxt
, 
Àn
 ) != 0 )

572 
	`¥ötf
( "failed\n" );

576 
	`¥ötf
( "passed\n" );

579 
	`md5_csum
–
rß_∂aöãxt
, 
PTLEN
, 
md5sum
 );

581 if–
	`rß_pkcs1_sign
–&
rß
, 
RSA_MD5
, 
md5sum
, 16,

582 
rß_cùhîãxt
, 
CTLEN
 ) != 0 )

584 
	`¥ötf
( "failed\n" );

588 
	`¥ötf
( "passed\n PKCS#1 sig. verify: " );

590 if–
	`rß_pkcs1_vîify
–&
rß
, 
RSA_MD5
, 
md5sum
, 16,

591 
rß_cùhîãxt
, 
CTLEN
 ) != 0 )

593 
	`¥ötf
( "failed\n" );

597 
	`¥ötf
( "passed\n\n" );

600 
	`rß_‰ì
–&
rß
 );

602 
	}
}

	@serial.c

10 
	~<comm⁄.h
>

11 
	#GPHCON
 (*(vﬁ©ûê*)0x56000070)

	)

13 
	$£rül_öô
()

15 
S3C24X0_UART
 *c⁄° 
u¨t
 = (S3C24X0_UART *Ë
ELFIN_UART_BASE
;

18 
GPHCON
 = 0x0000aaaa;

21 
u¨t
->
ULCON
 &= 0XFFFFFF00;

22 
u¨t
->
ULCON
 |= 0X03;

25 
u¨t
->
UMCON
 = 0x0;

28 
u¨t
->
UFCON
 = 0x00;

29 
u¨t
->
UCON
 = 0x805;

37 
u¨t
->
UBRDIV
 = 0x1A;

38 
	}
}

40 
	$£rül_£nd_byã
(
c
)

42 
S3C24X0_UART
 *c⁄° 
u¨t
 = (S3C24X0_UART *Ë
ELFIN_UART_BASE
;

44 !(
u¨t
->
UTRSTAT
 & 0x2)) ;

46 
u¨t
->
UTXH
 = 
c
;

48 i‡(
c
 == '\n')

49 
	`£rül_£nd_byã
('\r');

50 
	}
}

52 
	$£rül_is_ªcv_íabÀ
()

54 
S3C24X0_UART
 *c⁄° 
u¨t
 = (S3C24X0_UART *Ë
ELFIN_UART_BASE
;

55  
u¨t
->
UTRSTAT
 & 0x1;

56 
	}
}

58 
	$£rül_ªcv_byã
()

60 
S3C24X0_UART
 *c⁄° 
u¨t
 = (S3C24X0_UART *Ë
ELFIN_UART_BASE
;

63 !(
u¨t
->
UTRSTAT
 & 0x1)) ;

65  
u¨t
->
URXH
 & 0xff;

66 
	}
}

68 
	$£rül_puts
(c⁄° *
s
)

70 *
s
)

72 
	`£rül_£nd_byã
(*
s
++);

74 
	}
}

	@xmodem.c

10 
	~<comm⁄.h
>

12 
	#XMODEM_SOH
 0x01

	)

13 
	#XMODEM_STX
 0x02

	)

14 
	#XMODEM_EOT
 0x04

	)

15 
	#XMODEM_ACK
 0x06

	)

16 
	#XMODEM_NAK
 0x15

	)

17 
	#XMODEM_CAN
 0x18

	)

18 
	#XMODEM_EOF
 0x1®

	)

20 
	#XMODEM_BLOCK_SIZE
 128

	)

22 
	$xmodem_waô
()

24 
˙t
 = 0;

26 !
	`£rül_is_ªcv_íabÀ
())

28 i‡(++
˙t
 >= 2000000)

30 
˙t
 = 0;

31 
	`£rül_£nd_byã
(
XMODEM_NAK
);

35 
	}
}

37 
	$xmodem_ªad_block
(
block_numbî
, *
buf
)

39 
c
, 
block_num
, 
check_sum
;

40 
i
;

42 
block_num
 = 
	`£rül_ªcv_byã
();

43 i‡(
block_num
 !
block_numbî
)

46 
block_num
 ^
	`£rül_ªcv_byã
();

47 i‡(
block_num
 != 0xff)

50 
check_sum
 = 0;

51 
i
 = 0; i < 
XMODEM_BLOCK_SIZE
; i++)

53 
c
 = 
	`£rül_ªcv_byã
();

54 *(
buf
++Ë
c
;

55 
check_sum
 +
c
;

58 
check_sum
 ^
	`£rül_ªcv_byã
();

59 i‡(
check_sum
)

62  
i
;

63 
	}
}

65 
	$xmodem_ªcv
(*
buf
)

67 
r
, 
ª˚ivög
 = 0;

68 
size
 = 0;

69 
c
, 
block_numbî
 = 1;

73 i‡(!
ª˚ivög
)

74 
	`xmodem_waô
();

76 
c
 = 
	`£rül_ªcv_byã
();

78 
c
)

80 
XMODEM_EOT
:

81 
	`£rül_£nd_byã
(
XMODEM_ACK
);

84 
˙t
 = 0;

85 i‡((
buf
[-1] =
XMODEM_EOF
) && (buf[-2] == XMODEM_EOF) && (buf[-3] == XMODEM_EOF))

87 
size
 && 
buf
[-
˙t
 - 1] =
XMODEM_EOF
)

88 
˙t
++;

91 
size
 -
˙t
;

92 
RECV_OK
;

94 
XMODEM_CAN
:

97 
XMODEM_SOH
:

98 
ª˚ivög
++;

99 
r
 = 
	`xmodem_ªad_block
(
block_numbî
, 
buf
);

100 i‡(
r
 < 0)

102 
	`£rül_£nd_byã
(
XMODEM_NAK
);

106 
block_numbî
++;

107 
size
 +
r
;

108 
buf
 +
r
;

109 
	`£rül_£nd_byã
(
XMODEM_ACK
);

114 i‡(
ª˚ivög
)

119 
RECV_OK
:

120  
size
;

121 
	}
}

	@/usr/include/asm/posix_types.h

1 #ifde‡
__i386__


2 
	~"posix_ty≥s_32.h
"

4 
	~"posix_ty≥s_64.h
"

	@/usr/include/asm/types.h

1 #i‚de‡
_ASM_X86_TYPES_H


2 
	#_ASM_X86_TYPES_H


	)

4 
	#dma_addr_t
 
dma_addr_t


	)

6 
	~<asm-gíîic/ty≥s.h
>

	@/usr/include/linux/posix_types.h

1 #i‚de‡
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<löux/°ddef.h
>

21 #unde‡
__NFDBITS


22 
	#__NFDBITS
 (8 * ())

	)

24 #unde‡
__FD_SETSIZE


25 
	#__FD_SETSIZE
 1024

	)

27 #unde‡
__FDSET_LONGS


28 
	#__FDSET_LONGS
 (
__FD_SETSIZE
/
__NFDBITS
)

	)

30 #unde‡
__FDELT


31 
	#__FDELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

33 #unde‡
__FDMASK


34 
	#__FDMASK
(
d
Ë(1UL << ((dË% 
__NFDBITS
))

	)

37 
	mfds_bôs
 [
__FDSET_LONGS
];

38 } 
	t__kî√l_fd_£t
;

41 (*
	t__kî√l_sigh™dÀr_t
)();

44 
	t__kî√l_key_t
;

45 
	t__kî√l_mqd_t
;

47 
	~<asm/posix_ty≥s.h
>

	@/usr/include/linux/stddef.h

1 #i‚de‡
_LINUX_STDDEF_H


2 
	#_LINUX_STDDEF_H


	)

6 #unde‡
NULL


7 #i‡
deföed
(
__˝lu•lus
)

8 
	#NULL
 0

	)

10 
	#NULL
 ((*)0)

	)

	@/usr/include/linux/types.h

1 #i‚de‡
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty≥s.h
>

6 #i‚de‡
__ASSEMBLY__


8 
	~<löux/posix_ty≥s.h
>

16 #ifde‡
__CHECKER__


17 
	#__bôwi£__
 
	`__©åibuã__
((
bôwi£
))

	)

19 
	#__bôwi£__


	)

21 #ifde‡
__CHECK_ENDIAN__


22 
	#__bôwi£
 
__bôwi£__


	)

24 
	#__bôwi£


	)

27 
__u16
 
	t__bôwi£
 
	t__À16
;

28 
__u16
 
	t__bôwi£
 
	t__be16
;

29 
__u32
 
	t__bôwi£
 
	t__À32
;

30 
__u32
 
	t__bôwi£
 
	t__be32
;

31 
__u64
 
	t__bôwi£
 
	t__À64
;

32 
__u64
 
	t__bôwi£
 
	t__be64
;

34 
__u16
 
	t__bôwi£
 
	t__sum16
;

35 
__u32
 
	t__bôwi£
 
	t__wsum
;

	@/usr/include/asm-generic/types.h

1 #i‚de‡
_ASM_GENERIC_TYPES_H


2 
	#_ASM_GENERIC_TYPES_H


	)

7 
	~<asm-gíîic/öt-Œ64.h
>

9 #i‚de‡
__ASSEMBLY__


11 
	tumode_t
;

	@/usr/include/asm-generic/int-ll64.h

8 #i‚de‡
_ASM_GENERIC_INT_LL64_H


9 
	#_ASM_GENERIC_INT_LL64_H


	)

11 
	~<asm/bô•îl⁄g.h
>

13 #i‚de‡
__ASSEMBLY__


19 
__sig√d__
 
	t__s8
;

20 
	t__u8
;

22 
__sig√d__
 
	t__s16
;

23 
	t__u16
;

25 
__sig√d__
 
	t__s32
;

26 
	t__u32
;

28 #ifde‡
__GNUC__


29 
__exãnsi⁄__
 
__sig√d__
 
	t__s64
;

30 
__exãnsi⁄__
 
	t__u64
;

32 
__sig√d__
 
	t__s64
;

33 
	t__u64
;

	@/usr/include/asm/bitsperlong.h

1 #i‚de‡
__ASM_X86_BITSPERLONG_H


2 
	#__ASM_X86_BITSPERLONG_H


	)

4 #ifde‡
__x86_64__


5 
	#__BITS_PER_LONG
 64

	)

7 
	#__BITS_PER_LONG
 32

	)

10 
	~<asm-gíîic/bô•îl⁄g.h
>

	@/usr/include/asm-generic/bitsperlong.h

1 #i‚de‡
__ASM_GENERIC_BITS_PER_LONG


2 
	#__ASM_GENERIC_BITS_PER_LONG


	)

11 #i‚de‡
__BITS_PER_LONG


12 
	#__BITS_PER_LONG
 32

	)

	@
1
.
1
/usr/include
42
829
bignum.c
bootstrap.c
common.c
crc32.c
include/asm/errno.h
include/asm/hardware.h
include/asm/io.h
include/asm/posix_types.h
include/asm/sizes.h
include/asm/types.h
include/bignum.h
include/bn_asm.h
include/common.h
include/config.h
include/linux/bitops.h
include/linux/config.h
include/linux/ctype.h
include/linux/posix_types.h
include/linux/stddef.h
include/linux/string.h
include/linux/time.h
include/linux/types.h
include/nand.h
include/rsa.h
include/s3c2440.h
include/s3c24x0.h
interrupt.c
k9f2g08.c
led_beep.c
nand.h
rsa.c
serial.c
xmodem.c
/usr/include/asm/posix_types.h
/usr/include/asm/types.h
/usr/include/linux/posix_types.h
/usr/include/linux/stddef.h
/usr/include/linux/types.h
/usr/include/asm-generic/types.h
/usr/include/asm-generic/int-ll64.h
/usr/include/asm/bitsperlong.h
/usr/include/asm-generic/bitsperlong.h
